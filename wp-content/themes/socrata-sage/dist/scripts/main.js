if(function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Popper=e()}(this,function(){"use strict";function t(t){var e=!1,n=0,r=document.createElement("span");return new MutationObserver(function(){t(),e=!1}).observe(r,{attributes:!0}),function(){e||(e=!0,r.setAttribute("x-index",n),n+=1)}}function e(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},st))}}function n(t){var e={};return t&&"[object Function]"===e.toString.call(t)}function r(t,e){if(1!==t.nodeType)return[];var n=window.getComputedStyle(t,null);return e?n[e]:n}function a(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function i(t){if(!t||-1!==["HTML","BODY","#document"].indexOf(t.nodeName))return window.document.body;var e=r(t),n=e.overflow,o=e.overflowX;return/(auto|scroll)/.test(n+e.overflowY+o)?t:i(a(t))}function o(t){var e=t&&t.offsetParent,n=e&&e.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TD","TABLE"].indexOf(e.nodeName)&&"static"===r(e,"position")?o(e):e:window.document.documentElement}function s(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||o(t.firstElementChild)===t)}function l(t){return null!==t.parentNode?l(t.parentNode):t}function c(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return window.document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?t:e,a=n?e:t,i=document.createRange();i.setStart(r,0),i.setEnd(a,0);var u=i.commonAncestorContainer;if(t!==u&&e!==u||r.contains(a))return s(u)?u:o(u);var d=l(t);return d.host?c(d.host,e):c(t,l(e).host)}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",r=t.nodeName;if("BODY"===r||"HTML"===r){var a=window.document.documentElement;return(window.document.scrollingElement||a)[n]}return t[n]}function d(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=u(e,"top"),a=u(e,"left"),i=n?-1:1;return t.top+=r*i,t.bottom+=r*i,t.left+=a*i,t.right+=a*i,t}function f(t,e){var n="x"===e?"Left":"Top",r="Left"===n?"Right":"Bottom";return+t["border"+n+"Width"].split("px")[0]+ +t["border"+r+"Width"].split("px")[0]}function p(t,e,n,r){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],ft()?n["offset"+t]+r["margin"+("Height"===t?"Top":"Left")]+r["margin"+("Height"===t?"Bottom":"Right")]:0)}function h(){var t=window.document.body,e=window.document.documentElement,n=ft()&&window.getComputedStyle(e);return{height:p("Height",t,e,n),width:p("Width",t,e,n)}}function g(t){return vt({},t,{right:t.left+t.width,bottom:t.top+t.height})}function v(t){var e={};if(ft())try{e=t.getBoundingClientRect();var n=u(t,"top"),a=u(t,"left");e.top+=n,e.left+=a,e.bottom+=n,e.right+=a}catch(t){}else e=t.getBoundingClientRect();var i={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?h():{},s=o.width||t.clientWidth||i.right-i.left,l=o.height||t.clientHeight||i.bottom-i.top,c=t.offsetWidth-s,d=t.offsetHeight-l;if(c||d){var p=r(t);c-=f(p,"x"),d-=f(p,"y"),i.width-=c,i.height-=d}return g(i)}function m(t,e){var n=ft(),a="HTML"===e.nodeName,o=v(t),s=v(e),l=i(t),c=r(e),u=+c.borderTopWidth.split("px")[0],f=+c.borderLeftWidth.split("px")[0],p=g({top:o.top-s.top-u,left:o.left-s.left-f,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!n&&a){var h=+c.marginTop.split("px")[0],m=+c.marginLeft.split("px")[0];p.top-=u-h,p.bottom-=u-h,p.left-=f-m,p.right-=f-m,p.marginTop=h,p.marginLeft=m}return(n?e.contains(l):e===l&&"BODY"!==l.nodeName)&&(p=d(p,e)),p}function y(t){var e=window.document.documentElement,n=m(t,e),r=Math.max(e.clientWidth,window.innerWidth||0),a=Math.max(e.clientHeight,window.innerHeight||0),i=u(e),o=u(e,"left");return g({top:i-n.top+n.marginTop,left:o-n.left+n.marginLeft,width:r,height:a})}function b(t){var e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===r(t,"position")||b(a(t)))}function x(t,e,n,r){var o={top:0,left:0},s=c(t,e);if("viewport"===r)o=y(s);else{var l=void 0;"scrollParent"===r?(l=i(a(t)),"BODY"===l.nodeName&&(l=window.document.documentElement)):l="window"===r?window.document.documentElement:r;var u=m(l,s);if("HTML"!==l.nodeName||b(s))o=u;else{var d=h(),f=d.height,p=d.width;o.top+=u.top-u.marginTop,o.bottom=f+u.top,o.left+=u.left-u.marginLeft,o.right=p+u.left}}return o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function _(t){return t.width*t.height}function w(t,e,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var o=x(n,r,i,a),s={top:{width:o.width,height:e.top-o.top},right:{width:o.right-e.right,height:o.height},bottom:{width:o.width,height:o.bottom-e.bottom},left:{width:e.left-o.left,height:o.height}},l=Object.keys(s).map(function(t){return vt({key:t},s[t],{area:_(s[t])})}).sort(function(t,e){return e.area-t.area}),c=l.filter(function(t){var e=t.width,r=t.height;return e>=n.clientWidth&&r>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,d=t.split("-")[1];return u+(d?"-"+d:"")}function T(t,e,n){return m(n,c(e,n))}function k(t){var e=window.getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),r=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+r,height:t.offsetHeight+n}}function A(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function M(t,e,n){n=n.split("-")[0];var r=k(t),a={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),o=i?"top":"left",s=i?"left":"top",l=i?"height":"width",c=i?"width":"height";return a[o]=e[o]+e[l]/2-r[l]/2,a[s]=n===s?e[s]-r[c]:e[A(s)],a}function C(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function S(t,e,n){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===n});var r=C(t,function(t){return t[e]===n});return t.indexOf(r)}function E(t,e,r){return(void 0===r?t:t.slice(0,S(t,"name",r))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=t.function||t.fn;t.enabled&&n(r)&&(e.offsets.popper=g(e.offsets.popper),e.offsets.reference=g(e.offsets.reference),e=r(e,t))}),e}function L(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=T(this.state,this.popper,this.reference),t.placement=w(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.offsets.popper=M(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position="absolute",t=E(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function O(t,e){return t.some(function(t){var n=t.name;return t.enabled&&n===e})}function D(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<e.length-1;r++){var a=e[r],i=a?""+a+n:t;if(void 0!==window.document.body.style[i])return i}return null}function I(){return this.state.isDestroyed=!0,O(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[D("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function P(t,e,n,r){var a="BODY"===t.nodeName,o=a?window:t;o.addEventListener(e,n,{passive:!0}),a||P(i(o.parentNode),e,n,r),r.push(o)}function N(t,e,n,r){n.updateBound=r,window.addEventListener("resize",n.updateBound,{passive:!0});var a=i(t);return P(a,"scroll",n.updateBound,n.scrollParents),n.scrollElement=a,n.eventsEnabled=!0,n}function z(){this.state.eventsEnabled||(this.state=N(this.reference,this.options,this.state,this.scheduleUpdate))}function R(t,e){return window.removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}function F(){this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=R(this.reference,this.state))}function j(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function H(t,e){Object.keys(e).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&j(e[n])&&(r="px"),t.style[n]=e[n]+r})}function B(t,e){Object.keys(e).forEach(function(n){!1!==e[n]?t.setAttribute(n,e[n]):t.removeAttribute(n)})}function V(t){return H(t.instance.popper,t.styles),B(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&H(t.arrowElement,t.arrowStyles),t}function q(t,e,n,r,a){var i=T(a,e,t),o=w(n.placement,i,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",o),H(e,{position:"absolute"}),n}function $(t,e){var n=e.x,r=e.y,a=t.offsets.popper,i=C(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==i?i:e.gpuAcceleration,l=o(t.instance.popper),c=v(l),u={position:a.position},d={left:Math.floor(a.left),top:Math.floor(a.top),bottom:Math.floor(a.bottom),right:Math.floor(a.right)},f="bottom"===n?"top":"bottom",p="right"===r?"left":"right",h=D("transform"),g=void 0,m=void 0;if(m="bottom"===f?-c.height+d.bottom:d.top,g="right"===p?-c.width+d.right:d.left,s&&h)u[h]="translate3d("+g+"px, "+m+"px, 0)",u[f]=0,u[p]=0,u.willChange="transform";else{var y="bottom"===f?-1:1,b="right"===p?-1:1;u[f]=m*y,u[p]=g*b,u.willChange=f+", "+p}var x={"x-placement":t.placement};return t.attributes=vt({},x,t.attributes),t.styles=vt({},u,t.styles),t.arrowStyles=vt({},t.offsets.arrow,t.arrowStyles),t}function U(t,e,n){var r=C(t,function(t){return t.name===e}),a=!!r&&t.some(function(t){return t.name===n&&t.enabled&&t.order<r.order});if(!a){var i="`"+e+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return a}function W(t,e){if(!U(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if("string"==typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var a=t.placement.split("-")[0],i=t.offsets,o=i.popper,s=i.reference,l=-1!==["left","right"].indexOf(a),c=l?"height":"width",u=l?"Top":"Left",d=u.toLowerCase(),f=l?"left":"top",p=l?"bottom":"right",h=k(n)[c];s[p]-h<o[d]&&(t.offsets.popper[d]-=o[d]-(s[p]-h)),s[d]+h>o[p]&&(t.offsets.popper[d]+=s[d]+h-o[p]);var v=s[d]+s[c]/2-h/2,m=r(t.instance.popper,"margin"+u).replace("px",""),y=v-g(t.offsets.popper)[d]-m;return y=Math.max(Math.min(o[c]-h,y),0),t.arrowElement=n,t.offsets.arrow={},t.offsets.arrow[d]=Math.round(y),t.offsets.arrow[f]="",t}function G(t){return"end"===t?"start":"start"===t?"end":t}function Y(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=yt.indexOf(t),r=yt.slice(n+1).concat(yt.slice(0,n));return e?r.reverse():r}function X(t,e){if(O(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=x(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement),r=t.placement.split("-")[0],a=A(r),i=t.placement.split("-")[1]||"",o=[];switch(e.behavior){case bt.FLIP:o=[r,a];break;case bt.CLOCKWISE:o=Y(r);break;case bt.COUNTERCLOCKWISE:o=Y(r,!0);break;default:o=e.behavior}return o.forEach(function(s,l){if(r!==s||o.length===l+1)return t;r=t.placement.split("-")[0],a=A(r);var c=t.offsets.popper,u=t.offsets.reference,d=Math.floor,f="left"===r&&d(c.right)>d(u.left)||"right"===r&&d(c.left)<d(u.right)||"top"===r&&d(c.bottom)>d(u.top)||"bottom"===r&&d(c.top)<d(u.bottom),p=d(c.left)<d(n.left),h=d(c.right)>d(n.right),g=d(c.top)<d(n.top),v=d(c.bottom)>d(n.bottom),m="left"===r&&p||"right"===r&&h||"top"===r&&g||"bottom"===r&&v,y=-1!==["top","bottom"].indexOf(r),b=!!e.flipVariations&&(y&&"start"===i&&p||y&&"end"===i&&h||!y&&"start"===i&&g||!y&&"end"===i&&v);(f||m||b)&&(t.flipped=!0,(f||m)&&(r=o[l+1]),b&&(i=G(i)),t.placement=r+(i?"-"+i:""),t.offsets.popper=vt({},t.offsets.popper,M(t.instance.popper,t.offsets.reference,t.placement)),t=E(t.instance.modifiers,t,"flip"))}),t}function Z(t){var e=t.offsets,n=e.popper,r=e.reference,a=t.placement.split("-")[0],i=Math.floor,o=-1!==["top","bottom"].indexOf(a),s=o?"right":"bottom",l=o?"left":"top",c=o?"width":"height";return n[s]<i(r[l])&&(t.offsets.popper[l]=i(r[l])-n[c]),n[l]>i(r[s])&&(t.offsets.popper[l]=i(r[s])),t}function Q(t,e,n,r){var a=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+a[1],o=a[2];if(!i)return t;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=r}return g(s)[e]/100*i}if("vh"===o||"vw"===o){return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i}return i}function K(t,e,n,r){var a=[0,0],i=-1!==["right","left"].indexOf(r),o=t.split(/(\+|\-)/).map(function(t){return t.trim()}),s=o.indexOf(C(o,function(t){return-1!==t.search(/,|\s/)}));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==s?[o.slice(0,s).concat([o[s].split(l)[0]]),[o[s].split(l)[1]].concat(o.slice(s+1))]:[o];return c=c.map(function(t,r){var a=(1===r?!i:i)?"height":"width",o=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,o=!0,t):o?(t[t.length-1]+=e,o=!1,t):t.concat(e)},[]).map(function(t){return Q(t,a,e,n)})}),c.forEach(function(t,e){t.forEach(function(n,r){j(n)&&(a[e]+=n*("-"===t[r-1]?-1:1))})}),a}function J(t,e){var n=e.offset,r=t.placement,a=t.offsets,i=a.popper,o=a.reference,s=r.split("-")[0],l=void 0;return l=j(+n)?[+n,0]:K(n,i,o,s),"left"===s?(i.top+=l[0],i.left-=l[1]):"right"===s?(i.top+=l[0],i.left+=l[1]):"top"===s?(i.left+=l[0],i.top-=l[1]):"bottom"===s&&(i.left+=l[0],i.top+=l[1]),t.popper=i,t}function tt(t,e){var n=e.boundariesElement||o(t.instance.popper);t.instance.reference===n&&(n=o(n));var r=x(t.instance.popper,t.instance.reference,e.padding,n);e.boundaries=r;var a=e.priority,i=t.offsets.popper,s={primary:function(t){var n=i[t];return i[t]<r[t]&&!e.escapeWithReference&&(n=Math.max(i[t],r[t])),gt({},t,n)},secondary:function(t){var n="right"===t?"left":"top",a=i[n];return i[t]>r[t]&&!e.escapeWithReference&&(a=Math.min(i[n],r[t]-("right"===t?i.width:i.height))),gt({},n,a)}};return a.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";i=vt({},i,s[e](t))}),t.offsets.popper=i,t}function et(t){var e=t.placement,n=e.split("-")[0],r=e.split("-")[1];if(r){var a=t.offsets,i=a.reference,o=a.popper,s=-1!==["bottom","top"].indexOf(n),l=s?"left":"top",c=s?"width":"height",u={start:gt({},l,i[l]),end:gt({},l,i[l]+i[c]-o[c])};t.offsets.popper=vt({},o,u[r])}return t}function nt(t){if(!U(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=C(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}function rt(t){var e=t.placement,n=e.split("-")[0],r=t.offsets,a=r.popper,i=r.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return a[o?"left":"top"]=i[n]-(s?a[o?"width":"height"]:0),t.placement=A(e),t.offsets.popper=g(a),t}for(var at=["native code","[object MutationObserverConstructor]"],it="undefined"!=typeof window,ot=["Edge","Trident","Firefox"],st=0,lt=0;lt<ot.length;lt+=1)if(it&&navigator.userAgent.indexOf(ot[lt])>=0){st=1;break}var ct=it&&function(t){return at.some(function(e){return(t||"").toString().indexOf(e)>-1})}(window.MutationObserver),ut=ct?t:e,dt=void 0,ft=function(){return void 0===dt&&(dt=-1!==navigator.appVersion.indexOf("MSIE 10")),dt},pt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},ht=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),gt=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},vt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mt=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],yt=mt.slice(3),bt={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},xt={shift:{order:100,enabled:!0,fn:et},offset:{order:200,enabled:!0,fn:J,offset:0},preventOverflow:{order:300,enabled:!0,fn:tt,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:Z},arrow:{order:500,enabled:!0,fn:W,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:X,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:rt},hide:{order:800,enabled:!0,fn:nt},computeStyle:{order:850,enabled:!0,fn:$,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:V,onLoad:q,gpuAcceleration:void 0}},_t={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:xt},wt=function(){function t(e,r){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};pt(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(a.update)},this.update=ut(this.update.bind(this)),this.options=vt({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e.jquery?e[0]:e,this.popper=r.jquery?r[0]:r,this.options.modifiers={},Object.keys(vt({},t.Defaults.modifiers,i.modifiers)).forEach(function(e){a.options.modifiers[e]=vt({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return vt({name:t},a.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&n(t.onLoad)&&t.onLoad(a.reference,a.popper,a.options,t,a.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return ht(t,[{key:"update",value:function(){return L.call(this)}},{key:"destroy",value:function(){return I.call(this)}},{key:"enableEventListeners",value:function(){return z.call(this)}},{key:"disableEventListeners",value:function(){return F.call(this)}}]),t}();return wt.Utils=("undefined"!=typeof window?window:global).PopperUtils,wt.placements=mt,wt.Defaults=_t,wt}),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){var e=-1,n=-1,r=function(t){return parseFloat(t)||0},a=function(e){var n=t(e),a=null,i=[];return n.each(function(){var e=t(this),n=e.offset().top-r(e.css("margin-top")),o=i.length>0?i[i.length-1]:null;null===o?i.push(e):Math.floor(Math.abs(a-n))<=1?i[i.length-1]=o.add(e):i.push(e),a=n}),i},i=function(e){var n={byRow:!0,property:"height",target:null,remove:!1};return"object"==typeof e?t.extend(n,e):("boolean"==typeof e?n.byRow=e:"remove"===e&&(n.remove=!0),n)},o=t.fn.matchHeight=function(e){var n=i(e);if(n.remove){var r=this;return this.css(n.property,""),t.each(o._groups,function(t,e){e.elements=e.elements.not(r)}),this}return this.length<=1&&!n.target?this:(o._groups.push({elements:this,options:n}),o._apply(this,n),this)};o.version="0.7.2",o._groups=[],o._throttle=80,o._maintainScroll=!1,o._beforeUpdate=null,o._afterUpdate=null,o._rows=a,o._parse=r,o._parseOptions=i,o._apply=function(e,n){var s=i(n),l=t(e),c=[l],u=t(window).scrollTop(),d=t("html").outerHeight(!0),f=l.parents().filter(":hidden");return f.each(function(){var e=t(this);e.data("style-cache",e.attr("style"))}),f.css("display","block"),s.byRow&&!s.target&&(l.each(function(){var e=t(this),n=e.css("display");"inline-block"!==n&&"flex"!==n&&"inline-flex"!==n&&(n="block"),e.data("style-cache",e.attr("style")),e.css({display:n,"padding-top":"0","padding-bottom":"0","margin-top":"0","margin-bottom":"0","border-top-width":"0","border-bottom-width":"0",height:"100px",overflow:"hidden"})}),c=a(l),l.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||"")})),t.each(c,function(e,n){var a=t(n),i=0;if(s.target)i=s.target.outerHeight(!1);else{if(s.byRow&&a.length<=1)return void a.css(s.property,"");a.each(function(){var e=t(this),n=e.attr("style"),r=e.css("display");"inline-block"!==r&&"flex"!==r&&"inline-flex"!==r&&(r="block");var a={display:r};a[s.property]="",e.css(a),e.outerHeight(!1)>i&&(i=e.outerHeight(!1)),n?e.attr("style",n):e.css("display","")})}a.each(function(){var e=t(this),n=0;s.target&&e.is(s.target)||("border-box"!==e.css("box-sizing")&&(n+=r(e.css("border-top-width"))+r(e.css("border-bottom-width")),n+=r(e.css("padding-top"))+r(e.css("padding-bottom"))),e.css(s.property,i-n+"px"))})}),f.each(function(){var e=t(this);e.attr("style",e.data("style-cache")||null)}),o._maintainScroll&&t(window).scrollTop(u/d*t("html").outerHeight(!0)),this},o._applyDataApi=function(){var e={};t("[data-match-height], [data-mh]").each(function(){var n=t(this),r=n.attr("data-mh")||n.attr("data-match-height");e[r]=r in e?e[r].add(n):n}),t.each(e,function(){this.matchHeight(!0)})};var s=function(e){o._beforeUpdate&&o._beforeUpdate(e,o._groups),t.each(o._groups,function(){o._apply(this.elements,this.options)}),o._afterUpdate&&o._afterUpdate(e,o._groups)};o._update=function(r,a){if(a&&"resize"===a.type){var i=t(window).width();if(i===e)return;e=i}r?-1===n&&(n=setTimeout(function(){s(a),n=-1},o._throttle)):s(a)},t(o._applyDataApi);var l=t.fn.on?"on":"bind";t(window)[l]("load",function(t){o._update(!1,t)}),t(window)[l]("resize orientationchange",function(t){o._update(!0,t)})}),function(t){"use strict";function e(t,e,n){"addEventListener"in window?t.addEventListener(e,n,!1):"attachEvent"in window&&t.attachEvent("on"+e,n)}function n(t,e,n){"removeEventListener"in window?t.removeEventListener(e,n,!1):"detachEvent"in window&&t.detachEvent("on"+e,n)}function r(){var t,e=["moz","webkit","o","ms"];for(t=0;t<e.length&&!R;t+=1)R=window[e[t]+"RequestAnimationFrame"];R||s("setup","RequestAnimationFrame not supported")}function a(t){var e="Host page: "+t;return window.top!==window.self&&(e=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+t:"Nested host page: "+t),e}function i(t){return P+"["+a(t)+"]"}function o(t){return j[t]?j[t].log:O}function s(t,e){u("log",t,e,o(t))}function l(t,e){u("info",t,e,o(t))}function c(t,e){u("warn",t,e,!0)}function u(t,e,n,r){!0===r&&"object"==typeof window.console&&console[t](i(e),n)}function d(t){function r(){function t(){y(D),g(R),E("resizedCallback",D)}a("Height"),a("Width"),b(t,D,"init")}function a(t){var e=Number(j[R]["max"+t]),n=Number(j[R]["min"+t]),r=t.toLowerCase(),a=Number(D[r]);s(R,"Checking "+r+" is in range "+n+"-"+e),n>a&&(a=n,s(R,"Set "+r+" to min value")),a>e&&(a=e,s(R,"Set "+r+" to max value")),D[r]=""+a}function i(t){return O.substr(O.indexOf(":")+I+t)}function o(t){s(R,"MessageCallback passed: {iframe: "+D.iframe.id+", message: "+t+"}"),E("messageCallback",{iframe:D.iframe,message:JSON.parse(t)}),s(R,"--")}function u(){var t=document.body.getBoundingClientRect(),e=D.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:e.height,iframeWidth:e.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(e.top-t.top,10),offsetLeft:parseInt(e.left-t.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset})}function d(t,e){function n(){x("Send Page Info","pageInfo:"+u(),t,e)}T(n,32)}function w(){function t(t,e){function n(){j[a]?d(j[a].iframe,a):r()}["scroll","resize"].forEach(function(r){s(a,t+r+" listener for sendPageInfo"),e(window,r,n)})}function r(){t("Remove ",n)}var a=R;(function(){t("Add ",e)})(),j[a]&&(j[a].stopPageInfo=r)}function k(){j[R]&&j[R].stopPageInfo&&(j[R].stopPageInfo(),delete j[R].stopPageInfo)}function A(t){var e=t.getBoundingClientRect();return h(R),{x:Math.floor(Number(e.left)+Number(z.x)),y:Math.floor(Number(e.top)+Number(z.y))}}function M(t){var e=t?A(D.iframe):{x:0,y:0},n=function(){return{x:Number(D.width)+e.x,y:Number(D.height)+e.y}}();s(R,"Reposition requested from iFrame (offset x:"+e.x+" y:"+e.y+")"),window.top!==window.self?function(){window.parentIFrame?window.parentIFrame["scrollTo"+(t?"Offset":"")](n.x,n.y):c(R,"Unable to scroll to requested position, window.parentIFrame not found")}():function(){z=n,C(),s(R,"--")}()}function C(){!1!==E("scrollCallback",z)?g(R):v()}function S(t){var e=t.split("#")[1]||"",n=decodeURIComponent(e),r=document.getElementById(n)||document.getElementsByName(n)[0];r?function(){var t=A(r);s(R,"Moving to in page link (#"+e+") at x: "+t.x+" y: "+t.y),z={x:t.x,y:t.y},C(),s(R,"--")}():window.top!==window.self?function(){window.parentIFrame?window.parentIFrame.moveToAnchor(e):s(R,"In page link #"+e+" not found and window.parentIFrame not found")}():s(R,"In page link #"+e+" not found")}function E(t,e){return f(R,t,e)}function L(){j[R]&&(j[R].firstRun=!1)}var O=t.data,D={},R=null;"[iFrameResizerChild]Ready"===O?function(){for(var t in j)x("iFrame requested init",_(t),document.getElementById(t),t)}():function(){return P===(""+O).substr(0,N)&&O.substr(N).split(":")[0]in j}()?(D=function(){var t=O.substr(N).split(":");return{iframe:j[t[0]]&&j[t[0]].iframe,id:t[0],height:t[1],width:t[2],type:t[3]}}(),R=B=D.id,j[R]&&(j[R].loaded=!0),!function(){var t=D.type in{true:1,false:1,undefined:1};return t&&s(R,"Ignoring init message from meta parent page"),t}()&&function(t){var e=!0;return j[t]||(e=!1,c(D.type+" No settings for "+t+". Message was: "+O)),e}(R)&&(s(R,"Received: "+O),function(){var t=!0;return null===D.iframe&&(c(R,"IFrame ("+D.id+") not found"),t=!1),t}()&&function(){var e=t.origin,n=j[R]&&j[R].checkOrigin;if(n&&""+e!="null"&&!function(){return n.constructor===Array?function(){var t=0,r=!1;for(s(R,"Checking connection is from allowed list of origins: "+n);t<n.length;t++)if(n[t]===e){r=!0;break}return r}():function(){var t=j[R]&&j[R].remoteHost;return s(R,"Checking connection is from: "+t),e===t}()}())throw new Error("Unexpected message received from: "+e+" for "+D.iframe.id+". Message was: "+t.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function(){switch(j[R]&&j[R].firstRun&&L(),D.type){case"close":j[R].closeRequestCallback?f(R,"closeRequestCallback",j[R].iframe):p(D.iframe);break;case"message":o(i(6));break;case"scrollTo":M(!1);break;case"scrollToOffset":M(!0);break;case"pageInfo":d(j[R]&&j[R].iframe,R),w();break;case"pageInfoStop":k();break;case"inPageLink":S(i(9));break;case"reset":m(D);break;case"init":r(),E("initCallback",D.iframe);break;default:r()}}())):l(R,"Ignored: "+O)}function f(t,e,n){var r=null,a=null;if(j[t]){if("function"!=typeof(r=j[t][e]))throw new TypeError(e+" on iFrame["+t+"] is not a function");a=r(n)}return a}function p(t){var e=t.id;s(e,"Removing iFrame: "+e),t.parentNode&&t.parentNode.removeChild(t),f(e,"closedCallback",e),s(e,"--"),delete j[e]}function h(e){null===z&&(z={x:window.pageXOffset!==t?window.pageXOffset:document.documentElement.scrollLeft,y:window.pageYOffset!==t?window.pageYOffset:document.documentElement.scrollTop},s(e,"Get page position: "+z.x+","+z.y))}function g(t){null!==z&&(window.scrollTo(z.x,z.y),s(t,"Set page position: "+z.x+","+z.y),v())}function v(){z=null}function m(t){function e(){y(t),x("reset","reset",t.iframe,t.id)}s(t.id,"Size reset requested by "+("init"===t.type?"host page":"iFrame")),h(t.id),b(e,t,"reset")}function y(t){function e(e){t.iframe.style[e]=t[e]+"px",s(t.id,"IFrame ("+a+") "+e+" set to "+t[e]+"px")}function n(e){D||"0"!==t[e]||(D=!0,s(a,"Hidden iFrame detected, creating visibility listener"),k())}function r(t){e(t),n(t)}var a=t.iframe.id;j[a]&&(j[a].sizeHeight&&r("height"),j[a].sizeWidth&&r("width"))}function b(t,e,n){n!==e.type&&R?(s(e.id,"Requesting animation frame"),R(t)):t()}function x(t,e,n,r,a){function i(){var a=j[r]&&j[r].targetOrigin;s(r,"["+t+"] Sending msg to iframe["+r+"] ("+e+") targetOrigin: "+a),n.contentWindow.postMessage(P+e,a)}function o(){c(r,"["+t+"] IFrame("+r+") not found")}var l=!1;r=r||n.id,j[r]&&(function(){n&&"contentWindow"in n&&null!==n.contentWindow?i():o()}(),function(){function t(){!j[r]||j[r].loaded||l||(l=!0,c(r,"IFrame has not responded within "+j[r].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ingored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))}a&&j[r]&&j[r].warningTimeout&&(j[r].msgTimeout=setTimeout(t,j[r].warningTimeout))}())}function _(t){return t+":"+j[t].bodyMarginV1+":"+j[t].sizeWidth+":"+j[t].log+":"+j[t].interval+":"+j[t].enablePublicMethods+":"+j[t].autoResize+":"+j[t].bodyMargin+":"+j[t].heightCalculationMethod+":"+j[t].bodyBackground+":"+j[t].bodyPadding+":"+j[t].tolerance+":"+j[t].inPageLinks+":"+j[t].resizeFrom+":"+j[t].widthCalculationMethod}function w(n,r){function a(){var t=r&&r.id||V.id+L++;return null!==document.getElementById(t)&&(t+=L++),t}function i(){var t=j[d]&&j[d].firstRun,e=j[d]&&j[d].heightCalculationMethod in F;!t&&e&&m({iframe:n,height:0,width:0,type:"init"})}function o(t){if("object"!=typeof t)throw new TypeError("Options is not an object")}function l(t){for(var e in V)V.hasOwnProperty(e)&&(j[d][e]=t.hasOwnProperty(e)?t[e]:V[e])}function u(t){return""===t||"file://"===t?"*":t}var d=function(t){return B=t,""===t&&(n.id=t=a(),O=(r||{}).log,B=t,s(t,"Added missing iframe ID: "+t+" ("+n.src+")")),t}(n.id);!function(){return d in j&&"iFrameResizer"in n}()?(function(t){t=t||{},j[d]={firstRun:!0,iframe:n,remoteHost:n.src.split("/").slice(0,3).join("/")},o(t),l(t),j[d]&&(j[d].targetOrigin=!0===j[d].checkOrigin?u(j[d].remoteHost):"*")}(r),function(){switch(s(d,"IFrame scrolling "+(j[d]&&j[d].scrolling?"enabled":"disabled")+" for "+d),n.style.overflow=!1===(j[d]&&j[d].scrolling)?"hidden":"auto",j[d]&&j[d].scrolling){case!0:n.scrolling="yes";break;case!1:n.scrolling="no";break;default:n.scrolling=j[d]?j[d].scrolling:"no"}}(),function(){function t(t){1/0!==j[d][t]&&0!==j[d][t]&&(n.style[t]=j[d][t]+"px",s(d,"Set "+t+" = "+j[d][t]+"px"))}function e(t){if(j[d]["min"+t]>j[d]["max"+t])throw new Error("Value for min"+t+" can not be greater than max"+t)}e("Height"),e("Width"),t("maxHeight"),t("minHeight"),t("maxWidth"),t("minWidth")}(),function(){("number"==typeof(j[d]&&j[d].bodyMargin)||"0"===(j[d]&&j[d].bodyMargin))&&(j[d].bodyMarginV1=j[d].bodyMargin,j[d].bodyMargin=j[d].bodyMargin+"px")}(),function(r){function a(){x("iFrame.onload",r,n,t,!0),i()}e(n,"load",a),x("init",r,n,t,!0)}(_(d)),function(){Function.prototype.bind&&j[d]&&(j[d].iframe.iFrameResizer={close:p.bind(null,j[d].iframe),resize:x.bind(null,"Window resize","resize",j[d].iframe),moveToAnchor:function(t){x("Move to anchor","moveToAnchor:"+t,j[d].iframe,d)},sendMessage:function(t){t=JSON.stringify(t),x("Send Message","message:"+t,j[d].iframe,d)}})}()):c(d,"Ignored iFrame, already setup.")}function T(t,e){null===H&&(H=setTimeout(function(){H=null,t()},e))}function k(){
function t(){for(var t in j)!function(t){function e(e){return"0px"===(j[t]&&j[t].iframe.style[e])}j[t]&&function(t){return null!==t.offsetParent}(j[t].iframe)&&(e("height")||e("width"))&&x("Visibility change","resize",j[t].iframe,t)}(t)}function e(e){s("window","Mutation observed: "+e[0].target+" "+e[0].type),T(t,16)}var n=window.MutationObserver||window.WebKitMutationObserver;n&&function(){var t=document.querySelector("body"),r={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0};new n(e).observe(t,r)}()}function A(t){function e(){C("Window "+t,"resize")}s("window","Trigger event: "+t),T(e,16)}function M(){function t(){C("Tab Visable","resize")}"hidden"!==document.visibilityState&&(s("document","Trigger event: Visiblity change"),T(t,16))}function C(t,e){for(var n in j)(function(t){return j[t]&&"parent"===j[t].resizeFrom&&j[t].autoResize&&!j[t].firstRun})(n)&&x(t,e,document.getElementById(n),n)}function S(){e(window,"message",d),e(window,"resize",function(){A("resize")}),e(document,"visibilitychange",M),e(document,"-webkit-visibilitychange",M),e(window,"focusin",function(){A("focus")}),e(window,"focus",function(){A("focus")})}function E(){function e(t,e){e&&(function(){if(!e.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==e.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+e.tagName+">")}(),w(e,t),a.push(e))}function n(t){t&&t.enablePublicMethods&&c("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}var a;return r(),S(),function(r,i){switch(a=[],n(r),typeof i){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(i||"iframe"),e.bind(t,r));break;case"object":e(r,i);break;default:throw new TypeError("Unexpected data type ("+typeof i+")")}return a}}if("undefined"!=typeof window){var L=0,O=!1,D=!1,I="message".length,P="[iFrameSizer]",N=P.length,z=null,R=window.requestAnimationFrame,F={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},j={},H=null,B="Host Page",V={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){c("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};window.jQuery&&function(t){t.fn?t.fn.iFrameResize||(t.fn.iFrameResize=function(t){function e(e,n){w(n,t)}return this.filter("iframe").each(e).end()}):l("","Unable to bind to jQuery, it is not fully loaded.")}(window.jQuery),"function"==typeof define&&define.amd?define([],E):"object"==typeof module&&"object"==typeof module.exports?module.exports=E():window.iFrameResize=window.iFrameResize||E()}}(),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e=window.Slick||{};(e=function(){var e=0;return function(n,r){var a,i=this;i.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(n),appendDots:t(n),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,n){return t('<button type="button" />').text(n+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},i.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},t.extend(i,i.initials),i.activeBreakpoint=null,i.animType=null,i.animProp=null,i.breakpoints=[],i.breakpointSettings=[],i.cssTransitions=!1,i.focussed=!1,i.interrupted=!1,i.hidden="hidden",i.paused=!0,i.positionProp=null,i.respondTo=null,i.rowCount=1,i.shouldClick=!0,i.$slider=t(n),i.$slidesCache=null,i.transformType=null,i.transitionType=null,i.visibilityChange="visibilitychange",i.windowWidth=0,i.windowTimer=null,a=t(n).data("slick")||{},i.options=t.extend({},i.defaults,r,a),i.currentSlide=i.options.initialSlide,i.originalSettings=i.options,void 0!==document.mozHidden?(i.hidden="mozHidden",i.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(i.hidden="webkitHidden",i.visibilityChange="webkitvisibilitychange"),i.autoPlay=t.proxy(i.autoPlay,i),i.autoPlayClear=t.proxy(i.autoPlayClear,i),i.autoPlayIterator=t.proxy(i.autoPlayIterator,i),i.changeSlide=t.proxy(i.changeSlide,i),i.clickHandler=t.proxy(i.clickHandler,i),i.selectHandler=t.proxy(i.selectHandler,i),i.setPosition=t.proxy(i.setPosition,i),i.swipeHandler=t.proxy(i.swipeHandler,i),i.dragHandler=t.proxy(i.dragHandler,i),i.keyHandler=t.proxy(i.keyHandler,i),i.instanceUid=e++,i.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,i.registerBreakpoints(),i.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,n,r){var a=this;if("boolean"==typeof n)r=n,n=null;else if(n<0||n>=a.slideCount)return!1;a.unload(),"number"==typeof n?0===n&&0===a.$slides.length?t(e).appendTo(a.$slideTrack):r?t(e).insertBefore(a.$slides.eq(n)):t(e).insertAfter(a.$slides.eq(n)):!0===r?t(e).prependTo(a.$slideTrack):t(e).appendTo(a.$slideTrack),a.$slides=a.$slideTrack.children(this.options.slide),a.$slideTrack.children(this.options.slide).detach(),a.$slideTrack.append(a.$slides),a.$slides.each(function(e,n){t(n).attr("data-slick-index",e)}),a.$slidesCache=a.$slides,a.reinit()},e.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},e.prototype.animateSlide=function(e,n){var r={},a=this;a.animateHeight(),!0===a.options.rtl&&!1===a.options.vertical&&(e=-e),!1===a.transformsEnabled?!1===a.options.vertical?a.$slideTrack.animate({left:e},a.options.speed,a.options.easing,n):a.$slideTrack.animate({top:e},a.options.speed,a.options.easing,n):!1===a.cssTransitions?(!0===a.options.rtl&&(a.currentLeft=-a.currentLeft),t({animStart:a.currentLeft}).animate({animStart:e},{duration:a.options.speed,easing:a.options.easing,step:function(t){t=Math.ceil(t),!1===a.options.vertical?(r[a.animType]="translate("+t+"px, 0px)",a.$slideTrack.css(r)):(r[a.animType]="translate(0px,"+t+"px)",a.$slideTrack.css(r))},complete:function(){n&&n.call()}})):(a.applyTransition(),e=Math.ceil(e),!1===a.options.vertical?r[a.animType]="translate3d("+e+"px, 0px, 0px)":r[a.animType]="translate3d(0px,"+e+"px, 0px)",a.$slideTrack.css(r),n&&setTimeout(function(){a.disableTransition(),n.call()},a.options.speed))},e.prototype.getNavTarget=function(){var e=this,n=e.options.asNavFor;return n&&null!==n&&(n=t(n).not(e.$slider)),n},e.prototype.asNavFor=function(e){var n=this.getNavTarget();null!==n&&"object"==typeof n&&n.each(function(){var n=t(this).slick("getSlick");n.unslicked||n.slideHandler(e,!0)})},e.prototype.applyTransition=function(t){var e=this,n={};!1===e.options.fade?n[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:n[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},e.prototype.autoPlay=function(){var t=this;t.autoPlayClear(),t.slideCount>t.options.slidesToShow&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){var t=this;t.autoPlayTimer&&clearInterval(t.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0&&(t.direction=1))),t.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=t(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=t(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,n,r=this;if(!0===r.options.dots){for(r.$slider.addClass("slick-dotted"),n=t("<ul />").addClass(r.options.dotsClass),e=0;e<=r.getDotCount();e+=1)n.append(t("<li />").append(r.options.customPaging.call(this,r,e)));r.$dots=n.appendTo(r.options.appendDots),r.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,n){t(n).attr("data-slick-index",e).data("originalStyling",t(n).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var t,e,n,r,a,i,o,s=this;if(r=document.createDocumentFragment(),i=s.$slider.children(),s.options.rows>1){for(o=s.options.slidesPerRow*s.options.rows,a=Math.ceil(i.length/o),t=0;t<a;t++){var l=document.createElement("div");for(e=0;e<s.options.rows;e++){var c=document.createElement("div");for(n=0;n<s.options.slidesPerRow;n++){var u=t*o+(e*s.options.slidesPerRow+n);i.get(u)&&c.appendChild(i.get(u))}l.appendChild(c)}r.appendChild(l)}s.$slider.empty().append(r),s.$slider.children().children().children().css({width:100/s.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,n){var r,a,i,o=this,s=!1,l=o.$slider.width(),c=window.innerWidth||t(window).width();if("window"===o.respondTo?i=c:"slider"===o.respondTo?i=l:"min"===o.respondTo&&(i=Math.min(c,l)),o.options.responsive&&o.options.responsive.length&&null!==o.options.responsive){a=null;for(r in o.breakpoints)o.breakpoints.hasOwnProperty(r)&&(!1===o.originalSettings.mobileFirst?i<o.breakpoints[r]&&(a=o.breakpoints[r]):i>o.breakpoints[r]&&(a=o.breakpoints[r]));null!==a?null!==o.activeBreakpoint?(a!==o.activeBreakpoint||n)&&(o.activeBreakpoint=a,"unslick"===o.breakpointSettings[a]?o.unslick(a):(o.options=t.extend({},o.originalSettings,o.breakpointSettings[a]),!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e)),s=a):(o.activeBreakpoint=a,"unslick"===o.breakpointSettings[a]?o.unslick(a):(o.options=t.extend({},o.originalSettings,o.breakpointSettings[a]),!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e)),s=a):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e),s=a),e||!1===s||o.$slider.trigger("breakpoint",[o,s])}},e.prototype.changeSlide=function(e,n){var r,a,i,o=this,s=t(e.currentTarget);switch(s.is("a")&&e.preventDefault(),s.is("li")||(s=s.closest("li")),i=o.slideCount%o.options.slidesToScroll!=0,r=i?0:(o.slideCount-o.currentSlide)%o.options.slidesToScroll,e.data.message){case"previous":a=0===r?o.options.slidesToScroll:o.options.slidesToShow-r,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide-a,!1,n);break;case"next":a=0===r?o.options.slidesToScroll:r,o.slideCount>o.options.slidesToShow&&o.slideHandler(o.currentSlide+a,!1,n);break;case"index":var l=0===e.data.index?0:e.data.index||s.index()*o.options.slidesToScroll;o.slideHandler(o.checkNavigable(l),!1,n),s.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(t){var e,n;if(e=this.getNavigableIndexes(),n=0,t>e[e.length-1])t=e[e.length-1];else for(var r in e){if(t<e[r]){t=n;break}n=e[r]}return t},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(t("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",t.proxy(e.interrupt,e,!0)).off("mouseleave.slick",t.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),t(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().off("click.slick",e.selectHandler),t(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),t(window).off("resize.slick.slick-"+e.instanceUid,e.resize),t("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),t(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var t,e=this;e.options.rows>1&&((t=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(t))},e.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},e.prototype.destroy=function(e){var n=this;n.autoPlayClear(),n.touchObject={},n.cleanUpEvents(),t(".slick-cloned",n.$slider).detach(),n.$dots&&n.$dots.remove(),n.$prevArrow&&n.$prevArrow.length&&(n.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.prevArrow)&&n.$prevArrow.remove()),n.$nextArrow&&n.$nextArrow.length&&(n.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),n.htmlExpr.test(n.options.nextArrow)&&n.$nextArrow.remove()),n.$slides&&(n.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){t(this).attr("style",t(this).data("originalStyling"))}),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.detach(),n.$list.detach(),n.$slider.append(n.$slides)),n.cleanUpRows(),n.$slider.removeClass("slick-slider"),n.$slider.removeClass("slick-initialized"),n.$slider.removeClass("slick-dotted"),n.unslicked=!0,e||n.$slider.trigger("destroy",[n])},e.prototype.disableTransition=function(t){var e=this,n={};n[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(n):e.$slides.eq(t).css(n)},e.prototype.fadeSlide=function(t,e){var n=this;!1===n.cssTransitions?(n.$slides.eq(t).css({zIndex:n.options.zIndex}),n.$slides.eq(t).animate({opacity:1},n.options.speed,n.options.easing,e)):(n.applyTransition(t),n.$slides.eq(t).css({opacity:1,zIndex:n.options.zIndex}),e&&setTimeout(function(){n.disableTransition(t),e.call()},n.options.speed))},e.prototype.fadeSlideOut=function(t){var e=this;!1===e.cssTransitions?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(n){n.stopImmediatePropagation();var r=t(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=r.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var t=this,e=0,n=0,r=0;if(!0===t.options.infinite)if(t.slideCount<=t.options.slidesToShow)++r;else for(;e<t.slideCount;)++r,e=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)r=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++r,e=n+t.options.slidesToScroll,n+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else r=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return r-1},e.prototype.getLeft=function(t){var e,n,r,a,i=this,o=0;return i.slideOffset=0,n=i.$slides.first().outerHeight(!0),!0===i.options.infinite?(i.slideCount>i.options.slidesToShow&&(i.slideOffset=i.slideWidth*i.options.slidesToShow*-1,a=-1,!0===i.options.vertical&&!0===i.options.centerMode&&(2===i.options.slidesToShow?a=-1.5:1===i.options.slidesToShow&&(a=-2)),o=n*i.options.slidesToShow*a),i.slideCount%i.options.slidesToScroll!=0&&t+i.options.slidesToScroll>i.slideCount&&i.slideCount>i.options.slidesToShow&&(t>i.slideCount?(i.slideOffset=(i.options.slidesToShow-(t-i.slideCount))*i.slideWidth*-1,o=(i.options.slidesToShow-(t-i.slideCount))*n*-1):(i.slideOffset=i.slideCount%i.options.slidesToScroll*i.slideWidth*-1,o=i.slideCount%i.options.slidesToScroll*n*-1))):t+i.options.slidesToShow>i.slideCount&&(i.slideOffset=(t+i.options.slidesToShow-i.slideCount)*i.slideWidth,o=(t+i.options.slidesToShow-i.slideCount)*n),i.slideCount<=i.options.slidesToShow&&(i.slideOffset=0,o=0),!0===i.options.centerMode&&i.slideCount<=i.options.slidesToShow?i.slideOffset=i.slideWidth*Math.floor(i.options.slidesToShow)/2-i.slideWidth*i.slideCount/2:!0===i.options.centerMode&&!0===i.options.infinite?i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)-i.slideWidth:!0===i.options.centerMode&&(i.slideOffset=0,i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)),e=!1===i.options.vertical?t*i.slideWidth*-1+i.slideOffset:t*n*-1+o,!0===i.options.variableWidth&&(r=i.slideCount<=i.options.slidesToShow||!1===i.options.infinite?i.$slideTrack.children(".slick-slide").eq(t):i.$slideTrack.children(".slick-slide").eq(t+i.options.slidesToShow),e=!0===i.options.rtl?r[0]?-1*(i.$slideTrack.width()-r[0].offsetLeft-r.width()):0:r[0]?-1*r[0].offsetLeft:0,!0===i.options.centerMode&&(r=i.slideCount<=i.options.slidesToShow||!1===i.options.infinite?i.$slideTrack.children(".slick-slide").eq(t):i.$slideTrack.children(".slick-slide").eq(t+i.options.slidesToShow+1),e=!0===i.options.rtl?r[0]?-1*(i.$slideTrack.width()-r[0].offsetLeft-r.width()):0:r[0]?-1*r[0].offsetLeft:0,e+=(i.$list.width()-r.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(t){return this.options[t]},e.prototype.getNavigableIndexes=function(){var t,e=this,n=0,r=0,a=[];for(!1===e.options.infinite?t=e.slideCount:(n=-1*e.options.slidesToScroll,r=-1*e.options.slidesToScroll,t=2*e.slideCount);n<t;)a.push(n),n=r+e.options.slidesToScroll,r+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return a},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,n,r=this;return n=!0===r.options.centerMode?r.slideWidth*Math.floor(r.options.slidesToShow/2):0,!0===r.options.swipeToSlide?(r.$slideTrack.find(".slick-slide").each(function(a,i){if(i.offsetLeft-n+t(i).outerWidth()/2>-1*r.swipeLeft)return e=i,!1}),Math.abs(t(e).attr("data-slick-index")-r.currentSlide)||1):r.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},e.prototype.init=function(e){var n=this;t(n.$slider).hasClass("slick-initialized")||(t(n.$slider).addClass("slick-initialized"),n.buildRows(),n.buildOut(),n.setProps(),n.startLoad(),n.loadSlider(),n.initializeEvents(),n.updateArrows(),n.updateDots(),n.checkResponsive(!0),n.focusHandler()),e&&n.$slider.trigger("init",[n]),!0===n.options.accessibility&&n.initADA(),n.options.autoplay&&(n.paused=!1,n.autoPlay())},e.prototype.initADA=function(){var e=this,n=Math.ceil(e.slideCount/e.options.slidesToShow),r=e.getNavigableIndexes().filter(function(t){return t>=0&&t<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(n){var a=r.indexOf(n);t(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+n,tabindex:-1}),-1!==a&&t(this).attr({"aria-describedby":"slick-slide-control"+e.instanceUid+a})}),e.$dots.attr("role","tablist").find("li").each(function(a){var i=r[a];t(this).attr({role:"presentation"}),t(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+a,"aria-controls":"slick-slide"+e.instanceUid+i,"aria-label":a+1+" of "+n,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var a=e.currentSlide,i=a+e.options.slidesToShow;a<i;a++)e.$slides.eq(a).attr("tabindex",0);e.activateADA()},e.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow.on("keydown.slick",t.keyHandler),t.$nextArrow.on("keydown.slick",t.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&(t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&t("li",e.$dots).on("mouseenter.slick",t.proxy(e.interrupt,e,!0)).on("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",t.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),t(document).on(e.visibilityChange,t.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,t.proxy(e.orientationChange,e)),t(window).on("resize.slick.slick-"+e.instanceUid,t.proxy(e.resize,e)),t("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(e.setPosition)},e.prototype.initUI=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.show()},e.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){function e(e){t("img[data-lazy]",e).each(function(){var e=t(this),n=t(this).attr("data-lazy"),r=t(this).attr("data-srcset"),a=t(this).attr("data-sizes")||i.$slider.attr("data-sizes"),o=document.createElement("img");o.onload=function(){e.animate({opacity:0},100,function(){r&&(e.attr("srcset",r),a&&e.attr("sizes",a)),e.attr("src",n).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),i.$slider.trigger("lazyLoaded",[i,e,n])})},o.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),i.$slider.trigger("lazyLoadError",[i,e,n])},o.src=n})}var n,r,a,i=this;if(!0===i.options.centerMode?!0===i.options.infinite?a=(r=i.currentSlide+(i.options.slidesToShow/2+1))+i.options.slidesToShow+2:(r=Math.max(0,i.currentSlide-(i.options.slidesToShow/2+1)),a=i.options.slidesToShow/2+1+2+i.currentSlide):(r=i.options.infinite?i.options.slidesToShow+i.currentSlide:i.currentSlide,a=Math.ceil(r+i.options.slidesToShow),!0===i.options.fade&&(r>0&&r--,a<=i.slideCount&&a++)),n=i.$slider.find(".slick-slide").slice(r,a),"anticipated"===i.options.lazyLoad)for(var o=r-1,s=a,l=i.$slider.find(".slick-slide"),c=0;c<i.options.slidesToScroll;c++)o<0&&(o=i.slideCount-1),n=(n=n.add(l.eq(o))).add(l.eq(s)),o--,s++;e(n),i.slideCount<=i.options.slidesToShow?e(i.$slider.find(".slick-slide")):i.currentSlide>=i.slideCount-i.options.slidesToShow?e(i.$slider.find(".slick-cloned").slice(0,i.options.slidesToShow)):0===i.currentSlide&&e(i.$slider.find(".slick-cloned").slice(-1*i.options.slidesToShow))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){var t=this;t.checkResponsive(),t.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){var t=this;t.autoPlayClear(),t.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var t=this;t.autoPlay(),t.options.autoplay=!0,t.paused=!1,t.focussed=!1,t.interrupted=!1},e.prototype.postSlide=function(e){var n=this;n.unslicked||(n.$slider.trigger("afterChange",[n,e]),n.animating=!1,n.slideCount>n.options.slidesToShow&&n.setPosition(),n.swipeLeft=null,n.options.autoplay&&n.autoPlay(),!0===n.options.accessibility&&(n.initADA(),n.options.focusOnChange&&t(n.$slides.get(n.currentSlide)).attr("tabindex",0).focus()))},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(t){t.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var n,r,a,i,o,s=this,l=t("img[data-lazy]",s.$slider);l.length?(n=l.first(),r=n.attr("data-lazy"),a=n.attr("data-srcset"),i=n.attr("data-sizes")||s.$slider.attr("data-sizes"),(o=document.createElement("img")).onload=function(){a&&(n.attr("srcset",a),i&&n.attr("sizes",i)),n.attr("src",r).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===s.options.adaptiveHeight&&s.setPosition(),s.$slider.trigger("lazyLoaded",[s,n,r]),s.progressiveLazyLoad()},o.onerror=function(){e<3?setTimeout(function(){s.progressiveLazyLoad(e+1)},500):(n.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,n,r]),s.progressiveLazyLoad())},o.src=r):s.$slider.trigger("allImagesLoaded",[s])},e.prototype.refresh=function(e){var n,r,a=this;r=a.slideCount-a.options.slidesToShow,!a.options.infinite&&a.currentSlide>r&&(a.currentSlide=r),a.slideCount<=a.options.slidesToShow&&(a.currentSlide=0),n=a.currentSlide,a.destroy(!0),t.extend(a,a.initials,{currentSlide:n}),a.init(),e||a.changeSlide({data:{message:"index",index:n}},!1)},e.prototype.registerBreakpoints=function(){var e,n,r,a=this,i=a.options.responsive||null;if("array"===t.type(i)&&i.length){a.respondTo=a.options.respondTo||"window";for(e in i)if(r=a.breakpoints.length-1,i.hasOwnProperty(e)){for(n=i[e].breakpoint;r>=0;)a.breakpoints[r]&&a.breakpoints[r]===n&&a.breakpoints.splice(r,1),r--;a.breakpoints.push(n),a.breakpointSettings[n]=i[e].settings}a.breakpoints.sort(function(t,e){return a.options.mobileFirst?t-e:e-t})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(t,e,n){var r=this;if(t="boolean"==typeof t?!0===(e=t)?0:r.slideCount-1:!0===e?--t:t,r.slideCount<1||t<0||t>r.slideCount-1)return!1;r.unload(),!0===n?r.$slideTrack.children().remove():r.$slideTrack.children(this.options.slide).eq(t).remove(),r.$slides=r.$slideTrack.children(this.options.slide),r.$slideTrack.children(this.options.slide).detach(),r.$slideTrack.append(r.$slides),r.$slidesCache=r.$slides,r.reinit()},e.prototype.setCSS=function(t){var e,n,r=this,a={};!0===r.options.rtl&&(t=-t),e="left"==r.positionProp?Math.ceil(t)+"px":"0px",n="top"==r.positionProp?Math.ceil(t)+"px":"0px",a[r.positionProp]=t,!1===r.transformsEnabled?r.$slideTrack.css(a):(a={},!1===r.cssTransitions?(a[r.animType]="translate("+e+", "+n+")",
r.$slideTrack.css(a)):(a[r.animType]="translate3d("+e+", "+n+", 0px)",r.$slideTrack.css(a)))},e.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},e.prototype.setFade=function(){var e,n=this;n.$slides.each(function(r,a){e=n.slideWidth*r*-1,!0===n.options.rtl?t(a).css({position:"relative",right:e,top:0,zIndex:n.options.zIndex-2,opacity:0}):t(a).css({position:"relative",left:e,top:0,zIndex:n.options.zIndex-2,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:n.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,n,r,a,i,o=this,s=!1;if("object"===t.type(arguments[0])?(r=arguments[0],s=arguments[1],i="multiple"):"string"===t.type(arguments[0])&&(r=arguments[0],a=arguments[1],s=arguments[2],"responsive"===arguments[0]&&"array"===t.type(arguments[1])?i="responsive":void 0!==arguments[1]&&(i="single")),"single"===i)o.options[r]=a;else if("multiple"===i)t.each(r,function(t,e){o.options[t]=e});else if("responsive"===i)for(n in a)if("array"!==t.type(o.options.responsive))o.options.responsive=[a[n]];else{for(e=o.options.responsive.length-1;e>=0;)o.options.responsive[e].breakpoint===a[n].breakpoint&&o.options.responsive.splice(e,1),e--;o.options.responsive.push(a[n])}s&&(o.unload(),o.reinit())},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),!1===t.options.fade?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},e.prototype.setSlideClasses=function(t){var e,n,r,a,i=this;if(n=i.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),i.$slides.eq(t).addClass("slick-current"),!0===i.options.centerMode){var o=i.options.slidesToShow%2==0?1:0;e=Math.floor(i.options.slidesToShow/2),!0===i.options.infinite&&(t>=e&&t<=i.slideCount-1-e?i.$slides.slice(t-e+o,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(r=i.options.slidesToShow+t,n.slice(r-e+1+o,r+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?n.eq(n.length-1-i.options.slidesToShow).addClass("slick-center"):t===i.slideCount-1&&n.eq(i.options.slidesToShow).addClass("slick-center")),i.$slides.eq(t).addClass("slick-center")}else t>=0&&t<=i.slideCount-i.options.slidesToShow?i.$slides.slice(t,t+i.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):n.length<=i.options.slidesToShow?n.addClass("slick-active").attr("aria-hidden","false"):(a=i.slideCount%i.options.slidesToShow,r=!0===i.options.infinite?i.options.slidesToShow+t:t,i.options.slidesToShow==i.options.slidesToScroll&&i.slideCount-t<i.options.slidesToShow?n.slice(r-(i.options.slidesToShow-a),r+a).addClass("slick-active").attr("aria-hidden","false"):n.slice(r,r+i.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==i.options.lazyLoad&&"anticipated"!==i.options.lazyLoad||i.lazyLoad()},e.prototype.setupInfinite=function(){var e,n,r,a=this;if(!0===a.options.fade&&(a.options.centerMode=!1),!0===a.options.infinite&&!1===a.options.fade&&(n=null,a.slideCount>a.options.slidesToShow)){for(r=!0===a.options.centerMode?a.options.slidesToShow+1:a.options.slidesToShow,e=a.slideCount;e>a.slideCount-r;e-=1)n=e-1,t(a.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n-a.slideCount).prependTo(a.$slideTrack).addClass("slick-cloned");for(e=0;e<r+a.slideCount;e+=1)n=e,t(a.$slides[n]).clone(!0).attr("id","").attr("data-slick-index",n+a.slideCount).appendTo(a.$slideTrack).addClass("slick-cloned");a.$slideTrack.find(".slick-cloned").find("[id]").each(function(){t(this).attr("id","")})}},e.prototype.interrupt=function(t){var e=this;t||e.autoPlay(),e.interrupted=t},e.prototype.selectHandler=function(e){var n=this,r=t(e.target).is(".slick-slide")?t(e.target):t(e.target).parents(".slick-slide"),a=parseInt(r.attr("data-slick-index"));a||(a=0),n.slideCount<=n.options.slidesToShow?n.slideHandler(a,!1,!0):n.slideHandler(a)},e.prototype.slideHandler=function(t,e,n){var r,a,i,o,s,l=null,c=this;if(e=e||!1,!(!0===c.animating&&!0===c.options.waitForAnimate||!0===c.options.fade&&c.currentSlide===t))if(!1===e&&c.asNavFor(t),r=t,l=c.getLeft(r),o=c.getLeft(c.currentSlide),c.currentLeft=null===c.swipeLeft?o:c.swipeLeft,!1===c.options.infinite&&!1===c.options.centerMode&&(t<0||t>c.getDotCount()*c.options.slidesToScroll))!1===c.options.fade&&(r=c.currentSlide,!0!==n?c.animateSlide(o,function(){c.postSlide(r)}):c.postSlide(r));else if(!1===c.options.infinite&&!0===c.options.centerMode&&(t<0||t>c.slideCount-c.options.slidesToScroll))!1===c.options.fade&&(r=c.currentSlide,!0!==n?c.animateSlide(o,function(){c.postSlide(r)}):c.postSlide(r));else{if(c.options.autoplay&&clearInterval(c.autoPlayTimer),a=r<0?c.slideCount%c.options.slidesToScroll!=0?c.slideCount-c.slideCount%c.options.slidesToScroll:c.slideCount+r:r>=c.slideCount?c.slideCount%c.options.slidesToScroll!=0?0:r-c.slideCount:r,c.animating=!0,c.$slider.trigger("beforeChange",[c,c.currentSlide,a]),i=c.currentSlide,c.currentSlide=a,c.setSlideClasses(c.currentSlide),c.options.asNavFor&&(s=(s=c.getNavTarget()).slick("getSlick")).slideCount<=s.options.slidesToShow&&s.setSlideClasses(c.currentSlide),c.updateDots(),c.updateArrows(),!0===c.options.fade)return!0!==n?(c.fadeSlideOut(i),c.fadeSlide(a,function(){c.postSlide(a)})):c.postSlide(a),void c.animateHeight();!0!==n?c.animateSlide(l,function(){c.postSlide(a)}):c.postSlide(a)}},e.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,n,r,a=this;return t=a.touchObject.startX-a.touchObject.curX,e=a.touchObject.startY-a.touchObject.curY,n=Math.atan2(e,t),(r=Math.round(180*n/Math.PI))<0&&(r=360-Math.abs(r)),r<=45&&r>=0?!1===a.options.rtl?"left":"right":r<=360&&r>=315?!1===a.options.rtl?"left":"right":r>=135&&r<=225?!1===a.options.rtl?"right":"left":!0===a.options.verticalSwiping?r>=35&&r<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(t){var e,n,r=this;if(r.dragging=!1,r.swiping=!1,r.scrolling)return r.scrolling=!1,!1;if(r.interrupted=!1,r.shouldClick=!(r.touchObject.swipeLength>10),void 0===r.touchObject.curX)return!1;if(!0===r.touchObject.edgeHit&&r.$slider.trigger("edge",[r,r.swipeDirection()]),r.touchObject.swipeLength>=r.touchObject.minSwipe){switch(n=r.swipeDirection()){case"left":case"down":e=r.options.swipeToSlide?r.checkNavigable(r.currentSlide+r.getSlideCount()):r.currentSlide+r.getSlideCount(),r.currentDirection=0;break;case"right":case"up":e=r.options.swipeToSlide?r.checkNavigable(r.currentSlide-r.getSlideCount()):r.currentSlide-r.getSlideCount(),r.currentDirection=1}"vertical"!=n&&(r.slideHandler(e),r.touchObject={},r.$slider.trigger("swipe",[r,n]))}else r.touchObject.startX!==r.touchObject.curX&&(r.slideHandler(r.currentSlide),r.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,n,r,a,i,o,s=this;return i=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!s.dragging||s.scrolling||i&&1!==i.length)&&(e=s.getLeft(s.currentSlide),s.touchObject.curX=void 0!==i?i[0].pageX:t.clientX,s.touchObject.curY=void 0!==i?i[0].pageY:t.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),o=Math.round(Math.sqrt(Math.pow(s.touchObject.curY-s.touchObject.startY,2))),!s.options.verticalSwiping&&!s.swiping&&o>4?(s.scrolling=!0,!1):(!0===s.options.verticalSwiping&&(s.touchObject.swipeLength=o),n=s.swipeDirection(),void 0!==t.originalEvent&&s.touchObject.swipeLength>4&&(s.swiping=!0,t.preventDefault()),a=(!1===s.options.rtl?1:-1)*(s.touchObject.curX>s.touchObject.startX?1:-1),!0===s.options.verticalSwiping&&(a=s.touchObject.curY>s.touchObject.startY?1:-1),r=s.touchObject.swipeLength,s.touchObject.edgeHit=!1,!1===s.options.infinite&&(0===s.currentSlide&&"right"===n||s.currentSlide>=s.getDotCount()&&"left"===n)&&(r=s.touchObject.swipeLength*s.options.edgeFriction,s.touchObject.edgeHit=!0),!1===s.options.vertical?s.swipeLeft=e+r*a:s.swipeLeft=e+r*(s.$list.height()/s.listWidth)*a,!0===s.options.verticalSwiping&&(s.swipeLeft=e+r*a),!0!==s.options.fade&&!1!==s.options.touchMove&&(!0===s.animating?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft))))},e.prototype.swipeStart=function(t){var e,n=this;if(n.interrupted=!0,1!==n.touchObject.fingerCount||n.slideCount<=n.options.slidesToShow)return n.touchObject={},!1;void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),n.touchObject.startX=n.touchObject.curX=void 0!==e?e.pageX:t.clientX,n.touchObject.startY=n.touchObject.curY=void 0!==e?e.pageY:t.clientY,n.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},e.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").end(),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var t=this;t.options.autoplay&&(document[t.hidden]?t.interrupted=!0:t.interrupted=!1)},t.fn.slick=function(){var t,n,r=this,a=arguments[0],i=Array.prototype.slice.call(arguments,1),o=r.length;for(t=0;t<o;t++)if("object"==typeof a||void 0===a?r[t].slick=new e(r[t],a):n=r[t].slick[a].apply(r[t].slick,i),void 0!==n)return n;return r}}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Plotly=t()}}(function(){var t;return function t(e,n,r){function a(o,s){if(!n[o]){if(!e[o]){var l="function"==typeof require&&require;if(!s&&l)return l(o,!0);if(i)return i(o,!0);var c=new Error("Cannot find module '"+o+"'");throw c.code="MODULE_NOT_FOUND",c}var u=n[o]={exports:{}};e[o][0].call(u.exports,function(t){return a(e[o][1][t]||t)},u,u.exports,t,e,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)a(r[o]);return a}({1:[function(t,e,n){"use strict";var r=t("../src/lib"),a={"X,X div":"font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;","X input,X button":"font-family:'Open Sans', verdana, arial, sans-serif;","X input:focus,X button:focus":"outline:none;","X a":"text-decoration:none;","X a:hover":"text-decoration:none;","X .crisp":"shape-rendering:crispEdges;","X .user-select-none":"-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;","X svg":"overflow:hidden;","X svg a":"fill:#447adb;","X svg a:hover":"fill:#3c6dc5;","X .main-svg":"position:absolute;top:0;left:0;pointer-events:none;","X .main-svg .draglayer":"pointer-events:all;","X .cursor-default":"cursor:default;","X .cursor-pointer":"cursor:pointer;","X .cursor-crosshair":"cursor:crosshair;","X .cursor-move":"cursor:move;","X .cursor-col-resize":"cursor:col-resize;","X .cursor-row-resize":"cursor:row-resize;","X .cursor-ns-resize":"cursor:ns-resize;","X .cursor-ew-resize":"cursor:ew-resize;","X .cursor-sw-resize":"cursor:sw-resize;","X .cursor-s-resize":"cursor:s-resize;","X .cursor-se-resize":"cursor:se-resize;","X .cursor-w-resize":"cursor:w-resize;","X .cursor-e-resize":"cursor:e-resize;","X .cursor-nw-resize":"cursor:nw-resize;","X .cursor-n-resize":"cursor:n-resize;","X .cursor-ne-resize":"cursor:ne-resize;","X .modebar":"position:absolute;top:2px;right:2px;z-index:1001;background:rgba(255,255,255,0.7);","X .modebar--hover":"opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;","X:hover .modebar--hover":"opacity:1;","X .modebar-group":"float:left;display:inline-block;box-sizing:border-box;margin-left:8px;position:relative;vertical-align:middle;white-space:nowrap;","X .modebar-group:first-child":"margin-left:0px;","X .modebar-btn":"position:relative;font-size:16px;padding:3px 4px;cursor:pointer;line-height:normal;box-sizing:border-box;","X .modebar-btn svg":"position:relative;top:2px;","X .modebar-btn path":"fill:rgba(0,31,95,0.3);","X .modebar-btn.active path,X .modebar-btn:hover path":"fill:rgba(0,22,72,0.5);","X .modebar-btn.modebar-btn--logo":"padding:3px 1px;","X .modebar-btn.modebar-btn--logo path":"fill:#447adb !important;","X [data-title]:before,X [data-title]:after":"position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;","X [data-title]:hover:before,X [data-title]:hover:after":"display:block;opacity:1;","X [data-title]:before":"content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;","X [data-title]:after":"content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;","X .select-outline":"fill:none;stroke-width:1;shape-rendering:crispEdges;","X .select-outline-1":"stroke:white;","X .select-outline-2":"stroke:black;stroke-dasharray:2px 2px;",Y:"font-family:'Open Sans';position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;","Y p":"margin:0;","Y .notifier-note":"min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;","Y .notifier-close":"color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;","Y .notifier-close:hover":"color:#444;text-decoration:none;cursor:pointer;"};for(var i in a){var o=i.replace(/^,/," ,").replace(/X/g,".js-plotly-plot .plotly").replace(/Y/g,".plotly-notifier");r.addStyleRule(o,a[i])}},{"../src/lib":149}],2:[function(t,e,n){"use strict";e.exports={undo:{width:857.1,path:"m857 350q0-87-34-166t-91-137-137-92-166-34q-96 0-183 41t-147 114q-4 6-4 13t5 11l76 77q6 5 14 5 9-1 13-7 41-53 100-82t126-29q58 0 110 23t92 61 61 91 22 111-22 111-61 91-92 61-110 23q-55 0-105-20t-90-57l77-77q17-16 8-38-10-23-33-23h-250q-15 0-25 11t-11 25v250q0 24 22 33 22 10 39-8l72-72q60 57 137 88t159 31q87 0 166-34t137-92 91-137 34-166z",ascent:850,descent:-150},home:{width:928.6,path:"m786 296v-267q0-15-11-26t-25-10h-214v214h-143v-214h-214q-15 0-25 10t-11 26v267q0 1 0 2t0 2l321 264 321-264q1-1 1-4z m124 39l-34-41q-5-5-12-6h-2q-7 0-12 3l-386 322-386-322q-7-4-13-4-7 2-12 7l-35 41q-4 5-3 13t6 12l401 334q18 15 42 15t43-15l136-114v109q0 8 5 13t13 5h107q8 0 13-5t5-13v-227l122-102q5-5 6-12t-4-13z",ascent:850,descent:-150},"camera-retro":{width:1e3,path:"m518 386q0 8-5 13t-13 5q-37 0-63-27t-26-63q0-8 5-13t13-5 12 5 5 13q0 23 16 38t38 16q8 0 13 5t5 13z m125-73q0-59-42-101t-101-42-101 42-42 101 42 101 101 42 101-42 42-101z m-572-320h858v71h-858v-71z m643 320q0 89-62 152t-152 62-151-62-63-152 63-151 151-63 152 63 62 151z m-571 358h214v72h-214v-72z m-72-107h858v143h-462l-36-71h-360v-72z m929 143v-714q0-30-21-51t-50-21h-858q-29 0-50 21t-21 51v714q0 30 21 51t50 21h858q29 0 50-21t21-51z",ascent:850,descent:-150},zoombox:{width:1e3,path:"m1000-25l-250 251c40 63 63 138 63 218 0 224-182 406-407 406-224 0-406-182-406-406s183-406 407-406c80 0 155 22 218 62l250-250 125 125z m-812 250l0 438 437 0 0-438-437 0z m62 375l313 0 0-312-313 0 0 312z",ascent:850,descent:-150},pan:{width:1e3,path:"m1000 350l-187 188 0-125-250 0 0 250 125 0-188 187-187-187 125 0 0-250-250 0 0 125-188-188 186-187 0 125 252 0 0-250-125 0 187-188 188 188-125 0 0 250 250 0 0-126 187 188z",ascent:850,descent:-150},zoom_plus:{width:1e3,path:"m1 787l0-875 875 0 0 875-875 0z m687-500l-187 0 0-187-125 0 0 187-188 0 0 125 188 0 0 187 125 0 0-187 187 0 0-125z",ascent:850,descent:-150},zoom_minus:{width:1e3,path:"m0 788l0-876 875 0 0 876-875 0z m688-500l-500 0 0 125 500 0 0-125z",ascent:850,descent:-150},autoscale:{width:1e3,path:"m250 850l-187 0-63 0 0-62 0-188 63 0 0 188 187 0 0 62z m688 0l-188 0 0-62 188 0 0-188 62 0 0 188 0 62-62 0z m-875-938l0 188-63 0 0-188 0-62 63 0 187 0 0 62-187 0z m875 188l0-188-188 0 0-62 188 0 62 0 0 62 0 188-62 0z m-125 188l-1 0-93-94-156 156 156 156 92-93 2 0 0 250-250 0 0-2 93-92-156-156-156 156 94 92 0 2-250 0 0-250 0 0 93 93 157-156-157-156-93 94 0 0 0-250 250 0 0 0-94 93 156 157 156-157-93-93 0 0 250 0 0 250z",ascent:850,descent:-150},tooltip_basic:{width:1500,path:"m375 725l0 0-375-375 375-374 0-1 1125 0 0 750-1125 0z",ascent:850,descent:-150},tooltip_compare:{width:1125,path:"m187 786l0 2-187-188 188-187 0 0 937 0 0 373-938 0z m0-499l0 1-187-188 188-188 0 0 937 0 0 376-938-1z",ascent:850,descent:-150},plotlylogo:{width:1542,path:"m0-10h182v-140h-182v140z m228 146h183v-286h-183v286z m225 714h182v-1000h-182v1000z m225-285h182v-715h-182v715z m225 142h183v-857h-183v857z m231-428h182v-429h-182v429z m225-291h183v-138h-183v138z",ascent:850,descent:-150},"z-axis":{width:1e3,path:"m833 5l-17 108v41l-130-65 130-66c0 0 0 38 0 39 0-1 36-14 39-25 4-15-6-22-16-30-15-12-39-16-56-20-90-22-187-23-279-23-261 0-341 34-353 59 3 60 228 110 228 110-140-8-351-35-351-116 0-120 293-142 474-142 155 0 477 22 477 142 0 50-74 79-163 96z m-374 94c-58-5-99-21-99-40 0-24 65-43 144-43 79 0 143 19 143 43 0 19-42 34-98 40v216h87l-132 135-133-135h88v-216z m167 515h-136v1c16 16 31 34 46 52l84 109v54h-230v-71h124v-1c-16-17-28-32-44-51l-89-114v-51h245v72z",ascent:850,descent:-150},"3d_rotate":{width:1e3,path:"m922 660c-5 4-9 7-14 11-359 263-580-31-580-31l-102 28 58-400c0 1 1 1 2 2 118 108 351 249 351 249s-62 27-100 42c88 83 222 183 347 122 16-8 30-17 44-27-2 1-4 2-6 4z m36-329c0 0 64 229-88 296-62 27-124 14-175-11 157-78 225-208 249-266 8-19 11-31 11-31 2 5 6 15 11 32-5-13-8-20-8-20z m-775-239c70-31 117-50 198-32-121 80-199 346-199 346l-96-15-58-12c0 0 55-226 155-287z m603 133l-317-139c0 0 4-4 19-14 7-5 24-15 24-15s-177-147-389 4c235-287 536-112 536-112l31-22 100 299-4-1z m-298-153c6-4 14-9 24-15 0 0-17 10-24 15z",ascent:850,descent:-150},camera:{width:1e3,path:"m500 450c-83 0-150-67-150-150 0-83 67-150 150-150 83 0 150 67 150 150 0 83-67 150-150 150z m400 150h-120c-16 0-34 13-39 29l-31 93c-6 15-23 28-40 28h-340c-16 0-34-13-39-28l-31-94c-6-15-23-28-40-28h-120c-55 0-100-45-100-100v-450c0-55 45-100 100-100h800c55 0 100 45 100 100v450c0 55-45 100-100 100z m-400-550c-138 0-250 112-250 250 0 138 112 250 250 250 138 0 250-112 250-250 0-138-112-250-250-250z m365 380c-19 0-35 16-35 35 0 19 16 35 35 35 19 0 35-16 35-35 0-19-16-35-35-35z",ascent:850,descent:-150},movie:{width:1e3,path:"m938 413l-188-125c0 37-17 71-44 94 64 38 107 107 107 187 0 121-98 219-219 219-121 0-219-98-219-219 0-61 25-117 66-156h-115c30 33 49 76 49 125 0 103-84 187-187 187s-188-84-188-187c0-57 26-107 65-141-38-22-65-62-65-109v-250c0-70 56-126 125-126h500c69 0 125 56 125 126l188-126c34 0 62 28 62 63v375c0 35-28 63-62 63z m-750 0c-69 0-125 56-125 125s56 125 125 125 125-56 125-125-56-125-125-125z m406-1c-87 0-157 70-157 157 0 86 70 156 157 156s156-70 156-156-70-157-156-157z",ascent:850,descent:-150},question:{width:857.1,path:"m500 82v107q0 8-5 13t-13 5h-107q-8 0-13-5t-5-13v-107q0-8 5-13t13-5h107q8 0 13 5t5 13z m143 375q0 49-31 91t-77 65-95 23q-136 0-207-119-9-14 4-24l74-55q4-4 10-4 9 0 14 7 30 38 48 51 19 14 48 14 27 0 48-15t21-33q0-21-11-34t-38-25q-35-16-65-48t-29-70v-20q0-8 5-13t13-5h107q8 0 13 5t5 13q0 10 12 27t30 28q18 10 28 16t25 19 25 27 16 34 7 45z m214-107q0-117-57-215t-156-156-215-58-216 58-155 156-58 215 58 215 155 156 216 58 215-58 156-156 57-215z",ascent:850,descent:-150},disk:{width:857.1,path:"m214-7h429v214h-429v-214z m500 0h72v500q0 8-6 21t-11 20l-157 156q-5 6-19 12t-22 5v-232q0-22-15-38t-38-16h-322q-22 0-37 16t-16 38v232h-72v-714h72v232q0 22 16 38t37 16h465q22 0 38-16t15-38v-232z m-214 518v178q0 8-5 13t-13 5h-107q-7 0-13-5t-5-13v-178q0-8 5-13t13-5h107q7 0 13 5t5 13z m357-18v-518q0-22-15-38t-38-16h-750q-23 0-38 16t-16 38v750q0 22 16 38t38 16h517q23 0 50-12t42-26l156-157q16-15 27-42t11-49z",ascent:850,descent:-150},lasso:{width:1031,path:"m1018 538c-36 207-290 336-568 286-277-48-473-256-436-463 10-57 36-108 76-151-13-66 11-137 68-183 34-28 75-41 114-42l-55-70 0 0c-2-1-3-2-4-3-10-14-8-34 5-45 14-11 34-8 45 4 1 1 2 3 2 5l0 0 113 140c16 11 31 24 45 40 4 3 6 7 8 11 48-3 100 0 151 9 278 48 473 255 436 462z m-624-379c-80 14-149 48-197 96 42 42 109 47 156 9 33-26 47-66 41-105z m-187-74c-19 16-33 37-39 60 50-32 109-55 174-68-42-25-95-24-135 8z m360 75c-34-7-69-9-102-8 8 62-16 128-68 170-73 59-175 54-244-5-9 20-16 40-20 61-28 159 121 317 333 354s407-60 434-217c28-159-121-318-333-355z",ascent:850,descent:-150},selectbox:{width:1e3,path:"m0 850l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-285l0-143 143 0 0 143-143 0z m857 0l0-143 143 0 0 143-143 0z m-857-286l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z m285 0l0-143 143 0 0 143-143 0z m286 0l0-143 143 0 0 143-143 0z",ascent:850,descent:-150},spikeline:{width:1e3,path:"M512 409c0-57-46-104-103-104-57 0-104 47-104 104 0 57 47 103 104 103 57 0 103-46 103-103z m-327-39l92 0 0 92-92 0z m-185 0l92 0 0 92-92 0z m370-186l92 0 0 93-92 0z m0-184l92 0 0 92-92 0z",ascent:850,descent:-150}}},{}],3:[function(t,e,n){"use strict";e.exports=t("../src/traces/bar")},{"../src/traces/bar":239}],4:[function(t,e,n){"use strict";e.exports=t("../src/core")},{"../src/core":136}],5:[function(t,e,n){"use strict";var r=t("./core");r.register([t("./bar"),t("./pie")]),e.exports=r},{"./bar":3,"./core":4,"./pie":6}],6:[function(t,e,n){"use strict";e.exports=t("../src/traces/pie")},{"../src/traces/pie":253}],7:[function(e,n,r){!function(){function e(t){return t&&(t.ownerDocument||t.document||t).documentElement}function r(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function a(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function i(t){return null===t?NaN:+t}function o(t){return!isNaN(t)}function s(t){return{left:function(e,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)<0?r=i+1:a=i}return r},right:function(e,n,r,a){for(arguments.length<3&&(r=0),arguments.length<4&&(a=e.length);r<a;){var i=r+a>>>1;t(e[i],n)>0?a=i:r=i+1}return r}}}function l(t){return t.length}function c(t){for(var e=1;t*e%1;)e*=10;return e}function u(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function d(){this._=Object.create(null)}function f(t){return(t+="")===_o||t[0]===wo?wo+t:t}function p(t){return(t+="")[0]===wo?t.slice(1):t}function h(t){return f(t)in this._}function g(t){return(t=f(t))in this._&&delete this._[t]}function v(){var t=[];for(var e in this._)t.push(p(e));return t}function m(){var t=0;for(var e in this._)++t;return t}function y(){for(var t in this._)return!1;return!0}function b(){this._=Object.create(null)}function x(t){return t}function _(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function w(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=To.length;n<r;++n){var a=To[n]+e;if(a in t)return a}}function T(){}function k(){}function A(t){function e(){for(var e,r=n,a=-1,i=r.length;++a<i;)(e=r[a].on)&&e.apply(this,arguments);return t}var n=[],r=new d;return e.on=function(e,a){var i,o=r.get(e);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,i=n.indexOf(o)).concat(n.slice(i+1)),r.remove(e)),a&&n.push(r.set(e,{on:a})),t)},e}function M(){co.event.preventDefault()}function C(){for(var t,e=co.event;t=e.sourceEvent;)e=t;return e}function S(t){for(var e=new k,n=0,r=arguments.length;++n<r;)e[arguments[n]]=A(e);return e.of=function(n,r){return function(a){try{var i=a.sourceEvent=co.event;a.target=t,co.event=a,e[a.type].apply(n,r)}finally{co.event=i}}},e}function E(t){return Ao(t,Eo),t}function L(t){return"function"==typeof t?t:function(){return Mo(t,this)}}function O(t){return"function"==typeof t?t:function(){return Co(t,this)}}function D(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function a(){this.setAttribute(t,e)}function i(){this.setAttributeNS(t.space,t.local,e)}function o(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=co.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:o:t.local?i:a}function I(t){return t.trim().replace(/\s+/g," ")}function P(t){return new RegExp("(?:^|\\s+)"+co.requote(t)+"(?:\\s+|$)","g")}function N(t){return(t+"").trim().split(/^|\s+/)}function z(t,e){function n(){for(var n=-1;++n<a;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<a;)t[n](this,r)}t=N(t).map(R);var a=t.length;return"function"==typeof e?r:n}function R(t){var e=P(t);return function(n,r){if(a=n.classList)return r?a.add(t):a.remove(t);var a=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(a)||n.setAttribute("class",I(a+" "+t))):n.setAttribute("class",I(a.replace(e," ")))}}function F(t,e,n){function r(){this.style.removeProperty(t)}function a(){this.style.setProperty(t,e,n)}function i(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?i:a}function j(t,e){function n(){delete this[t]}function r(){this[t]=e}function a(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?a:r}function H(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===Lo&&e.documentElement.namespaceURI===Lo?e.createElement(t):e.createElementNS(n,t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=co.ns.qualify(t)).local?n:e}function B(){var t=this.parentNode;t&&t.removeChild(this)}function V(t){return{__data__:t}}function q(t){return function(){return So(this,t)}}function $(t){return arguments.length||(t=a),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function U(t,e){for(var n=0,r=t.length;n<r;n++)for(var a,i=t[n],o=0,s=i.length;o<s;o++)(a=i[o])&&e(a,o,n);return t}function W(t){return Ao(t,Do),t}function G(t){var e,n;return function(r,a,i){var o,s=t[i].update,l=s.length;for(i!=n&&(n=i,e=0),a>=e&&(e=a+1);!(o=s[e])&&++e<l;);return o}}function Y(t,e,n){function r(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}function a(){var a=l(e,fo(arguments));r.call(this),this.addEventListener(t,this[o]=a,a.$=n),a._=e}function i(){var e,n=new RegExp("^__on([^.]+)"+co.requote(t)+"$");for(var r in this)if(e=r.match(n)){var a=this[r];this.removeEventListener(e[1],a,a.$),delete this[r]}}var o="__on"+t,s=t.indexOf("."),l=X;s>0&&(t=t.slice(0,s));var c=Io.get(t);return c&&(t=c,l=Z),s?e?a:r:e?T:i}function X(t,e){return function(n){var r=co.event;co.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{co.event=r}}}function Z(t,e){var n=X(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function Q(t){
var n=".dragsuppress-"+ ++No,a="click"+n,i=co.select(r(t)).on("touchmove"+n,M).on("dragstart"+n,M).on("selectstart"+n,M);if(null==Po&&(Po=!("onselectstart"in t)&&w(t.style,"userSelect")),Po){var o=e(t).style,s=o[Po];o[Po]="none"}return function(t){if(i.on(n,null),Po&&(o[Po]=s),t){var e=function(){i.on(a,null)};i.on(a,function(){M(),e()},!0),setTimeout(e,0)}}}function K(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var a=n.createSVGPoint();if(zo<0){var i=r(t);if(i.scrollX||i.scrollY){n=co.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var o=n[0][0].getScreenCTM();zo=!(o.f||o.e),n.remove()}}return zo?(a.x=e.pageX,a.y=e.pageY):(a.x=e.clientX,a.y=e.clientY),a=a.matrixTransform(t.getScreenCTM().inverse()),[a.x,a.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function J(){return co.event.changedTouches[0].identifier}function tt(t){return t>0?1:t<0?-1:0}function et(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function nt(t){return t>1?0:t<-1?jo:Math.acos(t)}function rt(t){return t>1?Vo:t<-1?-Vo:Math.asin(t)}function at(t){return((t=Math.exp(t))-1/t)/2}function it(t){return((t=Math.exp(t))+1/t)/2}function ot(t){return((t=Math.exp(2*t))-1)/(t+1)}function st(t){return(t=Math.sin(t/2))*t}function lt(){}function ct(t,e,n){return this instanceof ct?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof ct?new ct(t.h,t.s,t.l):Tt(""+t,kt,ct):new ct(t,e,n)}function ut(t,e,n){function r(t){return t>360?t-=360:t<0&&(t+=360),t<60?i+(o-i)*t/60:t<180?o:t<240?i+(o-i)*(240-t)/60:i}function a(t){return Math.round(255*r(t))}var i,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,o=n<=.5?n*(1+e):n+e-n*e,i=2*n-o,new bt(a(t+120),a(t),a(t-120))}function dt(t,e,n){return this instanceof dt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof dt?new dt(t.h,t.c,t.l):t instanceof pt?gt(t.l,t.a,t.b):gt((t=At((t=co.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new dt(t,e,n)}function ft(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new pt(n,Math.cos(t*=qo)*e,Math.sin(t)*e)}function pt(t,e,n){return this instanceof pt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof pt?new pt(t.l,t.a,t.b):t instanceof dt?ft(t.h,t.c,t.l):At((t=bt(t)).r,t.g,t.b):new pt(t,e,n)}function ht(t,e,n){var r=(t+16)/116,a=r+e/500,i=r-n/200;return a=vt(a)*Ko,r=vt(r)*Jo,i=vt(i)*ts,new bt(yt(3.2404542*a-1.5371385*r-.4985314*i),yt(-.969266*a+1.8760108*r+.041556*i),yt(.0556434*a-.2040259*r+1.0572252*i))}function gt(t,e,n){return t>0?new dt(Math.atan2(n,e)*$o,Math.sqrt(e*e+n*n),t):new dt(NaN,NaN,t)}function vt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function mt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function yt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function bt(t,e,n){return this instanceof bt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof bt?new bt(t.r,t.g,t.b):Tt(""+t,bt,ut):new bt(t,e,n)}function xt(t){return new bt(t>>16,t>>8&255,255&t)}function _t(t){return xt(t)+""}function wt(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function Tt(t,e,n){var r,a,i,o=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(a=r[2].split(","),r[1]){case"hsl":return n(parseFloat(a[0]),parseFloat(a[1])/100,parseFloat(a[2])/100);case"rgb":return e(Ct(a[0]),Ct(a[1]),Ct(a[2]))}return(i=rs.get(t))?e(i.r,i.g,i.b):(null==t||"#"!==t.charAt(0)||isNaN(i=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&i)>>4,o|=o>>4,s=240&i,s|=s>>4,l=15&i,l|=l<<4):7===t.length&&(o=(16711680&i)>>16,s=(65280&i)>>8,l=255&i)),e(o,s,l))}function kt(t,e,n){var r,a,i=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-i,l=(o+i)/2;return s?(a=l<.5?s/(o+i):s/(2-o-i),r=t==o?(e-n)/s+(e<n?6:0):e==o?(n-t)/s+2:(t-e)/s+4,r*=60):(r=NaN,a=l>0&&l<1?0:r),new ct(r,a,l)}function At(t,e,n){t=Mt(t),e=Mt(e),n=Mt(n);var r=mt((.4124564*t+.3575761*e+.1804375*n)/Ko),a=mt((.2126729*t+.7151522*e+.072175*n)/Jo);return pt(116*a-16,500*(r-a),200*(a-mt((.0193339*t+.119192*e+.9503041*n)/ts)))}function Mt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ct(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function St(t){return"function"==typeof t?t:function(){return t}}function Et(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Lt(e,n,t,r)}}function Lt(t,e,n,r){function a(){var t,e=l.status;if(!e&&Dt(l)||e>=200&&e<300||304===e){try{t=n.call(i,l)}catch(t){return void o.error.call(i,t)}o.load.call(i,t)}else o.error.call(i,l)}var i={},o=co.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,c=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=a:l.onreadystatechange=function(){l.readyState>3&&a()},l.onprogress=function(t){var e=co.event;co.event=t;try{o.progress.call(i,l)}finally{co.event=e}},i.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",i)},i.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",i):e},i.responseType=function(t){return arguments.length?(c=t,i):c},i.response=function(t){return n=t,i},["get","post"].forEach(function(t){i[t]=function(){return i.send.apply(i,[t].concat(fo(arguments)))}}),i.send=function(n,r,a){if(2===arguments.length&&"function"==typeof r&&(a=r,r=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var u in s)l.setRequestHeader(u,s[u]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=c&&(l.responseType=c),null!=a&&i.on("error",a).on("load",function(t){a(null,t)}),o.beforesend.call(i,l),l.send(null==r?null:r),i},i.abort=function(){return l.abort(),i},co.rebind(i,o,"on"),null==r?i:i.get(Ot(r))}function Ot(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Dt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function It(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var a=n+e,i={c:t,t:a,n:null};return is?is.n=i:as=i,is=i,os||(ss=clearTimeout(ss),os=1,ls(Pt)),i}function Pt(){var t=Nt(),e=zt()-t;e>24?(isFinite(e)&&(clearTimeout(ss),ss=setTimeout(Pt,e)),os=0):(os=1,ls(Pt))}function Nt(){for(var t=Date.now(),e=as;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function zt(){for(var t,e=as,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:as=e.n;return is=t,n}function Rt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Ft(t,e){var n=Math.pow(10,3*xo(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function jt(t){var e=t.decimal,n=t.thousands,r=t.grouping,a=t.currency,i=r&&n?function(t,e){for(var a=t.length,i=[],o=0,s=r[0],l=0;a>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),i.push(t.substring(a-=s,a+s)),!((l+=s+1)>e));)s=r[o=(o+1)%r.length];return i.reverse().join(n)}:x;return function(t){var n=us.exec(t),r=n[1]||" ",o=n[2]||">",s=n[3]||"-",l=n[4]||"",c=n[5],u=+n[6],d=n[7],f=n[8],p=n[9],h=1,g="",v="",m=!1,y=!0;switch(f&&(f=+f.substring(1)),(c||"0"===r&&"="===o)&&(c=r="0",o="="),p){case"n":d=!0,p="g";break;case"%":h=100,v="%",p="f";break;case"p":h=100,v="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+p.toLowerCase());case"c":y=!1;case"d":m=!0,f=0;break;case"s":h=-1,p="r"}"$"===l&&(g=a[0],v=a[1]),"r"!=p||f||(p="g"),null!=f&&("g"==p?f=Math.max(1,Math.min(21,f)):"e"!=p&&"f"!=p||(f=Math.max(0,Math.min(20,f)))),p=ds.get(p)||Ht;var b=c&&d;return function(t){var n=v;if(m&&t%1)return"";var a=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(h<0){var l=co.formatPrefix(t,f);t=l.scale(t),n=l.symbol+v}else t*=h;t=p(t,f);var x,_,w=t.lastIndexOf(".");if(w<0){var T=y?t.lastIndexOf("e"):-1;T<0?(x=t,_=""):(x=t.substring(0,T),_=t.substring(T))}else x=t.substring(0,w),_=e+t.substring(w+1);!c&&d&&(x=i(x,1/0));var k=g.length+x.length+_.length+(b?0:a.length),A=k<u?new Array(k=u-k+1).join(r):"";return b&&(x=i(A+x,A.length?u-_.length:1/0)),a+=g,t=x+_,("<"===o?a+t+A:">"===o?A+a+t:"^"===o?A.substring(0,k>>=1)+a+t+A.substring(k):a+(b?t:A+t))+n}}}function Ht(t){return t+""}function Bt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Vt(t,e,n){function r(e){var n=t(e),r=i(n,1);return e-n<r-e?n:r}function a(n){return e(n=t(new ps(n-1)),1),n}function i(t,n){return e(t=new ps(+t),n),t}function o(t,r,i){var o=a(t),s=[];if(i>1)for(;o<r;)n(o)%i||s.push(new Date(+o)),e(o,1);else for(;o<r;)s.push(new Date(+o)),e(o,1);return s}function s(t,e,n){try{ps=Bt;var r=new Bt;return r._=t,o(r,e,n)}finally{ps=Date}}t.floor=t,t.round=r,t.ceil=a,t.offset=i,t.range=o;var l=t.utc=qt(t);return l.floor=l,l.round=qt(r),l.ceil=qt(a),l.offset=qt(i),l.range=s,t}function qt(t){return function(e,n){try{ps=Bt;var r=new Bt;return r._=e,t(r,n)._}finally{ps=Date}}}function $t(t){function e(t){function e(e){for(var n,a,i,o=[],s=-1,l=0;++s<r;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(a=gs[n=t.charAt(++s)])&&(n=t.charAt(++s)),(i=S[n])&&(n=i(e,null==a?"e"===n?" ":"0":a)),o.push(n),l=s+1);return o.push(t.slice(l,s)),o.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(n(r,t,e,0)!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var a=null!=r.Z&&ps!==Bt,i=new(a?Bt:ps);return"j"in r?i.setFullYear(r.y,0,r.j):"W"in r||"U"in r?("w"in r||(r.w="W"in r?1:0),i.setFullYear(r.y,0,1),i.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(i.getDay()+5)%7:r.w+7*r.U-(i.getDay()+6)%7)):i.setFullYear(r.y,r.m,r.d),i.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),a?i._:i},e.toString=function(){return t},e}function n(t,e,n,r){for(var a,i,o,s=0,l=e.length,c=n.length;s<l;){if(r>=c)return-1;if(37===(a=e.charCodeAt(s++))){if(o=e.charAt(s++),!(i=E[o in gs?e.charAt(s++):o])||(r=i(t,n,r))<0)return-1}else if(a!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){w.lastIndex=0;var r=w.exec(e.slice(n));return r?(t.w=T.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){x.lastIndex=0;var r=x.exec(e.slice(n));return r?(t.w=_.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){M.lastIndex=0;var r=M.exec(e.slice(n));return r?(t.m=C.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){k.lastIndex=0;var r=k.exec(e.slice(n));return r?(t.m=A.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,S.c.toString(),e,r)}function l(t,e,r){return n(t,S.x.toString(),e,r)}function c(t,e,r){return n(t,S.X.toString(),e,r)}function u(t,e,n){var r=b.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var d=t.dateTime,f=t.date,p=t.time,h=t.periods,g=t.days,v=t.shortDays,m=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{ps=Bt;var e=new ps;return e._=t,r(e)}finally{ps=Date}}var r=e(t);return n.parse=function(t){try{ps=Bt;var e=r.parse(t);return e&&e._}finally{ps=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=ue;var b=co.map(),x=Wt(g),_=Gt(g),w=Wt(v),T=Gt(v),k=Wt(m),A=Gt(m),M=Wt(y),C=Gt(y);h.forEach(function(t,e){b.set(t.toLowerCase(),e)});var S={a:function(t){return v[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return m[t.getMonth()]},c:e(d),d:function(t,e){return Ut(t.getDate(),e,2)},e:function(t,e){return Ut(t.getDate(),e,2)},H:function(t,e){return Ut(t.getHours(),e,2)},I:function(t,e){return Ut(t.getHours()%12||12,e,2)},j:function(t,e){return Ut(1+fs.dayOfYear(t),e,3)},L:function(t,e){return Ut(t.getMilliseconds(),e,3)},m:function(t,e){return Ut(t.getMonth()+1,e,2)},M:function(t,e){return Ut(t.getMinutes(),e,2)},p:function(t){return h[+(t.getHours()>=12)]},S:function(t,e){return Ut(t.getSeconds(),e,2)},U:function(t,e){return Ut(fs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ut(fs.mondayOfYear(t),e,2)},x:e(f),X:e(p),y:function(t,e){return Ut(t.getFullYear()%100,e,2)},Y:function(t,e){return Ut(t.getFullYear()%1e4,e,4)},Z:le,"%":function(){return"%"}},E={a:r,A:a,b:i,B:o,c:s,d:ne,e:ne,H:ae,I:ae,j:re,L:se,m:ee,M:ie,p:u,S:oe,U:Xt,w:Yt,W:Zt,x:l,X:c,y:Kt,Y:Qt,Z:Jt,"%":ce};return e}function Ut(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function Wt(t){return new RegExp("^(?:"+t.map(co.requote).join("|")+")","i")}function Gt(t){for(var e=new d,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Yt(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Xt(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Zt(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Qt(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Kt(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.y=te(+r[0]),n+r[0].length):-1}function Jt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function te(t){return t+(t>68?1900:2e3)}function ee(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function ne(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function re(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ae(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ie(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function oe(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function se(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function le(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=xo(e)/60|0,a=xo(e)%60;return n+Ut(r,"0",2)+Ut(a,"0",2)}function ce(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ue(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function de(){}function fe(t,e,n){var r=n.s=t+e,a=r-t,i=r-a;n.t=t-i+(e-a)}function pe(t,e){t&&_s.hasOwnProperty(t.type)&&_s[t.type](t,e)}function he(t,e,n){var r,a=-1,i=t.length-n;for(e.lineStart();++a<i;)r=t[a],e.point(r[0],r[1],r[2]);e.lineEnd()}function ge(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)he(t[n],e,1);e.polygonEnd()}function ve(){function t(t,e){t*=qo,e=e*qo/2+jo/4;var n=t-r,o=n>=0?1:-1,s=o*n,l=Math.cos(e),c=Math.sin(e),u=i*c,d=a*l+u*Math.cos(s),f=u*o*Math.sin(s);Ts.add(Math.atan2(f,d)),r=t,a=l,i=c}var e,n,r,a,i;ks.point=function(o,s){ks.point=t,r=(e=o)*qo,a=Math.cos(s=(n=s)*qo/2+jo/4),i=Math.sin(s)},ks.lineEnd=function(){t(e,n)}}function me(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function ye(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function be(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function xe(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function _e(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function we(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Te(t){return[Math.atan2(t[1],t[0]),rt(t[2])]}function ke(t,e){return xo(t[0]-e[0])<Ro&&xo(t[1]-e[1])<Ro}function Ae(t,e){t*=qo;var n=Math.cos(e*=qo);Me(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Me(t,e,n){++As,Cs+=(t-Cs)/As,Ss+=(e-Ss)/As,Es+=(n-Es)/As}function Ce(){function t(t,a){t*=qo;var i=Math.cos(a*=qo),o=i*Math.cos(t),s=i*Math.sin(t),l=Math.sin(a),c=Math.atan2(Math.sqrt((c=n*l-r*s)*c+(c=r*o-e*l)*c+(c=e*s-n*o)*c),e*o+n*s+r*l);Ms+=c,Ls+=c*(e+(e=o)),Os+=c*(n+(n=s)),Ds+=c*(r+(r=l)),Me(e,n,r)}var e,n,r;zs.point=function(a,i){a*=qo;var o=Math.cos(i*=qo);e=o*Math.cos(a),n=o*Math.sin(a),r=Math.sin(i),zs.point=t,Me(e,n,r)}}function Se(){zs.point=Ae}function Ee(){function t(t,e){t*=qo;var n=Math.cos(e*=qo),o=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),c=a*l-i*s,u=i*o-r*l,d=r*s-a*o,f=Math.sqrt(c*c+u*u+d*d),p=r*o+a*s+i*l,h=f&&-nt(p)/f,g=Math.atan2(f,p);Is+=h*c,Ps+=h*u,Ns+=h*d,Ms+=g,Ls+=g*(r+(r=o)),Os+=g*(a+(a=s)),Ds+=g*(i+(i=l)),Me(r,a,i)}var e,n,r,a,i;zs.point=function(o,s){e=o,n=s,zs.point=t,o*=qo;var l=Math.cos(s*=qo);r=l*Math.cos(o),a=l*Math.sin(o),i=Math.sin(s),Me(r,a,i)},zs.lineEnd=function(){t(e,n),zs.lineEnd=Se,zs.point=Ae}}function Le(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function Oe(){return!0}function De(t,e,n,r,a){var i=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(ke(n,r)){a.lineStart();for(var s=0;s<e;++s)a.point((n=t[s])[0],n[1]);return void a.lineEnd()}var l=new Pe(n,t,null,!0),c=new Pe(n,null,l,!1);l.o=c,i.push(l),o.push(c),l=new Pe(r,t,null,!1),c=new Pe(r,null,l,!0),l.o=c,i.push(l),o.push(c)}}),o.sort(e),Ie(i),Ie(o),i.length){for(var s=0,l=n,c=o.length;s<c;++s)o[s].e=l=!l;for(var u,d,f=i[0];;){for(var p=f,h=!0;p.v;)if((p=p.n)===f)return;u=p.z,a.lineStart();do{if(p.v=p.o.v=!0,p.e){if(h)for(var s=0,c=u.length;s<c;++s)a.point((d=u[s])[0],d[1]);else r(p.x,p.n.x,1,a);p=p.n}else{if(h){u=p.p.z;for(var s=u.length-1;s>=0;--s)a.point((d=u[s])[0],d[1])}else r(p.x,p.p.x,-1,a);p=p.p}p=p.o,u=p.z,h=!h}while(!p.v);a.lineEnd()}}}function Ie(t){if(e=t.length){for(var e,n,r=0,a=t[0];++r<e;)a.n=n=t[r],n.p=a,a=n;a.n=n=t[0],n.p=a}}function Pe(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Ne(t,e,n,r){return function(a,i){function o(e,n){var r=a(e,n);t(e=r[0],n=r[1])&&i.point(e,n)}function s(t,e){var n=a(t,e);v.point(n[0],n[1])}function l(){y.point=s,v.lineStart()}function c(){y.point=o,v.lineEnd()}function u(t,e){g.push([t,e]);var n=a(t,e);x.point(n[0],n[1])}function d(){x.lineStart(),g=[]}function f(){u(g[0][0],g[0][1]),x.lineEnd();var t,e=x.clean(),n=b.buffer(),r=n.length;if(g.pop(),h.push(g),g=null,r)if(1&e){t=n[0];var a,r=t.length-1,o=-1;if(r>0){for(_||(i.polygonStart(),_=!0),i.lineStart();++o<r;)i.point((a=t[o])[0],a[1]);i.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),p.push(n.filter(ze))}var p,h,g,v=e(i),m=a.invert(r[0],r[1]),y={point:o,lineStart:l,lineEnd:c,polygonStart:function(){y.point=u,y.lineStart=d,y.lineEnd=f,p=[],h=[]},polygonEnd:function(){y.point=o,y.lineStart=l,y.lineEnd=c,p=co.merge(p);var t=Ve(m,h);p.length?(_||(i.polygonStart(),_=!0),De(p,Fe,t,n,i)):t&&(_||(i.polygonStart(),_=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),_&&(i.polygonEnd(),_=!1),p=h=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}},b=Re(),x=e(b),_=!1;return y}}function ze(t){return t.length>1}function Re(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:T,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Fe(t,e){return((t=t.x)[0]<0?t[1]-Vo-Ro:Vo-t[1])-((e=e.x)[0]<0?e[1]-Vo-Ro:Vo-e[1])}function je(t){var e,n=NaN,r=NaN,a=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(i,o){var s=i>0?jo:-jo,l=xo(i-n);xo(l-jo)<Ro?(t.point(n,r=(r+o)/2>0?Vo:-Vo),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(i,r),e=0):a!==s&&l>=jo&&(xo(n-a)<Ro&&(n-=a*Ro),xo(i-s)<Ro&&(i-=s*Ro),r=He(n,r,i,o),t.point(a,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=i,r=o),a=s},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}}function He(t,e,n,r){var a,i,o=Math.sin(t-n);return xo(o)>Ro?Math.atan((Math.sin(e)*(i=Math.cos(r))*Math.sin(n)-Math.sin(r)*(a=Math.cos(e))*Math.sin(t))/(a*i*o)):(e+r)/2}function Be(t,e,n,r){var a;if(null==t)a=n*Vo,r.point(-jo,a),r.point(0,a),r.point(jo,a),r.point(jo,0),r.point(jo,-a),r.point(0,-a),r.point(-jo,-a),r.point(-jo,0),r.point(-jo,a);else if(xo(t[0]-e[0])>Ro){var i=t[0]<e[0]?jo:-jo;a=n*i/2,r.point(-i,a),r.point(0,a),r.point(i,a)}else r.point(e[0],e[1])}function Ve(t,e){var n=t[0],r=t[1],a=[Math.sin(n),-Math.cos(n),0],i=0,o=0;Ts.reset();for(var s=0,l=e.length;s<l;++s){var c=e[s],u=c.length;if(u)for(var d=c[0],f=d[0],p=d[1]/2+jo/4,h=Math.sin(p),g=Math.cos(p),v=1;;){v===u&&(v=0),t=c[v];var m=t[0],y=t[1]/2+jo/4,b=Math.sin(y),x=Math.cos(y),_=m-f,w=_>=0?1:-1,T=w*_,k=T>jo,A=h*b;if(Ts.add(Math.atan2(A*w*Math.sin(T),g*x+A*Math.cos(T))),i+=k?_+w*Ho:_,k^f>=n^m>=n){var M=be(me(d),me(t));we(M);var C=be(a,M);we(C);var S=(k^_>=0?-1:1)*rt(C[2]);(r>S||r===S&&(M[0]||M[1]))&&(o+=k^_>=0?1:-1)}if(!v++)break;f=m,h=b,g=x,d=t}}return(i<-Ro||i<Ro&&Ts<-Ro)^1&o}function qe(t){function e(t,e){return Math.cos(t)*Math.cos(e)>i}function n(t){var n,i,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,f){var p,h=[d,f],g=e(d,f),v=o?g?0:a(d,f):g?a(d+(d<0?jo:-jo),f):0;if(!n&&(c=l=g)&&t.lineStart(),g!==l&&(p=r(n,h),(ke(n,p)||ke(h,p))&&(h[0]+=Ro,h[1]+=Ro,g=e(h[0],h[1]))),g!==l)u=0,g?(t.lineStart(),p=r(h,n),t.point(p[0],p[1])):(p=r(n,h),t.point(p[0],p[1]),t.lineEnd()),n=p;else if(s&&n&&o^g){var m;v&i||!(m=r(h,n,!0))||(u=0,o?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||n&&ke(n,h)||t.point(h[0],h[1]),n=h,l=g,i=v},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return u|(c&&l)<<1}}}function r(t,e,n){var r=me(t),a=me(e),o=[1,0,0],s=be(r,a),l=ye(s,s),c=s[0],u=l-c*c;if(!u)return!n&&t;var d=i*l/u,f=-i*c/u,p=be(o,s),h=_e(o,d);xe(h,_e(s,f));var g=p,v=ye(h,g),m=ye(g,g),y=v*v-m*(ye(h,h)-1);if(!(y<0)){var b=Math.sqrt(y),x=_e(g,(-v-b)/m);if(xe(x,h),x=Te(x),!n)return x;var _,w=t[0],T=e[0],k=t[1],A=e[1];T<w&&(_=w,w=T,T=_);var M=T-w,C=xo(M-jo)<Ro,S=C||M<Ro;if(!C&&A<k&&(_=k,k=A,A=_),S?C?k+A>0^x[1]<(xo(x[0]-w)<Ro?k:A):k<=x[1]&&x[1]<=A:M>jo^(w<=x[0]&&x[0]<=T)){var E=_e(g,(-v+b)/m);return xe(E,h),[x,Te(E)]}}}function a(e,n){var r=o?t:jo-t,a=0;return e<-r?a|=1:e>r&&(a|=2),n<-r?a|=4:n>r&&(a|=8),a}var i=Math.cos(t),o=i>0,s=xo(i)>Ro;return Ne(e,n,mn(t,6*qo),o?[0,-t]:[-jo,t-jo])}function $e(t,e,n,r){return function(a){var i,o=a.a,s=a.b,l=o.x,c=o.y,u=s.x,d=s.y,f=0,p=1,h=u-l,g=d-c;if(i=t-l,h||!(i>0)){if(i/=h,h<0){if(i<f)return;i<p&&(p=i)}else if(h>0){if(i>p)return;i>f&&(f=i)}if(i=n-l,h||!(i<0)){if(i/=h,h<0){if(i>p)return;i>f&&(f=i)}else if(h>0){if(i<f)return;i<p&&(p=i)}if(i=e-c,g||!(i>0)){if(i/=g,g<0){if(i<f)return;i<p&&(p=i)}else if(g>0){if(i>p)return;i>f&&(f=i)}if(i=r-c,g||!(i<0)){if(i/=g,g<0){if(i>p)return;i>f&&(f=i)}else if(g>0){if(i<f)return;i<p&&(p=i)}return f>0&&(a.a={x:l+f*h,y:c+f*g}),p<1&&(a.b={x:l+p*h,y:c+p*g}),a}}}}}}function Ue(t,e,n,r){function a(r,a){return xo(r[0]-t)<Ro?a>0?0:3:xo(r[0]-n)<Ro?a>0?2:1:xo(r[1]-e)<Ro?a>0?1:0:a>0?3:2}function i(t,e){return o(t.x,e.x)}function o(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,n=v.length,r=t[1],a=0;a<n;++a)for(var i,o=1,s=v[a],l=s.length,c=s[0];o<l;++o)i=s[o],c[1]<=r?i[1]>r&&et(c,i,t)>0&&++e:i[1]<=r&&et(c,i,t)<0&&--e,c=i;return 0!==e}function c(i,s,l,c){var u=0,d=0;if(null==i||(u=a(i,l))!==(d=a(s,l))||o(i,s)<0^l>0)do{c.point(0===u||3===u?t:n,u>1?r:e)}while((u=(u+l+4)%4)!==d);else c.point(s[0],s[1])}function u(a,i){return t<=a&&a<=n&&e<=i&&i<=r}function d(t,e){u(t,e)&&s.point(t,e)}function f(){E.point=h,v&&v.push(m=[]),k=!0,T=!1,_=w=NaN}function p(){g&&(h(y,b),x&&T&&C.rejoin(),g.push(C.buffer())),E.point=d,T&&s.lineEnd()}function h(t,e){t=Math.max(-Fs,Math.min(Fs,t)),e=Math.max(-Fs,Math.min(Fs,e));var n=u(t,e);if(v&&m.push([t,e]),k)y=t,b=e,x=n,k=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&T)s.point(t,e);else{var r={a:{x:_,y:w},b:{x:t,y:e}};S(r)?(T||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),A=!1):n&&(s.lineStart(),s.point(t,e),A=!1)}_=t,w=e,T=n}var g,v,m,y,b,x,_,w,T,k,A,M=s,C=Re(),S=$e(t,e,n,r),E={point:d,lineStart:f,lineEnd:p,polygonStart:function(){s=C,g=[],v=[],A=!0},polygonEnd:function(){s=M,g=co.merge(g);var e=l([t,r]),n=A&&e,a=g.length;(n||a)&&(s.polygonStart(),n&&(s.lineStart(),c(null,null,1,s),s.lineEnd()),a&&De(g,i,e,c,s),s.polygonEnd()),g=v=m=null}};return E}}function We(t){var e=0,n=jo/3,r=cn(t),a=r(e,n);return a.parallels=function(t){return arguments.length?r(e=t[0]*jo/180,n=t[1]*jo/180):[e/jo*180,n/jo*180]},a}function Ge(t,e){function n(t,e){var n=Math.sqrt(i-2*a*Math.sin(e))/a;return[n*Math.sin(t*=a),o-n*Math.cos(t)]}var r=Math.sin(t),a=(r+Math.sin(e))/2,i=1+r*(2*a-r),o=Math.sqrt(i)/a;return n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/a,rt((i-(t*t+n*n)*a*a)/(2*a))]},n}function Ye(){function t(t,e){Hs+=a*t-r*e,r=t,a=e}var e,n,r,a;Us.point=function(i,o){Us.point=t,e=r=i,n=a=o},Us.lineEnd=function(){t(e,n)}}function Xe(t,e){t<Bs&&(Bs=t),t>qs&&(qs=t),e<Vs&&(Vs=e),e>$s&&($s=e)}function Ze(){function t(t,e){o.push("M",t,",",e,i)}function e(t,e){o.push("M",t,",",e),s.point=n}function n(t,e){o.push("L",t,",",e)}function r(){s.point=t}function a(){o.push("Z")}var i=Qe(4.5),o=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return i=Qe(t),s},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return s}function Qe(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ke(t,e){Cs+=t,Ss+=e,++Es}function Je(){function t(t,r){var a=t-e,i=r-n,o=Math.sqrt(a*a+i*i);Ls+=o*(e+t)/2,Os+=o*(n+r)/2,Ds+=o,Ke(e=t,n=r)}var e,n;Gs.point=function(r,a){Gs.point=t,Ke(e=r,n=a)}}function tn(){Gs.point=Ke}function en(){function t(t,e){var n=t-r,i=e-a,o=Math.sqrt(n*n+i*i);Ls+=o*(r+t)/2,Os+=o*(a+e)/2,Ds+=o,o=a*t-r*e,Is+=o*(r+t),Ps+=o*(a+e),Ns+=3*o,Ke(r=t,a=e)}var e,n,r,a;Gs.point=function(i,o){Gs.point=t,Ke(e=r=i,n=a=o)},Gs.lineEnd=function(){t(e,n)}}function nn(t){function e(e,n){t.moveTo(e+o,n),t.arc(e,n,o,0,Ho)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function a(){s.point=e}function i(){t.closePath()}var o=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:a,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=a,s.point=e},pointRadius:function(t){return o=t,s},result:T};return s}function rn(t){function e(t){return(s?r:n)(t)}function n(e){return sn(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){b=NaN,k.point=i,e.lineStart()}function i(n,r){var i=me([n,r]),o=t(n,r);a(b,x,y,_,w,T,b=o[0],x=o[1],y=n,_=i[0],w=i[1],T=i[2],s,e),e.point(b,x)}function o(){k.point=n,e.lineEnd()}function l(){r(),k.point=c,k.lineEnd=u}function c(t,e){i(d=t,f=e),p=b,h=x,g=_,v=w,m=T,k.point=i}function u(){a(b,x,y,_,w,T,p,h,d,g,v,m,s,e),k.lineEnd=o,o()}var d,f,p,h,g,v,m,y,b,x,_,w,T,k={point:n,lineStart:r,lineEnd:o,polygonStart:function(){e.polygonStart(),k.lineStart=l},polygonEnd:function(){e.polygonEnd(),k.lineStart=r}};return k}function a(e,n,r,s,l,c,u,d,f,p,h,g,v,m){var y=u-e,b=d-n,x=y*y+b*b;if(x>4*i&&v--){var _=s+p,w=l+h,T=c+g,k=Math.sqrt(_*_+w*w+T*T),A=Math.asin(T/=k),M=xo(xo(T)-1)<Ro||xo(r-f)<Ro?(r+f)/2:Math.atan2(w,_),C=t(M,A),S=C[0],E=C[1],L=S-e,O=E-n,D=b*L-y*O;(D*D/x>i||xo((y*L+b*O)/x-.5)>.3||s*p+l*h+c*g<o)&&(a(e,n,r,s,l,c,S,E,M,_/=k,w/=k,T,v,m),m.point(S,E),a(S,E,M,_,w,T,u,d,f,p,h,g,v,m))}}var i=.5,o=Math.cos(30*qo),s=16;return e.precision=function(t){return arguments.length?(s=(i=t*t)>0&&16,e):Math.sqrt(i)},e}function an(t){var e=rn(function(e,n){return t([e*$o,n*$o])});return function(t){return un(e(t))}}function on(t){this.stream=t}function sn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function ln(t){return cn(function(){return t})()}function cn(t){function e(t){return t=s(t[0]*qo,t[1]*qo),[t[0]*f+l,c-t[1]*f]}function n(t){return(t=s.invert((t[0]-l)/f,(c-t[1])/f))&&[t[0]*$o,t[1]*$o]}function r(){s=Le(o=pn(m,y,b),i);var t=i(g,v);return l=p-t[0]*f,c=h+t[1]*f,a()}function a(){return u&&(u.valid=!1,u=null),e}var i,o,s,l,c,u,d=rn(function(t,e){return t=i(t,e),[t[0]*f+l,c-t[1]*f]}),f=150,p=480,h=250,g=0,v=0,m=0,y=0,b=0,_=Rs,w=x,T=null,k=null;return e.stream=function(t){return u&&(u.valid=!1),u=un(_(o,d(w(t)))),u.valid=!0,u},e.clipAngle=function(t){return arguments.length?(_=null==t?(T=t,Rs):qe((T=+t)*qo),a()):T},e.clipExtent=function(t){return arguments.length?(k=t,w=t?Ue(t[0][0],t[0][1],t[1][0],t[1][1]):x,a()):k},e.scale=function(t){return arguments.length?(f=+t,r()):f},e.translate=function(t){return arguments.length?(p=+t[0],h=+t[1],r()):[p,h]},e.center=function(t){return arguments.length?(g=t[0]%360*qo,v=t[1]%360*qo,r()):[g*$o,v*$o]},e.rotate=function(t){return arguments.length?(m=t[0]%360*qo,y=t[1]%360*qo,b=t.length>2?t[2]%360*qo:0,r()):[m*$o,y*$o,b*$o]},co.rebind(e,d,"precision"),function(){return i=t.apply(this,arguments),e.invert=i.invert&&n,r()}}function un(t){return sn(t,function(e,n){t.point(e*qo,n*qo)})}function dn(t,e){return[t,e]}function fn(t,e){return[t>jo?t-Ho:t<-jo?t+Ho:t,e]}function pn(t,e,n){return t?e||n?Le(gn(t),vn(e,n)):gn(t):e||n?vn(e,n):fn}function hn(t){return function(e,n){return e+=t,[e>jo?e-Ho:e<-jo?e+Ho:e,n]}}function gn(t){var e=hn(t);return e.invert=hn(-t),e}function vn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,c=Math.sin(e),u=c*r+s*a;return[Math.atan2(l*i-u*o,s*r-c*a),rt(u*i+l*o)]}var r=Math.cos(t),a=Math.sin(t),i=Math.cos(e),o=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,c=Math.sin(e),u=c*i-l*o;return[Math.atan2(l*i+c*o,s*r+u*a),rt(u*r-s*a)]},n}function mn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(a,i,o,s){var l=o*e;null!=a?(a=yn(n,a),i=yn(n,i),(o>0?a<i:a>i)&&(a+=o*Ho)):(a=t+o*Ho,i=t-.5*l);for(var c,u=a;o>0?u>i:u<i;u-=l)s.point((c=Te([n,-r*Math.cos(u),-r*Math.sin(u)]))[0],c[1])}}function yn(t,e){var n=me(e);n[0]-=t,we(n);var r=nt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Ro)%(2*Math.PI)}function bn(t,e,n){var r=co.range(t,e-Ro,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function xn(t,e,n){var r=co.range(t,e-Ro,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function _n(t){return t.source}function wn(t){return t.target}function Tn(t,e,n,r){var a=Math.cos(e),i=Math.sin(e),o=Math.cos(r),s=Math.sin(r),l=a*Math.cos(t),c=a*Math.sin(t),u=o*Math.cos(n),d=o*Math.sin(n),f=2*Math.asin(Math.sqrt(st(r-e)+a*o*st(n-t))),p=1/Math.sin(f),h=f?function(t){var e=Math.sin(t*=f)*p,n=Math.sin(f-t)*p,r=n*l+e*u,a=n*c+e*d,o=n*i+e*s;return[Math.atan2(a,r)*$o,Math.atan2(o,Math.sqrt(r*r+a*a))*$o]}:function(){return[t*$o,e*$o]};return h.distance=f,h}function kn(){function t(t,a){var i=Math.sin(a*=qo),o=Math.cos(a),s=xo((t*=qo)-e),l=Math.cos(s);Ys+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=r*i-n*o*l)*s),n*i+r*o*l),e=t,n=i,r=o}var e,n,r;Xs.point=function(a,i){e=a*qo,n=Math.sin(i*=qo),r=Math.cos(i),Xs.point=t},Xs.lineEnd=function(){Xs.point=Xs.lineEnd=T}}function An(t,e){function n(e,n){var r=Math.cos(e),a=Math.cos(n),i=t(r*a);return[i*a*Math.sin(e),i*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),a=e(r),i=Math.sin(a),o=Math.cos(a);return[Math.atan2(t*i,r*o),Math.asin(r&&n*i/r)]},n}function Mn(t,e){function n(t,e){o>0?e<-Vo+Ro&&(e=-Vo+Ro):e>Vo-Ro&&(e=Vo-Ro);var n=o/Math.pow(a(e),i);return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),a=function(t){return Math.tan(jo/4+t/2)},i=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(a(e)/a(t)),o=r*Math.pow(a(t),i)/i;return i?(n.invert=function(t,e){var n=o-e,r=tt(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(o/r,1/i))-Vo]},n):Sn}function Cn(t,e){function n(t,e){var n=i-e;return[n*Math.sin(a*t),i-n*Math.cos(a*t)]}var r=Math.cos(t),a=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),i=r/a+t;return xo(a)<Ro?dn:(n.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/a,i-tt(a)*Math.sqrt(t*t+n*n)]},n)}function Sn(t,e){return[t,Math.log(Math.tan(jo/4+e/2))]}function En(t){
var e,n=ln(t),r=n.scale,a=n.translate,i=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=a.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=i.apply(n,arguments);if(o===n){if(e=null==t){var s=jo*r(),l=a();i([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(o=null);return o},n.clipExtent(null)}function Ln(t,e){return[Math.log(Math.tan(jo/4+e/2)),-t]}function On(t){return t[0]}function Dn(t){return t[1]}function In(t){for(var e=t.length,n=[0,1],r=2,a=2;a<e;a++){for(;r>1&&et(t[n[r-2]],t[n[r-1]],t[a])<=0;)--r;n[r++]=a}return n.slice(0,r)}function Pn(t,e){return t[0]-e[0]||t[1]-e[1]}function Nn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function zn(t,e,n,r){var a=t[0],i=n[0],o=e[0]-a,s=r[0]-i,l=t[1],c=n[1],u=e[1]-l,d=r[1]-c,f=(s*(l-c)-d*(a-i))/(d*o-s*u);return[a+f*o,l+f*u]}function Rn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Fn(){ir(this),this.edge=this.site=this.circle=null}function jn(t){var e=sl.pop()||new Fn;return e.site=t,e}function Hn(t){Zn(t),al.remove(t),sl.push(t),ir(t)}function Bn(t){var e=t.circle,n=e.x,r=e.cy,a={x:n,y:r},i=t.P,o=t.N,s=[t];Hn(t);for(var l=i;l.circle&&xo(n-l.circle.x)<Ro&&xo(r-l.circle.cy)<Ro;)i=l.P,s.unshift(l),Hn(l),l=i;s.unshift(l),Zn(l);for(var c=o;c.circle&&xo(n-c.circle.x)<Ro&&xo(r-c.circle.cy)<Ro;)o=c.N,s.push(c),Hn(c),c=o;s.push(c),Zn(c);var u,d=s.length;for(u=1;u<d;++u)c=s[u],l=s[u-1],nr(c.edge,l.site,c.site,a);l=s[0],c=s[d-1],c.edge=tr(l.site,c.site,null,a),Xn(l),Xn(c)}function Vn(t){for(var e,n,r,a,i=t.x,o=t.y,s=al._;s;)if((r=qn(s,o)-i)>Ro)s=s.L;else{if(!((a=i-$n(s,o))>Ro)){r>-Ro?(e=s.P,n=s):a>-Ro?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=jn(t);if(al.insert(e,l),e||n){if(e===n)return Zn(e),n=jn(e.site),al.insert(l,n),l.edge=n.edge=tr(e.site,l.site),Xn(e),void Xn(n);if(!n)return void(l.edge=tr(e.site,l.site));Zn(e),Zn(n);var c=e.site,u=c.x,d=c.y,f=t.x-u,p=t.y-d,h=n.site,g=h.x-u,v=h.y-d,m=2*(f*v-p*g),y=f*f+p*p,b=g*g+v*v,x={x:(v*y-p*b)/m+u,y:(f*b-g*y)/m+d};nr(n.edge,c,h,x),l.edge=tr(c,t,null,x),n.edge=tr(t,h,null,x),Xn(e),Xn(n)}}function qn(t,e){var n=t.site,r=n.x,a=n.y,i=a-e;if(!i)return r;var o=t.P;if(!o)return-1/0;n=o.site;var s=n.x,l=n.y,c=l-e;if(!c)return s;var u=s-r,d=1/i-1/c,f=u/c;return d?(-f+Math.sqrt(f*f-2*d*(u*u/(-2*c)-l+c/2+a-i/2)))/d+r:(r+s)/2}function $n(t,e){var n=t.N;if(n)return qn(n,e);var r=t.site;return r.y===e?r.x:1/0}function Un(t){this.site=t,this.edges=[]}function Wn(t){for(var e,n,r,a,i,o,s,l,c,u,d=t[0][0],f=t[1][0],p=t[0][1],h=t[1][1],g=rl,v=g.length;v--;)if((i=g[v])&&i.prepare())for(s=i.edges,l=s.length,o=0;o<l;)u=s[o].end(),r=u.x,a=u.y,c=s[++o%l].start(),e=c.x,n=c.y,(xo(r-e)>Ro||xo(a-n)>Ro)&&(s.splice(o,0,new rr(er(i.site,u,xo(r-d)<Ro&&h-a>Ro?{x:d,y:xo(e-d)<Ro?n:h}:xo(a-h)<Ro&&f-r>Ro?{x:xo(n-h)<Ro?e:f,y:h}:xo(r-f)<Ro&&a-p>Ro?{x:f,y:xo(e-f)<Ro?n:p}:xo(a-p)<Ro&&r-d>Ro?{x:xo(n-p)<Ro?e:d,y:p}:null),i.site,null)),++l)}function Gn(t,e){return e.angle-t.angle}function Yn(){ir(this),this.x=this.y=this.arc=this.site=this.cy=null}function Xn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,a=t.site,i=n.site;if(r!==i){var o=a.x,s=a.y,l=r.x-o,c=r.y-s,u=i.x-o,d=i.y-s,f=2*(l*d-c*u);if(!(f>=-Fo)){var p=l*l+c*c,h=u*u+d*d,g=(d*p-c*h)/f,v=(l*h-u*p)/f,d=v+s,m=ll.pop()||new Yn;m.arc=t,m.site=a,m.x=g+o,m.y=d+Math.sqrt(g*g+v*v),m.cy=d,t.circle=m;for(var y=null,b=ol._;b;)if(m.y<b.y||m.y===b.y&&m.x<=b.x){if(!b.L){y=b.P;break}b=b.L}else{if(!b.R){y=b;break}b=b.R}ol.insert(y,m),y||(il=m)}}}}function Zn(t){var e=t.circle;e&&(e.P||(il=e.N),ol.remove(e),ll.push(e),ir(e),t.circle=null)}function Qn(t){for(var e,n=nl,r=$e(t[0][0],t[0][1],t[1][0],t[1][1]),a=n.length;a--;)e=n[a],(!Kn(e,t)||!r(e)||xo(e.a.x-e.b.x)<Ro&&xo(e.a.y-e.b.y)<Ro)&&(e.a=e.b=null,n.splice(a,1))}function Kn(t,e){var n=t.b;if(n)return!0;var r,a,i=t.a,o=e[0][0],s=e[1][0],l=e[0][1],c=e[1][1],u=t.l,d=t.r,f=u.x,p=u.y,h=d.x,g=d.y,v=(f+h)/2,m=(p+g)/2;if(g===p){if(v<o||v>=s)return;if(f>h){if(i){if(i.y>=c)return}else i={x:v,y:l};n={x:v,y:c}}else{if(i){if(i.y<l)return}else i={x:v,y:c};n={x:v,y:l}}}else if(r=(f-h)/(g-p),a=m-r*v,r<-1||r>1)if(f>h){if(i){if(i.y>=c)return}else i={x:(l-a)/r,y:l};n={x:(c-a)/r,y:c}}else{if(i){if(i.y<l)return}else i={x:(c-a)/r,y:c};n={x:(l-a)/r,y:l}}else if(p<g){if(i){if(i.x>=s)return}else i={x:o,y:r*o+a};n={x:s,y:r*s+a}}else{if(i){if(i.x<o)return}else i={x:s,y:r*s+a};n={x:o,y:r*o+a}}return t.a=i,t.b=n,!0}function Jn(t,e){this.l=t,this.r=e,this.a=this.b=null}function tr(t,e,n,r){var a=new Jn(t,e);return nl.push(a),n&&nr(a,t,e,n),r&&nr(a,e,t,r),rl[t.i].edges.push(new rr(a,t,e)),rl[e.i].edges.push(new rr(a,e,t)),a}function er(t,e,n){var r=new Jn(t,null);return r.a=e,r.b=n,nl.push(r),r}function nr(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function rr(t,e,n){var r=t.a,a=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(a.x-r.x,r.y-a.y):Math.atan2(r.x-a.x,a.y-r.y)}function ar(){this._=null}function ir(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function or(t,e){var n=e,r=e.R,a=n.U;a?a.L===n?a.L=r:a.R=r:t._=r,r.U=a,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function sr(t,e){var n=e,r=e.L,a=n.U;a?a.L===n?a.L=r:a.R=r:t._=r,r.U=a,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function lr(t){for(;t.L;)t=t.L;return t}function cr(t,e){var n,r,a,i=t.sort(ur).pop();for(nl=[],rl=new Array(t.length),al=new ar,ol=new ar;;)if(a=il,i&&(!a||i.y<a.y||i.y===a.y&&i.x<a.x))i.x===n&&i.y===r||(rl[i.i]=new Un(i),Vn(i),n=i.x,r=i.y),i=t.pop();else{if(!a)break;Bn(a.arc)}e&&(Qn(e),Wn(e));var o={cells:rl,edges:nl};return al=ol=nl=rl=null,o}function ur(t,e){return e.y-t.y||e.x-t.x}function dr(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function fr(t){return t.x}function pr(t){return t.y}function hr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function gr(t,e,n,r,a,i){if(!t(e,n,r,a,i)){var o=.5*(n+a),s=.5*(r+i),l=e.nodes;l[0]&&gr(t,l[0],n,r,o,s),l[1]&&gr(t,l[1],o,r,a,s),l[2]&&gr(t,l[2],n,s,o,i),l[3]&&gr(t,l[3],o,s,a,i)}}function vr(t,e,n,r,a,i,o){var s,l=1/0;return function t(c,u,d,f,p){if(!(u>i||d>o||f<r||p<a)){if(h=c.point){var h,g=e-c.x,v=n-c.y,m=g*g+v*v;if(m<l){var y=Math.sqrt(l=m);r=e-y,a=n-y,i=e+y,o=n+y,s=h}}for(var b=c.nodes,x=.5*(u+f),_=.5*(d+p),w=e>=x,T=n>=_,k=T<<1|w,A=k+4;k<A;++k)if(c=b[3&k])switch(3&k){case 0:t(c,u,d,x,_);break;case 1:t(c,x,d,f,_);break;case 2:t(c,u,_,x,p);break;case 3:t(c,x,_,f,p)}}}(t,r,a,i,o),s}function mr(t,e){t=co.rgb(t),e=co.rgb(e);var n=t.r,r=t.g,a=t.b,i=e.r-n,o=e.g-r,s=e.b-a;return function(t){return"#"+wt(Math.round(n+i*t))+wt(Math.round(r+o*t))+wt(Math.round(a+s*t))}}function yr(t,e){var n,r={},a={};for(n in t)n in e?r[n]=_r(t[n],e[n]):a[n]=t[n];for(n in e)n in t||(a[n]=e[n]);return function(t){for(n in r)a[n]=r[n](t);return a}}function br(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function xr(t,e){var n,r,a,i=ul.lastIndex=dl.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=ul.exec(t))&&(r=dl.exec(e));)(a=r.index)>i&&(a=e.slice(i,a),s[o]?s[o]+=a:s[++o]=a),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:br(n,r)})),i=dl.lastIndex;return i<e.length&&(a=e.slice(i),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;r<e;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function _r(t,e){for(var n,r=co.interpolators.length;--r>=0&&!(n=co.interpolators[r](t,e)););return n}function wr(t,e){var n,r=[],a=[],i=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)r.push(_r(t[n],e[n]));for(;n<i;++n)a[n]=t[n];for(;n<o;++n)a[n]=e[n];return function(t){for(n=0;n<s;++n)a[n]=r[n](t);return a}}function Tr(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function kr(t){return function(e){return 1-t(1-e)}}function Ar(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Mr(t){return t*t}function Cr(t){return t*t*t}function Sr(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function Er(t){return function(e){return Math.pow(e,t)}}function Lr(t){return 1-Math.cos(t*Vo)}function Or(t){return Math.pow(2,10*(t-1))}function Dr(t){return 1-Math.sqrt(1-t*t)}function Ir(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Ho*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Ho/e)}}function Pr(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Nr(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function zr(t,e){t=co.hcl(t),e=co.hcl(e);var n=t.h,r=t.c,a=t.l,i=e.h-n,o=e.c-r,s=e.l-a;return isNaN(o)&&(o=0,r=isNaN(r)?e.c:r),isNaN(i)?(i=0,n=isNaN(n)?e.h:n):i>180?i-=360:i<-180&&(i+=360),function(t){return ft(n+i*t,r+o*t,a+s*t)+""}}function Rr(t,e){t=co.hsl(t),e=co.hsl(e);var n=t.h,r=t.s,a=t.l,i=e.h-n,o=e.s-r,s=e.l-a;return isNaN(o)&&(o=0,r=isNaN(r)?e.s:r),isNaN(i)?(i=0,n=isNaN(n)?e.h:n):i>180?i-=360:i<-180&&(i+=360),function(t){return ut(n+i*t,r+o*t,a+s*t)+""}}function Fr(t,e){t=co.lab(t),e=co.lab(e);var n=t.l,r=t.a,a=t.b,i=e.l-n,o=e.a-r,s=e.b-a;return function(t){return ht(n+i*t,r+o*t,a+s*t)+""}}function jr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Hr(t){var e=[t.a,t.b],n=[t.c,t.d],r=Vr(e),a=Br(e,n),i=Vr(qr(n,e,-a))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,a*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*$o,this.translate=[t.e,t.f],this.scale=[r,i],this.skew=i?Math.atan2(a,i)*$o:0}function Br(t,e){return t[0]*e[0]+t[1]*e[1]}function Vr(t){var e=Math.sqrt(Br(t,t));return e&&(t[0]/=e,t[1]/=e),e}function qr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function $r(t){return t.length?t.pop()+",":""}function Ur(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var a=n.push("translate(",null,",",null,")");r.push({i:a-4,x:br(t[0],e[0])},{i:a-2,x:br(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Wr(t,e,n,r){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),r.push({i:n.push($r(n)+"rotate(",null,")")-2,x:br(t,e)})):e&&n.push($r(n)+"rotate("+e+")")}function Gr(t,e,n,r){t!==e?r.push({i:n.push($r(n)+"skewX(",null,")")-2,x:br(t,e)}):e&&n.push($r(n)+"skewX("+e+")")}function Yr(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var a=n.push($r(n)+"scale(",null,",",null,")");r.push({i:a-4,x:br(t[0],e[0])},{i:a-2,x:br(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push($r(n)+"scale("+e+")")}function Xr(t,e){var n=[],r=[];return t=co.transform(t),e=co.transform(e),Ur(t.translate,e.translate,n,r),Wr(t.rotate,e.rotate,n,r),Gr(t.skew,e.skew,n,r),Yr(t.scale,e.scale,n,r),t=e=null,function(t){for(var e,a=-1,i=r.length;++a<i;)n[(e=r[a]).i]=e.x(t);return n.join("")}}function Zr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function Qr(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Kr(t){for(var e=t.source,n=t.target,r=ta(e,n),a=[e];e!==r;)e=e.parent,a.push(e);for(var i=a.length;n!==r;)a.splice(i,0,n),n=n.parent;return a}function Jr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function ta(t,e){if(t===e)return t;for(var n=Jr(t),r=Jr(e),a=n.pop(),i=r.pop(),o=null;a===i;)o=a,a=n.pop(),i=r.pop();return o}function ea(t){t.fixed|=2}function na(t){t.fixed&=-7}function ra(t){t.fixed|=4,t.px=t.x,t.py=t.y}function aa(t){t.fixed&=-5}function ia(t,e,n){var r=0,a=0;if(t.charge=0,!t.leaf)for(var i,o=t.nodes,s=o.length,l=-1;++l<s;)null!=(i=o[l])&&(ia(i,e,n),t.charge+=i.charge,r+=i.charge*i.cx,a+=i.charge*i.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var c=e*n[t.point.index];t.charge+=t.pointCharge=c,r+=c*t.point.x,a+=c*t.point.y}t.cx=r/t.charge,t.cy=a/t.charge}function oa(t,e){return co.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=fa,t}function sa(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(a=t.children)&&(r=a.length))for(var r,a;--r>=0;)n.push(a[r])}function la(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(i=t.children)&&(a=i.length))for(var a,i,o=-1;++o<a;)n.push(i[o]);for(;null!=(t=r.pop());)e(t)}function ca(t){return t.children}function ua(t){return t.value}function da(t,e){return e.value-t.value}function fa(t){return co.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function pa(t){return t.x}function ha(t){return t.y}function ga(t,e,n){t.y0=e,t.y=n}function va(t){return co.range(t.length)}function ma(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function ya(t){for(var e,n=1,r=0,a=t[0][1],i=t.length;n<i;++n)(e=t[n][1])>a&&(r=n,a=e);return r}function ba(t){return t.reduce(xa,0)}function xa(t,e){return t+e[1]}function _a(t,e){return wa(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function wa(t,e){for(var n=-1,r=+t[0],a=(t[1]-r)/e,i=[];++n<=e;)i[n]=a*n+r;return i}function Ta(t){return[co.min(t),co.max(t)]}function ka(t,e){return t.value-e.value}function Aa(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Ma(t,e){t._pack_next=e,e._pack_prev=t}function Ca(t,e){var n=e.x-t.x,r=e.y-t.y,a=t.r+e.r;return.999*a*a>n*n+r*r}function Sa(t){function e(t){u=Math.min(t.x-t.r,u),d=Math.max(t.x+t.r,d),f=Math.min(t.y-t.r,f),p=Math.max(t.y+t.r,p)}if((n=t.children)&&(c=n.length)){var n,r,a,i,o,s,l,c,u=1/0,d=-1/0,f=1/0,p=-1/0;if(n.forEach(Ea),r=n[0],r.x=-r.r,r.y=0,e(r),c>1&&(a=n[1],a.x=a.r,a.y=0,e(a),c>2))for(i=n[2],Da(r,a,i),e(i),Aa(r,i),r._pack_prev=i,Aa(i,a),a=r._pack_next,o=3;o<c;o++){Da(r,a,i=n[o]);var h=0,g=1,v=1;for(s=a._pack_next;s!==a;s=s._pack_next,g++)if(Ca(s,i)){h=1;break}if(1==h)for(l=r._pack_prev;l!==s._pack_prev&&!Ca(l,i);l=l._pack_prev,v++);h?(g<v||g==v&&a.r<r.r?Ma(r,a=s):Ma(r=l,a),o--):(Aa(r,i),a=i,e(i))}var m=(u+d)/2,y=(f+p)/2,b=0;for(o=0;o<c;o++)i=n[o],i.x-=m,i.y-=y,b=Math.max(b,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=b,n.forEach(La)}}function Ea(t){t._pack_next=t._pack_prev=t}function La(t){delete t._pack_next,delete t._pack_prev}function Oa(t,e,n,r){var a=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,a)for(var i=-1,o=a.length;++i<o;)Oa(a[i],e,n,r)}function Da(t,e,n){var r=t.r+n.r,a=e.x-t.x,i=e.y-t.y;if(r&&(a||i)){var o=e.r+n.r,s=a*a+i*i;o*=o,r*=r;var l=.5+(r-o)/(2*s),c=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=t.x+l*a+c*i,n.y=t.y+l*i-c*a}else n.x=t.x+r,n.y=t.y}function Ia(t,e){return t.parent==e.parent?1:2}function Pa(t){var e=t.children;return e.length?e[0]:t.t}function Na(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function za(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Ra(t){for(var e,n=0,r=0,a=t.children,i=a.length;--i>=0;)e=a[i],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Fa(t,e,n){return t.a.parent===e.parent?t.a:n}function ja(t){return 1+co.max(t,function(t){return t.y})}function Ha(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Ba(t){var e=t.children;return e&&e.length?Ba(e[0]):t}function Va(t){var e,n=t.children;return n&&(e=n.length)?Va(n[e-1]):t}function qa(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function $a(t,e){var n=t.x+e[3],r=t.y+e[0],a=t.dx-e[1]-e[3],i=t.dy-e[0]-e[2];return a<0&&(n+=a/2,a=0),i<0&&(r+=i/2,i=0),{x:n,y:r,dx:a,dy:i}}function Ua(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Wa(t){return t.rangeExtent?t.rangeExtent():Ua(t.range())}function Ga(t,e,n,r){var a=n(t[0],t[1]),i=r(e[0],e[1]);return function(t){return i(a(t))}}function Ya(t,e){var n,r=0,a=t.length-1,i=t[r],o=t[a];return o<i&&(n=r,r=a,a=n,n=i,i=o,o=n),t[r]=e.floor(i),t[a]=e.ceil(o),t}function Xa(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:wl}function Za(t,e,n,r){var a=[],i=[],o=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=s;)a.push(n(t[o-1],t[o])),i.push(r(e[o-1],e[o]));return function(e){var n=co.bisect(t,e,1,s)-1;return i[n](a[n](e))}}function Qa(t,e,n,r){function a(){var a=Math.min(t.length,e.length)>2?Za:Ga,l=r?Qr:Zr;return o=a(t,e,l,n),s=a(e,t,l,_r),i}function i(t){return o(t)}var o,s;return i.invert=function(t){return s(t)},i.domain=function(e){return arguments.length?(t=e.map(Number),a()):t},i.range=function(t){return arguments.length?(e=t,a()):e},i.rangeRound=function(t){return i.range(t).interpolate(jr)},i.clamp=function(t){return arguments.length?(r=t,a()):r},i.interpolate=function(t){return arguments.length?(n=t,a()):n},i.ticks=function(e){return ei(t,e)},i.tickFormat=function(e,n){return ni(t,e,n)},i.nice=function(e){return Ja(t,e),a()},i.copy=function(){return Qa(t,e,n,r)},a()}function Ka(t,e){return co.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Ja(t,e){return Ya(t,Xa(ti(t,e)[2])),Ya(t,Xa(ti(t,e)[2])),t}function ti(t,e){null==e&&(e=10);var n=Ua(t),r=n[1]-n[0],a=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),i=e/r*a;return i<=.15?a*=10:i<=.35?a*=5:i<=.75&&(a*=2),n[0]=Math.ceil(n[0]/a)*a,n[1]=Math.floor(n[1]/a)*a+.5*a,n[2]=a,n}function ei(t,e){return co.range.apply(co,ti(t,e))}function ni(t,e,n){var r=ti(t,e);if(n){var a=us.exec(n);if(a.shift(),"s"===a[8]){var i=co.formatPrefix(Math.max(xo(r[0]),xo(r[1])));return a[7]||(a[7]="."+ri(i.scale(r[2]))),a[8]="f",n=co.format(a.join("")),function(t){return n(i.scale(t))+i.symbol}}a[7]||(a[7]="."+ai(a[8],r)),n=a.join("")}else n=",."+ri(r[2])+"f";return co.format(n)}function ri(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function ai(t,e){var n=ri(e[2]);return t in Tl?Math.abs(n-ri(Math.max(xo(e[0]),xo(e[1]))))+ +("e"!==t):n-2*("%"===t)}function ii(t,e,n,r){function a(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function i(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(a(e))}return o.invert=function(e){return i(t.invert(e))},o.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(a)),o):r},o.base=function(n){return arguments.length?(e=+n,t.domain(r.map(a)),o):e},o.nice=function(){var e=Ya(r.map(a),n?Math:Al);return t.domain(e),r=e.map(i),o},o.ticks=function(){var t=Ua(r),o=[],s=t[0],l=t[1],c=Math.floor(a(s)),u=Math.ceil(a(l)),d=e%1?2:e;if(isFinite(u-c)){if(n){for(;c<u;c++)for(var f=1;f<d;f++)o.push(i(c)*f);o.push(i(c))}else for(o.push(i(c));c++<u;)for(var f=d-1;f>0;f--)o.push(i(c)*f);for(c=0;o[c]<s;c++);for(u=o.length;o[u-1]>l;u--);o=o.slice(c,u)}return o},o.tickFormat=function(t,n){if(!arguments.length)return kl;arguments.length<2?n=kl:"function"!=typeof n&&(n=co.format(n));var r=Math.max(1,e*t/o.ticks().length);return function(t){var o=t/i(Math.round(a(t)));return o*e<e-.5&&(o*=e),o<=r?n(t):""}},o.copy=function(){return ii(t.copy(),e,n,r)},Ka(o,t)}function oi(t,e,n){function r(e){return t(a(e))}var a=si(e),i=si(1/e);return r.invert=function(e){return i(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(a)),r):n},r.ticks=function(t){return ei(n,t)},r.tickFormat=function(t,e){return ni(n,t,e)},r.nice=function(t){return r.domain(Ja(n,t))},r.exponent=function(o){return arguments.length?(a=si(e=o),i=si(1/e),t.domain(n.map(a)),r):e},r.copy=function(){return oi(t.copy(),e,n)},Ka(r,t)}function si(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function li(t,e){function n(n){return i[((a.get(n)||("range"===e.t?a.set(n,t.push(n)):NaN))-1)%i.length]}function r(e,n){return co.range(t.length).map(function(t){return e+n*t})}var a,i,o;return n.domain=function(r){if(!arguments.length)return t;t=[],a=new d;for(var i,o=-1,s=r.length;++o<s;)a.has(i=r[o])||a.set(i,t.push(i));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(i=t,o=0,e={t:"range",a:arguments},n):i},n.rangePoints=function(a,s){arguments.length<2&&(s=0);var l=a[0],c=a[1],u=t.length<2?(l=(l+c)/2,0):(c-l)/(t.length-1+s);return i=r(l+u*s/2,u),o=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(a,s){arguments.length<2&&(s=0);var l=a[0],c=a[1],u=t.length<2?(l=c=Math.round((l+c)/2),0):(c-l)/(t.length-1+s)|0;return i=r(l+Math.round(u*s/2+(c-l-(t.length-1+s)*u)/2),u),o=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(a,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var c=a[1]<a[0],u=a[c-0],d=a[1-c],f=(d-u)/(t.length-s+2*l);return i=r(u+f*l,f),c&&i.reverse(),o=f*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(a,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var c=a[1]<a[0],u=a[c-0],d=a[1-c],f=Math.floor((d-u)/(t.length-s+2*l));return i=r(u+Math.round((d-u-(t.length-s)*f)/2),f),c&&i.reverse(),o=Math.round(f*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return Ua(e.a[0])},n.copy=function(){return li(t,e)},n.domain(t)}function ci(t,e){function n(){var n=0,a=e.length;for(s=[];++n<a;)s[n-1]=co.quantile(t,n/a);return r}function r(t){if(!isNaN(t=+t))return e[co.bisect(s,t)]}var s;return r.domain=function(e){return arguments.length?(t=e.map(i).filter(o).sort(a),n()):t},r.range=function(t){return arguments.length?(e=t,n()):e},r.quantiles=function(){return s},r.invertExtent=function(n){return n=e.indexOf(n),n<0?[NaN,NaN]:[n>0?s[n-1]:t[0],n<s.length?s[n]:t[t.length-1]]},r.copy=function(){return ci(t,e)},n()}function ui(t,e,n){function r(e){return n[Math.max(0,Math.min(o,Math.floor(i*(e-t))))]}function a(){return i=n.length/(e-t),o=n.length-1,r}var i,o;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],a()):[t,e]},r.range=function(t){return arguments.length?(n=t,a()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/i+t,[e,e+1/i]},r.copy=function(){return ui(t,e,n)},a()}function di(t,e){function n(n){if(n<=n)return e[co.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return di(t,e)},n}function fi(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return ei(t,e)},e.tickFormat=function(e,n){return ni(t,e,n)},e.copy=function(){return fi(t)},e}function pi(){return 0}function hi(t){return t.innerRadius}function gi(t){return t.outerRadius}function vi(t){return t.startAngle}function mi(t){return t.endAngle}function yi(t){return t&&t.padAngle}function bi(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function xi(t,e,n,r,a){var i=t[0]-e[0],o=t[1]-e[1],s=(a?r:-r)/Math.sqrt(i*i+o*o),l=s*o,c=-s*i,u=t[0]+l,d=t[1]+c,f=e[0]+l,p=e[1]+c,h=(u+f)/2,g=(d+p)/2,v=f-u,m=p-d,y=v*v+m*m,b=n-r,x=u*p-f*d,_=(m<0?-1:1)*Math.sqrt(Math.max(0,b*b*y-x*x)),w=(x*m-v*_)/y,T=(-x*v-m*_)/y,k=(x*m+v*_)/y,A=(-x*v+m*_)/y,M=w-h,C=T-g,S=k-h,E=A-g;return M*M+C*C>S*S+E*E&&(w=k,T=A),[[w-l,T-c],[w*n/b,T*n/b]]}function _i(t){function e(e){function o(){c.push("M",i(t(u),s))}for(var l,c=[],u=[],d=-1,f=e.length,p=St(n),h=St(r);++d<f;)a.call(this,l=e[d],d)?u.push([+p.call(this,l,d),+h.call(this,l,d)]):u.length&&(o(),u=[]);return u.length&&o(),c.length?c.join(""):null}var n=On,r=Dn,a=Oe,i=wi,o=i.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(o="function"==typeof t?i=t:(i=Ol.get(t)||wi).key,e):o},e.tension=function(t){return arguments.length?(s=t,e):s},e}function wi(t){return t.length>1?t.join("L"):t+"Z"}function Ti(t){return t.join("L")+"Z"}function ki(t){for(var e=0,n=t.length,r=t[0],a=[r[0],",",r[1]];++e<n;)a.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&a.push("H",r[0]),a.join("")}function Ai(t){for(var e=0,n=t.length,r=t[0],a=[r[0],",",r[1]];++e<n;)a.push("V",(r=t[e])[1],"H",r[0]);return a.join("")}function Mi(t){for(var e=0,n=t.length,r=t[0],a=[r[0],",",r[1]];++e<n;)a.push("H",(r=t[e])[0],"V",r[1]);return a.join("")}function Ci(t,e){return t.length<4?wi(t):t[1]+Li(t.slice(1,-1),Oi(t,e))}function Si(t,e){return t.length<3?Ti(t):t[0]+Li((t.push(t[0]),t),Oi([t[t.length-2]].concat(t,[t[1]]),e))}function Ei(t,e){return t.length<3?wi(t):t[0]+Li(t,Oi(t,e))}function Li(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return wi(t);var n=t.length!=e.length,r="",a=t[0],i=t[1],o=e[0],s=o,l=1;if(n&&(r+="Q"+(i[0]-2*o[0]/3)+","+(i[1]-2*o[1]/3)+","+i[0]+","+i[1],a=t[1],l=2),e.length>1){s=e[1],i=t[l],l++,r+="C"+(a[0]+o[0])+","+(a[1]+o[1])+","+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1];for(var c=2;c<e.length;c++,l++)i=t[l],s=e[c],r+="S"+(i[0]-s[0])+","+(i[1]-s[1])+","+i[0]+","+i[1]}if(n){var u=t[l];r+="Q"+(i[0]+2*s[0]/3)+","+(i[1]+2*s[1]/3)+","+u[0]+","+u[1]}return r}function Oi(t,e){for(var n,r=[],a=(1-e)/2,i=t[0],o=t[1],s=1,l=t.length;++s<l;)n=i,i=o,o=t[s],r.push([a*(o[0]-n[0]),a*(o[1]-n[1])]);return r}function Di(t){if(t.length<3)return wi(t);var e=1,n=t.length,r=t[0],a=r[0],i=r[1],o=[a,a,a,(r=t[1])[0]],s=[i,i,i,r[1]],l=[a,",",i,"L",zi(Pl,o),",",zi(Pl,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),Ri(l,o,s);return t.pop(),l.push("L",r),l.join("")}function Ii(t){if(t.length<4)return wi(t);for(var e,n=[],r=-1,a=t.length,i=[0],o=[0];++r<3;)e=t[r],i.push(e[0]),o.push(e[1]);for(n.push(zi(Pl,i)+","+zi(Pl,o)),--r;++r<a;)e=t[r],i.shift(),i.push(e[0]),o.shift(),o.push(e[1]),Ri(n,i,o);return n.join("")}function Pi(t){for(var e,n,r=-1,a=t.length,i=a+4,o=[],s=[];++r<4;)n=t[r%a],o.push(n[0]),s.push(n[1]);for(e=[zi(Pl,o),",",zi(Pl,s)],--r;++r<i;)n=t[r%a],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),Ri(e,o,s);return e.join("")}function Ni(t,e){var n=t.length-1;if(n)for(var r,a,i=t[0][0],o=t[0][1],s=t[n][0]-i,l=t[n][1]-o,c=-1;++c<=n;)r=t[c],a=c/n,r[0]=e*r[0]+(1-e)*(i+a*s),r[1]=e*r[1]+(1-e)*(o+a*l);return Di(t)}function zi(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ri(t,e,n){t.push("C",zi(Dl,e),",",zi(Dl,n),",",zi(Il,e),",",zi(Il,n),",",zi(Pl,e),",",zi(Pl,n))}function Fi(t,e){return(e[1]-t[1])/(e[0]-t[0])}function ji(t){for(var e=0,n=t.length-1,r=[],a=t[0],i=t[1],o=r[0]=Fi(a,i);++e<n;)r[e]=(o+(o=Fi(a=i,i=t[e+1])))/2;return r[e]=o,r}function Hi(t){for(var e,n,r,a,i=[],o=ji(t),s=-1,l=t.length-1;++s<l;)e=Fi(t[s],t[s+1]),xo(e)<Ro?o[s]=o[s+1]=0:(n=o[s]/e,r=o[s+1]/e,(a=n*n+r*r)>9&&(a=3*e/Math.sqrt(a),o[s]=a*n,o[s+1]=a*r));for(s=-1;++s<=l;)a=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),i.push([a||0,o[s]*a||0]);return i}function Bi(t){return t.length<3?wi(t):t[0]+Li(t,Hi(t))}function Vi(t){for(var e,n,r,a=-1,i=t.length;++a<i;)e=t[a],n=e[0],r=e[1]-Vo,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function qi(t){function e(e){function l(){g.push("M",s(t(m),d),u,c(t(v.reverse()),d),"Z")}for(var f,p,h,g=[],v=[],m=[],y=-1,b=e.length,x=St(n),_=St(a),w=n===r?function(){return p}:St(r),T=a===i?function(){return h}:St(i);++y<b;)o.call(this,f=e[y],y)?(v.push([p=+x.call(this,f,y),h=+_.call(this,f,y)]),m.push([+w.call(this,f,y),+T.call(this,f,y)])):v.length&&(l(),v=[],m=[]);return v.length&&l(),g.length?g.join(""):null}var n=On,r=On,a=0,i=Dn,o=Oe,s=wi,l=s.key,c=s,u="L",d=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(a=i=t,e):i},e.y0=function(t){return arguments.length?(a=t,e):a},e.y1=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=Ol.get(t)||wi).key,c=s.reverse||s,u=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(d=t,e):d},e}function $i(t){return t.radius}function Ui(t){return[t.x,t.y]}function Wi(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Vo;return[n*Math.cos(r),n*Math.sin(r)]}}function Gi(){return 64}function Yi(){return"circle"}function Xi(t){var e=Math.sqrt(t/jo);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Zi(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Qi(t,e,n){return Ao(t,Bl),t.namespace=e,t.id=n,t}function Ki(t,e,n,r){var a=t.id,i=t.namespace;return U(t,"function"==typeof n?function(t,o,s){t[i][a].tween.set(e,r(n.call(t,t.__data__,o,s)))}:(n=r(n),function(t){t[i][a].tween.set(e,n)}))}function Ji(t){return null==t&&(t=""),function(){this.textContent=t}}function to(t){return null==t?"__transition__":"__transition_"+t+"__"}function eo(t,e,n,r,a){function i(t){var e=g.delay;if(c.t=e+l,e<=t)return o(t-e);c.c=o}function o(n){var a=h.active,i=h[a];i&&(i.timer.c=null,i.timer.t=NaN,--h.count,delete h[a],i.event&&i.event.interrupt.call(t,t.__data__,i.index));for(var o in h)if(+o<r){var d=h[o];d.timer.c=null,d.timer.t=NaN,--h.count,delete h[o]}c.c=s,It(function(){return c.c&&s(n||1)&&(c.c=null,c.t=NaN),1},0,l),h.active=r,g.event&&g.event.start.call(t,t.__data__,e),p=[],g.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&p.push(r)}),f=g.ease,u=g.duration}function s(a){for(var i=a/u,o=f(i),s=p.length;s>0;)p[--s].call(t,o);if(i>=1)return g.event&&g.event.end.call(t,t.__data__,e),--h.count?delete h[r]:delete t[n],1}var l,c,u,f,p,h=t[n]||(t[n]={active:0,count:0}),g=h[r];g||(l=a.time,c=It(i,0,l),g=h[r]={tween:new d,time:l,timer:c,delay:a.delay,duration:a.duration,ease:a.ease,index:e},a=null,++h.count)}function no(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function ro(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function ao(t){return t.toISOString()}function io(t,e,n){function r(e){return t(e)}function a(t,n){var r=t[1]-t[0],a=r/n,i=co.bisect(Zl,a);return i==Zl.length?[e.year,ti(t.map(function(t){return t/31536e6}),n)[2]]:i?e[a/Zl[i-1]<Zl[i]/a?i-1:i]:[Jl,ti(t,n)[2]]}return r.invert=function(e){return oo(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(oo)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,oo(+n+1),e).length}var i=r.domain(),o=Ua(i),s=null==t?a(o,10):"number"==typeof t&&a(o,t);return s&&(t=s[0],e=s[1]),r.domain(Ya(i,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=oo(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=oo(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Ua(r.domain()),i=null==t?a(n,10):"number"==typeof t?a(n,t):!t.range&&[{range:t},e];return i&&(t=i[0],e=i[1]),t.range(n[0],oo(+n[1]+1),e<1?1:e)},r.tickFormat=function(){return n},r.copy=function(){return io(t.copy(),e,n)},Ka(r,t)}function oo(t){return new Date(t)}function so(t){return JSON.parse(t.responseText)}function lo(t){var e=po.createRange();return e.selectNode(po.body),e.createContextualFragment(t.responseText)}var co={version:"3.5.17"},uo=[].slice,fo=function(t){return uo.call(t)},po=this.document;if(po)try{fo(po.documentElement.childNodes)[0].nodeType}catch(t){fo=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),po)try{po.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var ho=this.Element.prototype,go=ho.setAttribute,vo=ho.setAttributeNS,mo=this.CSSStyleDeclaration.prototype,yo=mo.setProperty;ho.setAttribute=function(t,e){go.call(this,t,e+"")},ho.setAttributeNS=function(t,e,n){vo.call(this,t,e,n+"")},mo.setProperty=function(t,e,n){yo.call(this,t,e+"",n)}}co.ascending=a,co.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},co.min=function(t,e){var n,r,a=-1,i=t.length;if(1===arguments.length){for(;++a<i;)if(null!=(r=t[a])&&r>=r){n=r;break}for(;++a<i;)null!=(r=t[a])&&n>r&&(n=r)}else{for(;++a<i;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=r;break}for(;++a<i;)null!=(r=e.call(t,t[a],a))&&n>r&&(n=r)}return n},co.max=function(t,e){var n,r,a=-1,i=t.length;if(1===arguments.length){for(;++a<i;)if(null!=(r=t[a])&&r>=r){n=r;break}for(;++a<i;)null!=(r=t[a])&&r>n&&(n=r)}else{for(;++a<i;)if(null!=(r=e.call(t,t[a],a))&&r>=r){n=r;break}for(;++a<i;)null!=(r=e.call(t,t[a],a))&&r>n&&(n=r)}return n},
co.extent=function(t,e){var n,r,a,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=a=r;break}for(;++i<o;)null!=(r=t[i])&&(n>r&&(n=r),a<r&&(a=r))}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=a=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&(n>r&&(n=r),a<r&&(a=r))}return[n,a]},co.sum=function(t,e){var n,r=0,a=t.length,i=-1;if(1===arguments.length)for(;++i<a;)o(n=+t[i])&&(r+=n);else for(;++i<a;)o(n=+e.call(t,t[i],i))&&(r+=n);return r},co.mean=function(t,e){var n,r=0,a=t.length,s=-1,l=a;if(1===arguments.length)for(;++s<a;)o(n=i(t[s]))?r+=n:--l;else for(;++s<a;)o(n=i(e.call(t,t[s],s)))?r+=n:--l;if(l)return r/l},co.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),a=+t[r-1],i=n-r;return i?a+i*(t[r]-a):a},co.median=function(t,e){var n,r=[],s=t.length,l=-1;if(1===arguments.length)for(;++l<s;)o(n=i(t[l]))&&r.push(n);else for(;++l<s;)o(n=i(e.call(t,t[l],l)))&&r.push(n);if(r.length)return co.quantile(r.sort(a),.5)},co.variance=function(t,e){var n,r,a=t.length,s=0,l=0,c=-1,u=0;if(1===arguments.length)for(;++c<a;)o(n=i(t[c]))&&(r=n-s,s+=r/++u,l+=r*(n-s));else for(;++c<a;)o(n=i(e.call(t,t[c],c)))&&(r=n-s,s+=r/++u,l+=r*(n-s));if(u>1)return l/(u-1)},co.deviation=function(){var t=co.variance.apply(this,arguments);return t?Math.sqrt(t):t};var bo=s(a);co.bisectLeft=bo.left,co.bisect=co.bisectRight=bo.right,co.bisector=function(t){return s(1===t.length?function(e,n){return a(t(e),n)}:t)},co.shuffle=function(t,e,n){(i=arguments.length)<3&&(n=t.length,i<2&&(e=0));for(var r,a,i=n-e;i;)a=Math.random()*i--|0,r=t[i+e],t[i+e]=t[a+e],t[a+e]=r;return t},co.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},co.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],a=new Array(n<0?0:n);e<n;)a[e]=[r,r=t[++e]];return a},co.transpose=function(t){if(!(a=t.length))return[];for(var e=-1,n=co.min(t,l),r=new Array(n);++e<n;)for(var a,i=-1,o=r[e]=new Array(a);++i<a;)o[i]=t[i][e];return r},co.zip=function(){return co.transpose(arguments)},co.keys=function(t){var e=[];for(var n in t)e.push(n);return e},co.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},co.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},co.merge=function(t){for(var e,n,r,a=t.length,i=-1,o=0;++i<a;)o+=t[i].length;for(n=new Array(o);--a>=0;)for(r=t[a],e=r.length;--e>=0;)n[--o]=r[e];return n};var xo=Math.abs;co.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw new Error("infinite range");var r,a=[],i=c(xo(n)),o=-1;if(t*=i,e*=i,(n*=i)<0)for(;(r=t+n*++o)>e;)a.push(r/i);else for(;(r=t+n*++o)<e;)a.push(r/i);return a},co.map=function(t,e){var n=new d;if(t instanceof d)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,a=-1,i=t.length;if(1===arguments.length)for(;++a<i;)n.set(a,t[a]);else for(;++a<i;)n.set(e.call(t,r=t[a],a),r)}else for(var o in t)n.set(o,t[o]);return n};var _o="__proto__",wo="\0";u(d,{has:h,get:function(t){return this._[f(t)]},set:function(t,e){return this._[f(t)]=e},remove:g,keys:v,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:p(e),value:this._[e]});return t},size:m,empty:y,forEach:function(t){for(var e in this._)t.call(this,p(e),this._[e])}}),co.nest=function(){function t(e,o,s){if(s>=i.length)return r?r.call(a,o):n?o.sort(n):o;for(var l,c,u,f,p=-1,h=o.length,g=i[s++],v=new d;++p<h;)(f=v.get(l=g(c=o[p])))?f.push(c):v.set(l,[c]);return e?(c=e(),u=function(n,r){c.set(n,t(e,r,s))}):(c={},u=function(n,r){c[n]=t(e,r,s)}),v.forEach(u),c}function e(t,n){if(n>=i.length)return t;var r=[],a=o[n++];return t.forEach(function(t,a){r.push({key:t,values:e(a,n)})}),a?r.sort(function(t,e){return a(t.key,e.key)}):r}var n,r,a={},i=[],o=[];return a.map=function(e,n){return t(n,e,0)},a.entries=function(n){return e(t(co.map,n,0),0)},a.key=function(t){return i.push(t),a},a.sortKeys=function(t){return o[i.length-1]=t,a},a.sortValues=function(t){return n=t,a},a.rollup=function(t){return r=t,a},a},co.set=function(t){var e=new b;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},u(b,{has:h,add:function(t){return this._[f(t+="")]=!0,t},remove:g,values:v,size:m,empty:y,forEach:function(t){for(var e in this._)t.call(this,p(e))}}),co.behavior={},co.rebind=function(t,e){for(var n,r=1,a=arguments.length;++r<a;)t[n=arguments[r]]=_(t,e,e[n]);return t};var To=["webkit","ms","moz","Moz","o","O"];co.dispatch=function(){for(var t=new k,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=A(t);return t},k.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},co.event=null,co.requote=function(t){return t.replace(ko,"\\$&")};var ko=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Ao={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Mo=function(t,e){return e.querySelector(t)},Co=function(t,e){return e.querySelectorAll(t)},So=function(t,e){var n=t.matches||t[w(t,"matchesSelector")];return(So=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Mo=function(t,e){return Sizzle(t,e)[0]||null},Co=Sizzle,So=Sizzle.matchesSelector),co.selection=function(){return co.select(po.documentElement)};var Eo=co.selection.prototype=[];Eo.select=function(t){var e,n,r,a,i=[];t=L(t);for(var o=-1,s=this.length;++o<s;){i.push(e=[]),e.parentNode=(r=this[o]).parentNode;for(var l=-1,c=r.length;++l<c;)(a=r[l])?(e.push(n=t.call(a,a.__data__,l,o)),n&&"__data__"in a&&(n.__data__=a.__data__)):e.push(null)}return E(i)},Eo.selectAll=function(t){var e,n,r=[];t=O(t);for(var a=-1,i=this.length;++a<i;)for(var o=this[a],s=-1,l=o.length;++s<l;)(n=o[s])&&(r.push(e=fo(t.call(n,n.__data__,s,a))),e.parentNode=n);return E(r)};var Lo="http://www.w3.org/1999/xhtml",Oo={svg:"http://www.w3.org/2000/svg",xhtml:Lo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};co.ns={prefix:Oo,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Oo.hasOwnProperty(n)?{space:Oo[n],local:t}:t}},Eo.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=co.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(D(e,t[e]));return this}return this.each(D(t,e))},Eo.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=N(t)).length,a=-1;if(e=n.classList){for(;++a<r;)if(!e.contains(t[a]))return!1}else for(e=n.getAttribute("class");++a<r;)if(!P(t[a]).test(e))return!1;return!0}for(e in t)this.each(z(e,t[e]));return this}return this.each(z(t,e))},Eo.style=function(t,e,n){var a=arguments.length;if(a<3){if("string"!=typeof t){a<2&&(e="");for(n in t)this.each(F(n,t[n],e));return this}if(a<2){var i=this.node();return r(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(F(t,e,n))},Eo.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(j(e,t[e]));return this}return this.each(j(t,e))},Eo.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Eo.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Eo.append=function(t){return t=H(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Eo.insert=function(t,e){return t=H(t),e=L(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Eo.remove=function(){return this.each(B)},Eo.data=function(t,e){function n(t,n){var r,a,i,o=t.length,u=n.length,f=Math.min(o,u),p=new Array(u),h=new Array(u),g=new Array(o);if(e){var v,m=new d,y=new Array(o);for(r=-1;++r<o;)(a=t[r])&&(m.has(v=e.call(a,a.__data__,r))?g[r]=a:m.set(v,a),y[r]=v);for(r=-1;++r<u;)(a=m.get(v=e.call(n,i=n[r],r)))?!0!==a&&(p[r]=a,a.__data__=i):h[r]=V(i),m.set(v,!0);for(r=-1;++r<o;)r in y&&!0!==m.get(y[r])&&(g[r]=t[r])}else{for(r=-1;++r<f;)a=t[r],i=n[r],a?(a.__data__=i,p[r]=a):h[r]=V(i);for(;r<u;++r)h[r]=V(n[r]);for(;r<o;++r)g[r]=t[r]}h.update=p,h.parentNode=p.parentNode=g.parentNode=t.parentNode,s.push(h),l.push(p),c.push(g)}var r,a,i=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(r=this[0]).length);++i<o;)(a=r[i])&&(t[i]=a.__data__);return t}var s=W([]),l=E([]),c=E([]);if("function"==typeof t)for(;++i<o;)n(r=this[i],t.call(r,r.parentNode.__data__,i));else for(;++i<o;)n(r=this[i],t);return l.enter=function(){return s},l.exit=function(){return c},l},Eo.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Eo.filter=function(t){var e,n,r,a=[];"function"!=typeof t&&(t=q(t));for(var i=0,o=this.length;i<o;i++){a.push(e=[]),e.parentNode=(n=this[i]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,i)&&e.push(r)}return E(a)},Eo.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],a=r.length-1,i=r[a];--a>=0;)(n=r[a])&&(i&&i!==n.nextSibling&&i.parentNode.insertBefore(n,i),i=n);return this},Eo.sort=function(t){t=$.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Eo.each=function(t){return U(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Eo.call=function(t){var e=fo(arguments);return t.apply(e[0]=this,e),this},Eo.empty=function(){return!this.node()},Eo.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,a=n.length;r<a;r++){var i=n[r];if(i)return i}return null},Eo.size=function(){var t=0;return U(this,function(){++t}),t};var Do=[];co.selection.enter=W,co.selection.enter.prototype=Do,Do.append=Eo.append,Do.empty=Eo.empty,Do.node=Eo.node,Do.call=Eo.call,Do.size=Eo.size,Do.select=function(t){for(var e,n,r,a,i,o=[],s=-1,l=this.length;++s<l;){r=(a=this[s]).update,o.push(e=[]),e.parentNode=a.parentNode;for(var c=-1,u=a.length;++c<u;)(i=a[c])?(e.push(r[c]=n=t.call(a.parentNode,i.__data__,c,s)),n.__data__=i.__data__):e.push(null)}return E(o)},Do.insert=function(t,e){return arguments.length<2&&(e=G(this)),Eo.insert.call(this,t,e)},co.select=function(t){var n;return"string"==typeof t?(n=[Mo(t,po)],n.parentNode=po.documentElement):(n=[t],n.parentNode=e(t)),E([n])},co.selectAll=function(t){var e;return"string"==typeof t?(e=fo(Co(t,po)),e.parentNode=po.documentElement):(e=fo(t),e.parentNode=null),E([e])},Eo.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){r<2&&(e=!1);for(n in t)this.each(Y(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(Y(t,e,n))};var Io=co.map({mouseenter:"mouseover",mouseleave:"mouseout"});po&&Io.forEach(function(t){"on"+t in po&&Io.remove(t)});var Po,No=0;co.mouse=function(t){return K(t,C())};var zo=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;co.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=C().changedTouches),e)for(var r,a=0,i=e.length;a<i;++a)if((r=e[a]).identifier===n)return K(t,r)},co.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function e(t,e,r,i,o){return function(){function s(){var t,n,r=e(f,g);r&&(t=r[0]-b[0],n=r[1]-b[1],h|=t|n,b=r,p({type:"drag",x:r[0]+c[0],y:r[1]+c[1],dx:t,dy:n}))}function l(){e(f,g)&&(m.on(i+v,null).on(o+v,null),y(h),p({type:"dragend"}))}var c,u=this,d=co.event.target.correspondingElement||co.event.target,f=u.parentNode,p=n.of(u,arguments),h=0,g=t(),v=".drag"+(null==g?"":"-"+g),m=co.select(r(d)).on(i+v,s).on(o+v,l),y=Q(d),b=e(f,g);a?(c=a.apply(u,arguments),c=[c.x-b[0],c.y-b[1]]):c=[0,0],p({type:"dragstart"})}}var n=S(t,"drag","dragstart","dragend"),a=null,i=e(T,co.mouse,r,"mousemove","mouseup"),o=e(J,co.touch,x,"touchmove","touchend");return t.origin=function(e){return arguments.length?(a=e,t):a},co.rebind(t,n,"on")},co.touches=function(t,e){return arguments.length<2&&(e=C().touches),e?fo(e).map(function(e){var n=K(t,e);return n.identifier=e.identifier,n}):[]};var Ro=1e-6,Fo=Ro*Ro,jo=Math.PI,Ho=2*jo,Bo=Ho-Ro,Vo=jo/2,qo=jo/180,$o=180/jo,Uo=Math.SQRT2;co.interpolateZoom=function(t,e){var n,r,a=t[0],i=t[1],o=t[2],s=e[0],l=e[1],c=e[2],u=s-a,d=l-i,f=u*u+d*d;if(f<Fo)r=Math.log(c/o)/Uo,n=function(t){return[a+t*u,i+t*d,o*Math.exp(Uo*t*r)]};else{var p=Math.sqrt(f),h=(c*c-o*o+4*f)/(2*o*2*p),g=(c*c-o*o-4*f)/(2*c*2*p),v=Math.log(Math.sqrt(h*h+1)-h),m=Math.log(Math.sqrt(g*g+1)-g);r=(m-v)/Uo,n=function(t){var e=t*r,n=it(v),s=o/(2*p)*(n*ot(Uo*e+v)-at(v));return[a+s*u,i+s*d,o*n/it(Uo*e+v)]}}return n.duration=1e3*r,n},co.behavior.zoom=function(){function t(t){t.on(O,d).on(Go+".zoom",p).on("dblclick.zoom",h).on(P,f)}function e(t){return[(t[0]-k.x)/k.k,(t[1]-k.y)/k.k]}function n(t){return[t[0]*k.k+k.x,t[1]*k.k+k.y]}function a(t){k.k=Math.max(C[0],Math.min(C[1],t))}function i(t,e){e=n(e),k.x+=t[0]-e[0],k.y+=t[1]-e[1]}function o(e,n,r,o){e.__chart__={x:k.x,y:k.y,k:k.k},a(Math.pow(2,o)),i(v=n,r),e=co.select(e),E>0&&(e=e.transition().duration(E)),e.call(t.event)}function s(){_&&_.domain(x.range().map(function(t){return(t-k.x)/k.k}).map(x.invert)),T&&T.domain(w.range().map(function(t){return(t-k.y)/k.k}).map(w.invert))}function l(t){L++||t({type:"zoomstart"})}function c(t){s(),t({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function u(t){--L||(t({type:"zoomend"}),v=null)}function d(){function t(){s=1,i(co.mouse(a),f),c(o)}function n(){d.on(D,null).on(I,null),p(s),u(o)}var a=this,o=N.of(a,arguments),s=0,d=co.select(r(a)).on(D,t).on(I,n),f=e(co.mouse(a)),p=Q(a);Hl.call(a),l(o)}function f(){function t(){var t=co.touches(h);return p=k.k,t.forEach(function(t){t.identifier in v&&(v[t.identifier]=e(t))}),t}function n(){var e=co.event.target;co.select(e).on(x,r).on(_,s),w.push(e);for(var n=co.event.changedTouches,a=0,i=n.length;a<i;++a)v[n[a].identifier]=null;var l=t(),c=Date.now();if(1===l.length){if(c-b<500){var u=l[0];o(h,u,v[u.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),M()}b=c}else if(l.length>1){var u=l[0],d=l[1],f=u[0]-d[0],p=u[1]-d[1];m=f*f+p*p}}function r(){var t,e,n,r,o=co.touches(h);Hl.call(h);for(var s=0,l=o.length;s<l;++s,r=null)if(n=o[s],r=v[n.identifier]){if(e)break;t=n,e=r}if(r){var u=(u=n[0]-t[0])*u+(u=n[1]-t[1])*u,d=m&&Math.sqrt(u/m);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+r[0])/2,(e[1]+r[1])/2],a(d*p)}b=null,i(t,e),c(g)}function s(){if(co.event.touches.length){for(var e=co.event.changedTouches,n=0,r=e.length;n<r;++n)delete v[e[n].identifier];for(var a in v)return void t()}co.selectAll(w).on(y,null),T.on(O,d).on(P,f),A(),u(g)}var p,h=this,g=N.of(h,arguments),v={},m=0,y=".zoom-"+co.event.changedTouches[0].identifier,x="touchmove"+y,_="touchend"+y,w=[],T=co.select(h),A=Q(h);n(),l(g),T.on(O,null).on(P,n)}function p(){var t=N.of(this,arguments);y?clearTimeout(y):(Hl.call(this),g=e(v=m||co.mouse(this)),l(t)),y=setTimeout(function(){y=null,u(t)},50),M(),a(Math.pow(2,.002*Wo())*k.k),i(v,g),c(t)}function h(){var t=co.mouse(this),n=Math.log(k.k)/Math.LN2;o(this,t,e(t),co.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var g,v,m,y,b,x,_,w,T,k={x:0,y:0,k:1},A=[960,500],C=Yo,E=250,L=0,O="mousedown.zoom",D="mousemove.zoom",I="mouseup.zoom",P="touchstart.zoom",N=S(t,"zoomstart","zoom","zoomend");return Go||(Go="onwheel"in po?(Wo=function(){return-co.event.deltaY*(co.event.deltaMode?120:1)},"wheel"):"onmousewheel"in po?(Wo=function(){return co.event.wheelDelta},"mousewheel"):(Wo=function(){return-co.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=N.of(this,arguments),e=k;Fl?co.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var n=A[0],r=A[1],a=v?v[0]:n/2,i=v?v[1]:r/2,o=co.interpolateZoom([(a-k.x)/k.k,(i-k.y)/k.k,n/k.k],[(a-e.x)/e.k,(i-e.y)/e.k,n/e.k]);return function(e){var r=o(e),s=n/r[2];this.__chart__=k={x:a-r[0]*s,y:i-r[1]*s,k:s},c(t)}}).each("interrupt.zoom",function(){u(t)}).each("end.zoom",function(){u(t)}):(this.__chart__=k,l(t),c(t),u(t))})},t.translate=function(e){return arguments.length?(k={x:+e[0],y:+e[1],k:k.k},s(),t):[k.x,k.y]},t.scale=function(e){return arguments.length?(k={x:k.x,y:k.y,k:null},a(+e),s(),t):k.k},t.scaleExtent=function(e){return arguments.length?(C=null==e?Yo:[+e[0],+e[1]],t):C},t.center=function(e){return arguments.length?(m=e&&[+e[0],+e[1]],t):m},t.size=function(e){return arguments.length?(A=e&&[+e[0],+e[1]],t):A},t.duration=function(e){return arguments.length?(E=+e,t):E},t.x=function(e){return arguments.length?(_=e,x=e.copy(),k={x:0,y:0,k:1},t):_},t.y=function(e){return arguments.length?(T=e,w=e.copy(),k={x:0,y:0,k:1},t):T},co.rebind(t,N,"on")};var Wo,Go,Yo=[0,1/0];co.color=lt,lt.prototype.toString=function(){return this.rgb()+""},co.hsl=ct;var Xo=ct.prototype=new lt;Xo.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new ct(this.h,this.s,this.l/t)},Xo.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new ct(this.h,this.s,t*this.l)},Xo.rgb=function(){return ut(this.h,this.s,this.l)},co.hcl=dt;var Zo=dt.prototype=new lt;Zo.brighter=function(t){return new dt(this.h,this.c,Math.min(100,this.l+Qo*(arguments.length?t:1)))},Zo.darker=function(t){return new dt(this.h,this.c,Math.max(0,this.l-Qo*(arguments.length?t:1)))},Zo.rgb=function(){return ft(this.h,this.c,this.l).rgb()},co.lab=pt;var Qo=18,Ko=.95047,Jo=1,ts=1.08883,es=pt.prototype=new lt;es.brighter=function(t){return new pt(Math.min(100,this.l+Qo*(arguments.length?t:1)),this.a,this.b)},es.darker=function(t){return new pt(Math.max(0,this.l-Qo*(arguments.length?t:1)),this.a,this.b)},es.rgb=function(){return ht(this.l,this.a,this.b)},co.rgb=bt;var ns=bt.prototype=new lt;ns.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,a=30;return e||n||r?(e&&e<a&&(e=a),n&&n<a&&(n=a),r&&r<a&&(r=a),new bt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new bt(a,a,a)},ns.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new bt(t*this.r,t*this.g,t*this.b)},ns.hsl=function(){return kt(this.r,this.g,this.b)},ns.toString=function(){return"#"+wt(this.r)+wt(this.g)+wt(this.b)};var rs=co.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});rs.forEach(function(t,e){rs.set(t,xt(e))}),co.functor=St,co.xhr=Et(x),co.dsv=function(t,e){function n(t,n,i){arguments.length<3&&(i=n,n=null);var o=Lt(t,e,null==n?r:a(n),i);return o.row=function(t){return arguments.length?o.response(null==(n=t)?r:a(t)):n},o}function r(t){return n.parse(t.responseText)}function a(t){return function(e){return n.parse(e.responseText,t)}}function i(e){return e.map(o).join(t)}function o(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var a=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(a(t),n)}:a})},n.parseRows=function(t,e){function n(){if(u>=c)return o;if(a)return a=!1,i;var e=u;if(34===t.charCodeAt(e)){for(var n=e;n++<c;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}u=n+2;var r=t.charCodeAt(n+1);return 13===r?(a=!0,10===t.charCodeAt(n+2)&&++u):10===r&&(a=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u<c;){var r=t.charCodeAt(u++),s=1;if(10===r)a=!0;else if(13===r)a=!0,10===t.charCodeAt(u)&&(++u,++s);else if(r!==l)continue;return t.slice(e,u-s)}return t.slice(e)}for(var r,a,i={},o={},s=[],c=t.length,u=0,d=0;(r=n())!==o;){for(var f=[];r!==i&&r!==o;)f.push(r),r=n();e&&null==(f=e(f,d++))||s.push(f)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new b,a=[];return e.forEach(function(t){for(var e in t)r.has(e)||a.push(r.add(e))}),[a.map(o).join(t)].concat(e.map(function(e){return a.map(function(t){return o(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(i).join("\n")},n},co.csv=co.dsv(",","text/csv"),co.tsv=co.dsv("\t","text/tab-separated-values");var as,is,os,ss,ls=this[w(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};co.timer=function(){It.apply(this,arguments)},co.timer.flush=function(){Nt(),zt()},co.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var cs=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Ft);co.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=co.round(t,Rt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),cs[8+n/3]};var us=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ds=co.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=co.round(t,Rt(t,e))).toFixed(Math.max(0,Math.min(20,Rt(t*(1+1e-15),e))))}}),fs=co.time={},ps=Date;Bt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){hs.setUTCDate.apply(this._,arguments)},setDay:function(){hs.setUTCDay.apply(this._,arguments)},setFullYear:function(){hs.setUTCFullYear.apply(this._,arguments)},setHours:function(){hs.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){hs.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){hs.setUTCMinutes.apply(this._,arguments)},setMonth:function(){hs.setUTCMonth.apply(this._,arguments)},setSeconds:function(){hs.setUTCSeconds.apply(this._,arguments)},setTime:function(){hs.setTime.apply(this._,arguments)}};var hs=Date.prototype;fs.year=Vt(function(t){return t=fs.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),fs.years=fs.year.range,fs.years.utc=fs.year.utc.range,fs.day=Vt(function(t){var e=new ps(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),fs.days=fs.day.range,fs.days.utc=fs.day.utc.range,fs.dayOfYear=function(t){var e=fs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=fs[t]=Vt(function(t){return(t=fs.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});fs[t+"s"]=n.range,fs[t+"s"].utc=n.utc.range,fs[t+"OfYear"]=function(t){var n=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(n+e)%7)/7)}}),fs.week=fs.sunday,fs.weeks=fs.sunday.range,fs.weeks.utc=fs.sunday.utc.range,fs.weekOfYear=fs.sundayOfYear;var gs={"-":"",_:" ",0:"0"},vs=/^\s*\d+/,ms=/^%/;co.locale=function(t){return{numberFormat:jt(t),timeFormat:$t(t)}};var ys=co.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});co.format=ys.numberFormat,co.geo={},de.prototype={s:0,t:0,add:function(t){fe(t,this.t,bs),fe(bs.s,this.s,this),this.s?this.t+=bs.t:this.s=bs.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var bs=new de;co.geo.stream=function(t,e){t&&xs.hasOwnProperty(t.type)?xs[t.type](t,e):pe(t,e)};var xs={Feature:function(t,e){pe(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,a=n.length;++r<a;)pe(n[r].geometry,e)}},_s={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){he(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)he(n[r],e,0)},Polygon:function(t,e){ge(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,a=n.length;++r<a;)ge(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,a=n.length;++r<a;)pe(n[r],e)}};co.geo.area=function(t){return ws=0,co.geo.stream(t,ks),ws};var ws,Ts=new de,ks={sphere:function(){ws+=4*jo},point:T,lineStart:T,lineEnd:T,polygonStart:function(){Ts.reset(),ks.lineStart=ve},polygonEnd:function(){var t=2*Ts;ws+=t<0?4*jo+t:t,ks.lineStart=ks.lineEnd=ks.point=T}};co.geo.bounds=function(){function t(t,e){b.push(x=[u=t,f=t]),e<d&&(d=e),e>p&&(p=e)}function e(e,n){var r=me([e*qo,n*qo]);if(m){var a=be(m,r),i=[a[1],-a[0],0],o=be(i,a);we(o),o=Te(o);var l=e-h,c=l>0?1:-1,g=o[0]*$o*c,v=xo(l)>180;if(v^(c*h<g&&g<c*e)){var y=o[1]*$o;y>p&&(p=y)}else if(g=(g+360)%360-180,v^(c*h<g&&g<c*e)){var y=-o[1]*$o;y<d&&(d=y)}else n<d&&(d=n),n>p&&(p=n);v?e<h?s(u,e)>s(u,f)&&(f=e):s(e,f)>s(u,f)&&(u=e):f>=u?(e<u&&(u=e),e>f&&(f=e)):e>h?s(u,e)>s(u,f)&&(f=e):s(e,f)>s(u,f)&&(u=e)}else t(e,n);m=r,h=e}function n(){_.point=e}function r(){x[0]=u,x[1]=f,_.point=t,m=null}function a(t,n){if(m){var r=t-h;y+=xo(r)>180?r+(r>0?360:-360):r}else g=t,v=n;ks.point(t,n),e(t,n)}function i(){ks.lineStart()}function o(){a(g,v),ks.lineEnd(),xo(y)>Ro&&(u=-(f=180)),x[0]=u,x[1]=f,m=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function c(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var u,d,f,p,h,g,v,m,y,b,x,_={point:t,lineStart:n,lineEnd:r,polygonStart:function(){_.point=a,_.lineStart=i,_.lineEnd=o,y=0,ks.polygonStart()},polygonEnd:function(){ks.polygonEnd(),_.point=t,_.lineStart=n,_.lineEnd=r,Ts<0?(u=-(f=180),d=-(p=90)):y>Ro?p=90:y<-Ro&&(d=-90),x[0]=u,x[1]=f}};return function(t){p=f=-(u=d=1/0),b=[],co.geo.stream(t,_);var e=b.length;if(e){b.sort(l);for(var n,r=1,a=b[0],i=[a];r<e;++r)n=b[r],c(n[0],a)||c(n[1],a)?(s(a[0],n[1])>s(a[0],a[1])&&(a[1]=n[1]),s(n[0],a[1])>s(a[0],a[1])&&(a[0]=n[0])):i.push(a=n);for(var o,n,h=-1/0,e=i.length-1,r=0,a=i[e];r<=e;a=n,++r)n=i[r],(o=s(a[1],n[0]))>h&&(h=o,u=n[0],f=a[1])}return b=x=null,u===1/0||d===1/0?[[NaN,NaN],[NaN,NaN]]:[[u,d],[f,p]]}}(),co.geo.centroid=function(t){As=Ms=Cs=Ss=Es=Ls=Os=Ds=Is=Ps=Ns=0,co.geo.stream(t,zs);var e=Is,n=Ps,r=Ns,a=e*e+n*n+r*r;return a<Fo&&(e=Ls,n=Os,r=Ds,Ms<Ro&&(e=Cs,n=Ss,r=Es),(a=e*e+n*n+r*r)<Fo)?[NaN,NaN]:[Math.atan2(n,e)*$o,rt(r/Math.sqrt(a))*$o]};var As,Ms,Cs,Ss,Es,Ls,Os,Ds,Is,Ps,Ns,zs={sphere:T,point:Ae,lineStart:Ce,lineEnd:Se,polygonStart:function(){zs.lineStart=Ee},polygonEnd:function(){zs.lineStart=Ce}},Rs=Ne(Oe,je,Be,[-jo,-jo/2]),Fs=1e9;co.geo.clipExtent=function(){var t,e,n,r,a,i,o={stream:function(t){return a&&(a.valid=!1),a=i(t),a.valid=!0,a},extent:function(s){return arguments.length?(i=Ue(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),a&&(a.valid=!1,a=null),o):[[t,e],[n,r]]}};return o.extent([[0,0],[960,500]])},(co.geo.conicEqualArea=function(){return We(Ge)}).raw=Ge,co.geo.albers=function(){return co.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},co.geo.albersUsa=function(){function t(t){var i=t[0],o=t[1];return e=null,n(i,o),e||(r(i,o),e)||a(i,o),e}var e,n,r,a,i=co.geo.albers(),o=co.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=co.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=i.scale(),n=i.translate(),r=(t[0]-n[0])/e,a=(t[1]-n[1])/e;return(a>=.12&&a<.234&&r>=-.425&&r<-.214?o:a>=.166&&a<.234&&r>=-.214&&r<-.115?s:i).invert(t)},t.stream=function(t){var e=i.stream(t),n=o.stream(t),r=s.stream(t);return{point:function(t,a){e.point(t,a),n.point(t,a),r.point(t,a)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(i.precision(e),o.precision(e),s.precision(e),t):i.precision()},t.scale=function(e){return arguments.length?(i.scale(e),o.scale(.35*e),s.scale(e),t.translate(i.translate())):i.scale()},t.translate=function(e){if(!arguments.length)return i.translate()
;var c=i.scale(),u=+e[0],d=+e[1];return n=i.translate(e).clipExtent([[u-.455*c,d-.238*c],[u+.455*c,d+.238*c]]).stream(l).point,r=o.translate([u-.307*c,d+.201*c]).clipExtent([[u-.425*c+Ro,d+.12*c+Ro],[u-.214*c-Ro,d+.234*c-Ro]]).stream(l).point,a=s.translate([u-.205*c,d+.212*c]).clipExtent([[u-.214*c+Ro,d+.166*c+Ro],[u-.115*c-Ro,d+.234*c-Ro]]).stream(l).point,t},t.scale(1070)};var js,Hs,Bs,Vs,qs,$s,Us={point:T,lineStart:T,lineEnd:T,polygonStart:function(){Hs=0,Us.lineStart=Ye},polygonEnd:function(){Us.lineStart=Us.lineEnd=Us.point=T,js+=xo(Hs/2)}},Ws={point:Xe,lineStart:T,lineEnd:T,polygonStart:T,polygonEnd:T},Gs={point:Ke,lineStart:Je,lineEnd:tn,polygonStart:function(){Gs.lineStart=en},polygonEnd:function(){Gs.point=Ke,Gs.lineStart=Je,Gs.lineEnd=tn}};co.geo.path=function(){function t(t){return t&&("function"==typeof s&&i.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=a(i)),co.geo.stream(t,o)),i.result()}function e(){return o=null,t}var n,r,a,i,o,s=4.5;return t.area=function(t){return js=0,co.geo.stream(t,a(Us)),js},t.centroid=function(t){return Cs=Ss=Es=Ls=Os=Ds=Is=Ps=Ns=0,co.geo.stream(t,a(Gs)),Ns?[Is/Ns,Ps/Ns]:Ds?[Ls/Ds,Os/Ds]:Es?[Cs/Es,Ss/Es]:[NaN,NaN]},t.bounds=function(t){return qs=$s=-(Bs=Vs=1/0),co.geo.stream(t,a(Ws)),[[Bs,Vs],[qs,$s]]},t.projection=function(t){return arguments.length?(a=(n=t)?t.stream||an(t):x,e()):n},t.context=function(t){return arguments.length?(i=null==(r=t)?new Ze:new nn(t),"function"!=typeof s&&i.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(i.pointRadius(+e),+e),t):s},t.projection(co.geo.albersUsa()).context(null)},co.geo.transform=function(t){return{stream:function(e){var n=new on(e);for(var r in t)n[r]=t[r];return n}}},on.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},co.geo.projection=ln,co.geo.projectionMutator=cn,(co.geo.equirectangular=function(){return ln(dn)}).raw=dn.invert=dn,co.geo.rotation=function(t){function e(e){return e=t(e[0]*qo,e[1]*qo),e[0]*=$o,e[1]*=$o,e}return t=pn(t[0]%360*qo,t[1]*qo,t.length>2?t[2]*qo:0),e.invert=function(e){return e=t.invert(e[0]*qo,e[1]*qo),e[0]*=$o,e[1]*=$o,e},e},fn.invert=dn,co.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=pn(-t[0]*qo,-t[1]*qo,0).invert,a=[];return n(null,null,1,{point:function(t,n){a.push(t=e(t,n)),t[0]*=$o,t[1]*=$o}}),{type:"Polygon",coordinates:[a]}}var e,n,r=[0,0],a=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=mn((e=+r)*qo,a*qo),t):e},t.precision=function(r){return arguments.length?(n=mn(e*qo,(a=+r)*qo),t):a},t.angle(90)},co.geo.distance=function(t,e){var n,r=(e[0]-t[0])*qo,a=t[1]*qo,i=e[1]*qo,o=Math.sin(r),s=Math.cos(r),l=Math.sin(a),c=Math.cos(a),u=Math.sin(i),d=Math.cos(i);return Math.atan2(Math.sqrt((n=d*o)*n+(n=c*u-l*d*s)*n),l*u+c*d*s)},co.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return co.range(Math.ceil(i/v)*v,a,v).map(f).concat(co.range(Math.ceil(c/m)*m,l,m).map(p)).concat(co.range(Math.ceil(r/h)*h,n,h).filter(function(t){return xo(t%v)>Ro}).map(u)).concat(co.range(Math.ceil(s/g)*g,o,g).filter(function(t){return xo(t%m)>Ro}).map(d))}var n,r,a,i,o,s,l,c,u,d,f,p,h=10,g=h,v=90,m=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(p(l).slice(1),f(a).reverse().slice(1),p(c).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(i=+e[0][0],a=+e[1][0],c=+e[0][1],l=+e[1][1],i>a&&(e=i,i=a,a=e),c>l&&(e=c,c=l,l=e),t.precision(y)):[[i,c],[a,l]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],o=+e[1][1],r>n&&(e=r,r=n,n=e),s>o&&(e=s,s=o,o=e),t.precision(y)):[[r,s],[n,o]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(v=+e[0],m=+e[1],t):[v,m]},t.minorStep=function(e){return arguments.length?(h=+e[0],g=+e[1],t):[h,g]},t.precision=function(e){return arguments.length?(y=+e,u=bn(s,o,90),d=xn(r,n,y),f=bn(c,l,90),p=xn(i,a,y),t):y},t.majorExtent([[-180,-90+Ro],[180,90-Ro]]).minorExtent([[-180,-80-Ro],[180,80+Ro]])},co.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||a.apply(this,arguments)]}}var e,n,r=_n,a=wn;return t.distance=function(){return co.geo.distance(e||r.apply(this,arguments),n||a.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(a=e,n="function"==typeof e?null:e,t):a},t.precision=function(){return arguments.length?t:0},t},co.geo.interpolate=function(t,e){return Tn(t[0]*qo,t[1]*qo,e[0]*qo,e[1]*qo)},co.geo.length=function(t){return Ys=0,co.geo.stream(t,Xs),Ys};var Ys,Xs={sphere:T,point:T,lineStart:kn,lineEnd:T,polygonStart:T,polygonEnd:T},Zs=An(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(co.geo.azimuthalEqualArea=function(){return ln(Zs)}).raw=Zs;var Qs=An(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},x);(co.geo.azimuthalEquidistant=function(){return ln(Qs)}).raw=Qs,(co.geo.conicConformal=function(){return We(Mn)}).raw=Mn,(co.geo.conicEquidistant=function(){return We(Cn)}).raw=Cn;var Ks=An(function(t){return 1/t},Math.atan);(co.geo.gnomonic=function(){return ln(Ks)}).raw=Ks,Sn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Vo]},(co.geo.mercator=function(){return En(Sn)}).raw=Sn;var Js=An(function(){return 1},Math.asin);(co.geo.orthographic=function(){return ln(Js)}).raw=Js;var tl=An(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(co.geo.stereographic=function(){return ln(tl)}).raw=tl,Ln.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Vo]},(co.geo.transverseMercator=function(){var t=En(Ln),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Ln,co.geom={},co.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,a=St(n),i=St(r),o=t.length,s=[],l=[];for(e=0;e<o;e++)s.push([+a.call(this,t[e],e),+i.call(this,t[e],e),e]);for(s.sort(Pn),e=0;e<o;e++)l.push([s[e][0],-s[e][1]]);var c=In(s),u=In(l),d=u[0]===c[0],f=u[u.length-1]===c[c.length-1],p=[];for(e=c.length-1;e>=0;--e)p.push(t[s[c[e]][2]]);for(e=+d;e<u.length-f;++e)p.push(t[s[u[e]][2]]);return p}var n=On,r=Dn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},co.geom.polygon=function(t){return Ao(t,el),t};var el=co.geom.polygon.prototype=[];el.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],a=0;++e<n;)t=r,r=this[e],a+=t[1]*r[0]-t[0]*r[1];return.5*a},el.centroid=function(t){var e,n,r=-1,a=this.length,i=0,o=0,s=this[a-1];for(arguments.length||(t=-1/(6*this.area()));++r<a;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],i+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[i*t,o*t]},el.clip=function(t){for(var e,n,r,a,i,o,s=Rn(t),l=-1,c=this.length-Rn(this),u=this[c-1];++l<c;){for(e=t.slice(),t.length=0,a=this[l],i=e[(r=e.length-s)-1],n=-1;++n<r;)o=e[n],Nn(o,u,a)?(Nn(i,u,a)||t.push(zn(i,o,u,a)),t.push(o)):Nn(i,u,a)&&t.push(zn(i,o,u,a)),i=o;s&&t.push(t[0]),u=a}return t};var nl,rl,al,il,ol,sl=[],ll=[];Un.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Gn),e.length},rr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},ar.prototype={insert:function(t,e){var n,r,a;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=lr(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(a=r.R,a&&a.C?(n.C=a.C=!1,r.C=!0,t=r):(t===n.R&&(or(this,n),t=n,n=t.U),n.C=!1,r.C=!0,sr(this,r))):(a=r.L,a&&a.C?(n.C=a.C=!1,r.C=!0,t=r):(t===n.L&&(sr(this,n),t=n,n=t.U),n.C=!1,r.C=!0,or(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,a=t.U,i=t.L,o=t.R;if(n=i?o?lr(o):i:o,a?a.L===t?a.L=n:a.R=n:this._=n,i&&o?(r=n.C,n.C=t.C,n.L=i,i.U=n,n!==o?(a=n.U,n.U=t.U,t=n.R,a.L=t,n.R=o,o.U=n):(n.U=a,a=n,t=n.R)):(r=t.C,t=n),t&&(t.U=a),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===a.L){if(e=a.R,e.C&&(e.C=!1,a.C=!0,or(this,a),e=a.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,sr(this,e),e=a.R),e.C=a.C,a.C=e.R.C=!1,or(this,a),t=this._;break}}else if(e=a.L,e.C&&(e.C=!1,a.C=!0,sr(this,a),e=a.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,or(this,e),e=a.L),e.C=a.C,a.C=e.L.C=!1,sr(this,a),t=this._;break}e.C=!0,t=a,a=a.U}while(!t.C);t&&(t.C=!1)}}},co.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],a=s[0][1],i=s[1][0],o=s[1][1];return cr(n(t),s).cells.forEach(function(n,s){var l=n.edges,c=n.site;(e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):c.x>=r&&c.x<=i&&c.y>=a&&c.y<=o?[[r,o],[i,o],[i,a],[r,a]]:[]).point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(i(t,e)/Ro)*Ro,y:Math.round(o(t,e)/Ro)*Ro,i:e}})}var r=On,a=Dn,i=r,o=a,s=cl;return t?e(t):(e.links=function(t){return cr(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return cr(n(t)).cells.forEach(function(n,r){for(var a,i=n.site,o=n.edges.sort(Gn),s=-1,l=o.length,c=o[l-1].edge,u=c.l===i?c.r:c.l;++s<l;)a=u,c=o[s].edge,u=c.l===i?c.r:c.l,r<a.i&&r<u.i&&dr(i,a,u)<0&&e.push([t[r],t[a.i],t[u.i]])}),e},e.x=function(t){return arguments.length?(i=St(r=t),e):r},e.y=function(t){return arguments.length?(o=St(a=t),e):a},e.clipExtent=function(t){return arguments.length?(s=null==t?cl:t,e):s===cl?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===cl?null:s&&s[1]},e)};var cl=[[-1e6,-1e6],[1e6,1e6]];co.geom.delaunay=function(t){return co.geom.voronoi().triangles(t)},co.geom.quadtree=function(t,e,n,r,a){function i(t){function i(t,e,n,r,a,i,o,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,u=t.y;if(null!=l)if(xo(l-n)+xo(u-r)<.01)c(t,e,n,r,a,i,o,s);else{var d=t.point;t.x=t.y=t.point=null,c(t,d,l,u,a,i,o,s),c(t,e,n,r,a,i,o,s)}else t.x=n,t.y=r,t.point=e}else c(t,e,n,r,a,i,o,s)}function c(t,e,n,r,a,o,s,l){var c=.5*(a+s),u=.5*(o+l),d=n>=c,f=r>=u,p=f<<1|d;t.leaf=!1,t=t.nodes[p]||(t.nodes[p]=hr()),d?a=c:s=c,f?o=u:l=u,i(t,e,n,r,a,o,s,l)}var u,d,f,p,h,g,v,m,y,b=St(s),x=St(l);if(null!=e)g=e,v=n,m=r,y=a;else if(m=y=-(g=v=1/0),d=[],f=[],h=t.length,o)for(p=0;p<h;++p)u=t[p],u.x<g&&(g=u.x),u.y<v&&(v=u.y),u.x>m&&(m=u.x),u.y>y&&(y=u.y),d.push(u.x),f.push(u.y);else for(p=0;p<h;++p){var _=+b(u=t[p],p),w=+x(u,p);_<g&&(g=_),w<v&&(v=w),_>m&&(m=_),w>y&&(y=w),d.push(_),f.push(w)}var T=m-g,k=y-v;T>k?y=v+T:m=g+k;var A=hr();if(A.add=function(t){i(A,t,+b(t,++p),+x(t,p),g,v,m,y)},A.visit=function(t){gr(t,A,g,v,m,y)},A.find=function(t){return vr(A,t[0],t[1],g,v,m,y)},p=-1,null==e){for(;++p<h;)i(A,t[p],d[p],f[p],g,v,m,y);--p}else t.forEach(A.add);return d=f=t=u=null,A}var o,s=On,l=Dn;return(o=arguments.length)?(s=fr,l=pr,3===o&&(a=n,r=e,n=e=0),i(t)):(i.x=function(t){return arguments.length?(s=t,i):s},i.y=function(t){return arguments.length?(l=t,i):l},i.extent=function(t){return arguments.length?(null==t?e=n=r=a=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],a=+t[1][1]),i):null==e?null:[[e,n],[r,a]]},i.size=function(t){return arguments.length?(null==t?e=n=r=a=null:(e=n=0,r=+t[0],a=+t[1]),i):null==e?null:[r-e,a-n]},i)},co.interpolateRgb=mr,co.interpolateObject=yr,co.interpolateNumber=br,co.interpolateString=xr;var ul=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dl=new RegExp(ul.source,"g");co.interpolate=_r,co.interpolators=[function(t,e){var n=typeof e;return("string"===n?rs.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?mr:xr:e instanceof lt?mr:Array.isArray(e)?wr:"object"===n&&isNaN(e)?yr:br)(t,e)}],co.interpolateArray=wr;var fl=function(){return x},pl=co.map({linear:fl,poly:Er,quad:function(){return Mr},cubic:function(){return Cr},sin:function(){return Lr},exp:function(){return Or},circle:function(){return Dr},elastic:Ir,back:Pr,bounce:function(){return Nr}}),hl=co.map({in:x,out:kr,"in-out":Ar,"out-in":function(t){return Ar(kr(t))}});co.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=pl.get(n)||fl,r=hl.get(r)||x,Tr(r(n.apply(null,uo.call(arguments,1))))},co.interpolateHcl=zr,co.interpolateHsl=Rr,co.interpolateLab=Fr,co.interpolateRound=jr,co.transform=function(t){var e=po.createElementNS(co.ns.prefix.svg,"g");return(co.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Hr(n?n.matrix:gl)})(t)},Hr.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gl={a:1,b:0,c:0,d:1,e:0,f:0};co.interpolateTransform=Xr,co.layout={},co.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Kr(t[n]));return e}},co.layout.chord=function(){function t(){var t,c,d,f,p,h={},g=[],v=co.range(i),m=[];for(n=[],r=[],t=0,f=-1;++f<i;){for(c=0,p=-1;++p<i;)c+=a[f][p];g.push(c),m.push(co.range(i)),t+=c}for(o&&v.sort(function(t,e){return o(g[t],g[e])}),s&&m.forEach(function(t,e){t.sort(function(t,n){return s(a[e][t],a[e][n])})}),t=(Ho-u*i)/t,c=0,f=-1;++f<i;){for(d=c,p=-1;++p<i;){var y=v[f],b=m[y][p],x=a[y][b],_=c,w=c+=x*t;h[y+"-"+b]={index:y,subindex:b,startAngle:_,endAngle:w,value:x}}r[y]={index:y,startAngle:d,endAngle:c,value:g[y]},c+=u}for(f=-1;++f<i;)for(p=f-1;++p<i;){var T=h[f+"-"+p],k=h[p+"-"+f];(T.value||k.value)&&n.push(T.value<k.value?{source:k,target:T}:{source:T,target:k})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,a,i,o,s,l,c={},u=0;return c.matrix=function(t){return arguments.length?(i=(a=t)&&a.length,n=r=null,c):a},c.padding=function(t){return arguments.length?(u=t,n=r=null,c):u},c.sortGroups=function(t){return arguments.length?(o=t,n=r=null,c):o},c.sortSubgroups=function(t){return arguments.length?(s=t,n=null,c):s},c.sortChords=function(t){return arguments.length?(l=t,n&&e(),c):l},c.chords=function(){return n||t(),n},c.groups=function(){return r||t(),r},c},co.layout.force=function(){function t(t){return function(e,n,r,a){if(e.point!==t){var i=e.cx-t.x,o=e.cy-t.y,s=a-n,l=i*i+o*o;if(s*s/m<l){if(l<g){var c=e.charge/l;t.px-=i*c,t.py-=o*c}return!0}if(e.point&&l&&l<g){var c=e.pointCharge/l;t.px-=i*c,t.py-=o*c}}return!e.charge}}function e(t){t.px=co.event.x,t.py=co.event.y,l.resume()}var n,r,a,i,o,s,l={},c=co.dispatch("start","tick","end"),u=[1,1],d=.9,f=vl,p=ml,h=-30,g=yl,v=.1,m=.64,y=[],b=[];return l.tick=function(){if((a*=.99)<.005)return n=null,c.end({type:"end",alpha:a=0}),!0;var e,r,l,f,p,g,m,x,_,w=y.length,T=b.length;for(r=0;r<T;++r)l=b[r],f=l.source,p=l.target,x=p.x-f.x,_=p.y-f.y,(g=x*x+_*_)&&(g=a*o[r]*((g=Math.sqrt(g))-i[r])/g,x*=g,_*=g,p.x-=x*(m=f.weight+p.weight?f.weight/(f.weight+p.weight):.5),p.y-=_*m,f.x+=x*(m=1-m),f.y+=_*m);if((m=a*v)&&(x=u[0]/2,_=u[1]/2,r=-1,m))for(;++r<w;)l=y[r],l.x+=(x-l.x)*m,l.y+=(_-l.y)*m;if(h)for(ia(e=co.geom.quadtree(y),a,s),r=-1;++r<w;)(l=y[r]).fixed||e.visit(t(l));for(r=-1;++r<w;)l=y[r],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*d,l.y-=(l.py-(l.py=l.y))*d);c.tick({type:"tick",alpha:a})},l.nodes=function(t){return arguments.length?(y=t,l):y},l.links=function(t){return arguments.length?(b=t,l):b},l.size=function(t){return arguments.length?(u=t,l):u},l.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,l):f},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(p="function"==typeof t?t:+t,l):p},l.friction=function(t){return arguments.length?(d=+t,l):d},l.charge=function(t){return arguments.length?(h="function"==typeof t?t:+t,l):h},l.chargeDistance=function(t){return arguments.length?(g=t*t,l):Math.sqrt(g)},l.gravity=function(t){return arguments.length?(v=+t,l):v},l.theta=function(t){return arguments.length?(m=t*t,l):Math.sqrt(m)},l.alpha=function(t){return arguments.length?(t=+t,a?t>0?a=t:(n.c=null,n.t=NaN,n=null,c.end({type:"end",alpha:a=0})):t>0&&(c.start({type:"start",alpha:a=t}),n=It(l.tick)),l):a},l.start=function(){function t(t,r){if(!n){for(n=new Array(a),l=0;l<a;++l)n[l]=[];for(l=0;l<c;++l){var i=b[l];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,s=n[e],l=-1,u=s.length;++l<u;)if(!isNaN(o=s[l][t]))return o;return Math.random()*r}var e,n,r,a=y.length,c=b.length,d=u[0],g=u[1];for(e=0;e<a;++e)(r=y[e]).index=e,r.weight=0;for(e=0;e<c;++e)r=b[e],"number"==typeof r.source&&(r.source=y[r.source]),"number"==typeof r.target&&(r.target=y[r.target]),++r.source.weight,++r.target.weight;for(e=0;e<a;++e)r=y[e],isNaN(r.x)&&(r.x=t("x",d)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof f)for(e=0;e<c;++e)i[e]=+f.call(this,b[e],e);else for(e=0;e<c;++e)i[e]=f;if(o=[],"function"==typeof p)for(e=0;e<c;++e)o[e]=+p.call(this,b[e],e);else for(e=0;e<c;++e)o[e]=p;if(s=[],"function"==typeof h)for(e=0;e<a;++e)s[e]=+h.call(this,y[e],e);else for(e=0;e<a;++e)s[e]=h;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){if(r||(r=co.behavior.drag().origin(x).on("dragstart.force",ea).on("drag.force",e).on("dragend.force",na)),!arguments.length)return r;this.on("mouseover.force",ra).on("mouseout.force",aa).call(r)},co.rebind(l,c,"on")};var vl=20,ml=1,yl=1/0;co.layout.hierarchy=function(){function t(a){var i,o=[a],s=[];for(a.depth=0;null!=(i=o.pop());)if(s.push(i),(c=n.call(t,i,i.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)o.push(u=c[l]),u.parent=i,u.depth=i.depth+1;r&&(i.value=0),i.children=c}else r&&(i.value=+r.call(t,i,i.depth)||0),delete i.children;return la(a,function(t){var n,a;e&&(n=t.children)&&n.sort(e),r&&(a=t.parent)&&(a.value+=t.value)}),s}var e=da,n=ca,r=ua;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(sa(e,function(t){t.children&&(t.value=0)}),la(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},co.layout.partition=function(){function t(e,n,r,a){var i=e.children;if(e.x=n,e.y=e.depth*a,e.dx=r,e.dy=a,i&&(o=i.length)){var o,s,l,c=-1;for(r=e.value?r/e.value:0;++c<o;)t(s=i[c],n,l=s.value*r,a),n+=l}}function e(t){var n=t.children,r=0;if(n&&(a=n.length))for(var a,i=-1;++i<a;)r=Math.max(r,e(n[i]));return 1+r}function n(n,i){var o=r.call(this,n,i);return t(o[0],0,a[0],a[1]/e(o[0])),o}var r=co.layout.hierarchy(),a=[1,1];return n.size=function(t){return arguments.length?(a=t,n):a},oa(n,r)},co.layout.pie=function(){function t(o){var s,l=o.length,c=o.map(function(n,r){return+e.call(t,n,r)}),u=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof a?a.apply(this,arguments):a)-u,f=Math.min(Math.abs(d)/l,+("function"==typeof i?i.apply(this,arguments):i)),p=f*(d<0?-1:1),h=co.sum(c),g=h?(d-l*p)/h:0,v=co.range(l),m=[];return null!=n&&v.sort(n===bl?function(t,e){return c[e]-c[t]}:function(t,e){return n(o[t],o[e])}),v.forEach(function(t){m[t]={data:o[t],value:s=c[t],startAngle:u,endAngle:u+=s*g+p,padAngle:f}}),m}var e=Number,n=bl,r=0,a=Ho,i=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(a=e,t):a},t.padAngle=function(e){return arguments.length?(i=e,t):i},t};var bl={};co.layout.stack=function(){function t(s,l){if(!(f=s.length))return s;var c=s.map(function(n,r){return e.call(t,n,r)}),u=c.map(function(e){return e.map(function(e,n){return[i.call(t,e,n),o.call(t,e,n)]})}),d=n.call(t,u,l);c=co.permute(c,d),u=co.permute(u,d);var f,p,h,g,v=r.call(t,u,l),m=c[0].length;for(h=0;h<m;++h)for(a.call(t,c[0][h],g=v[h],u[0][h][1]),p=1;p<f;++p)a.call(t,c[p][h],g+=u[p-1][h][1],u[p][h][1]);return s}var e=x,n=va,r=ma,a=ga,i=pa,o=ha;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:xl.get(e)||va,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:_l.get(e)||ma,t):r},t.x=function(e){return arguments.length?(i=e,t):i},t.y=function(e){return arguments.length?(o=e,t):o},t.out=function(e){return arguments.length?(a=e,t):a},t};var xl=co.map({"inside-out":function(t){var e,n,r=t.length,a=t.map(ya),i=t.map(ba),o=co.range(r).sort(function(t,e){return a[t]-a[e]}),s=0,l=0,c=[],u=[];for(e=0;e<r;++e)n=o[e],s<l?(s+=i[n],c.push(n)):(l+=i[n],u.push(n));return u.reverse().concat(c)},reverse:function(t){return co.range(t.length).reverse()},default:va}),_l=co.map({silhouette:function(t){var e,n,r,a=t.length,i=t[0].length,o=[],s=0,l=[];for(n=0;n<i;++n){for(e=0,r=0;e<a;e++)r+=t[e][n][1];r>s&&(s=r),o.push(r)}for(n=0;n<i;++n)l[n]=(s-o[n])/2;return l},wiggle:function(t){var e,n,r,a,i,o,s,l,c,u=t.length,d=t[0],f=d.length,p=[];for(p[0]=l=c=0,n=1;n<f;++n){for(e=0,a=0;e<u;++e)a+=t[e][n][1];for(e=0,i=0,s=d[n][0]-d[n-1][0];e<u;++e){for(r=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);r<e;++r)o+=(t[r][n][1]-t[r][n-1][1])/s;i+=o*t[e][n][1]}p[n]=l-=a?i/a*s:0,l<c&&(c=l)}for(n=0;n<f;++n)p[n]-=c;return p},expand:function(t){var e,n,r,a=t.length,i=t[0].length,o=1/a,s=[];for(n=0;n<i;++n){for(e=0,r=0;e<a;e++)r+=t[e][n][1];if(r)for(e=0;e<a;e++)t[e][n][1]/=r;else for(e=0;e<a;e++)t[e][n][1]=o}for(n=0;n<i;++n)s[n]=0;return s},zero:ma});co.layout.histogram=function(){function t(t,i){for(var o,s,l=[],c=t.map(n,this),u=r.call(this,c,i),d=a.call(this,u,c,i),i=-1,f=c.length,p=d.length-1,h=e?1:1/f;++i<p;)o=l[i]=[],o.dx=d[i+1]-(o.x=d[i]),o.y=0;if(p>0)for(i=-1;++i<f;)(s=c[i])>=u[0]&&s<=u[1]&&(o=l[co.bisect(d,s,1,p)-1],o.y+=h,o.push(t[i]));return l}var e=!0,n=Number,r=Ta,a=_a;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=St(e),t):r},t.bins=function(e){return arguments.length?(a="number"==typeof e?function(t){return wa(t,e)}:St(e),t):a},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},co.layout.pack=function(){function t(t,i){var o=n.call(this,t,i),s=o[0],l=a[0],c=a[1],u=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,la(s,function(t){t.r=+u(t.value)}),la(s,Sa),r){var d=r*(e?1:Math.max(2*s.r/l,2*s.r/c))/2;la(s,function(t){t.r+=d}),la(s,Sa),la(s,function(t){t.r-=d})}return Oa(s,l/2,c/2,e?1:1/Math.max(2*s.r/l,2*s.r/c)),o}var e,n=co.layout.hierarchy().sort(ka),r=0,a=[1,1];return t.size=function(e){return arguments.length?(a=e,t):a},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},oa(t,n)},co.layout.tree=function(){function t(t,a){var u=o.call(this,t,a),d=u[0],f=e(d);if(la(f,n),f.parent.m=-f.z,sa(f,r),c)sa(d,i);else{var p=d,h=d,g=d;sa(d,function(t){t.x<p.x&&(p=t),t.x>h.x&&(h=t),t.depth>g.depth&&(g=t)});var v=s(p,h)/2-p.x,m=l[0]/(h.x+s(h,p)/2+v),y=l[1]/(g.depth||1);sa(d,function(t){t.x=(t.x+v)*m,t.y=t.depth*y})}return u}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var a,i=e.children,o=0,s=i.length;o<s;++o)r.push((i[o]=a={_:i[o],parent:e,children:(a=i[o].children)&&a.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=a);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Ra(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+s(t._,r._));t.parent.A=a(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t,e,n){if(e){for(var r,a=t,i=t,o=e,l=a.parent.children[0],c=a.m,u=i.m,d=o.m,f=l.m;o=Na(o),a=Pa(a),o&&a;)l=Pa(l),i=Na(i),i.a=t,r=o.z+d-a.z-c+s(o._,a._),r>0&&(za(Fa(o,t,n),t,r),c+=r,u+=r),d+=o.m,c+=a.m,f+=l.m,u+=i.m;o&&!Na(i)&&(i.t=o,i.m+=d-u),a&&!Pa(l)&&(l.t=a,l.m+=c-f,n=t)}return n}function i(t){t.x*=l[0],t.y=t.depth*l[1]}var o=co.layout.hierarchy().sort(null).value(null),s=Ia,l=[1,1],c=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(c=null==(l=e)?i:null,t):c?null:l},t.nodeSize=function(e){return arguments.length?(c=null==(l=e)?null:i,t):c?l:null},oa(t,o)},co.layout.cluster=function(){function t(t,i){var o,s=e.call(this,t,i),l=s[0],c=0;la(l,function(t){var e=t.children;e&&e.length?(t.x=Ha(e),t.y=ja(e)):(t.x=o?c+=n(t,o):0,t.y=0,o=t)});var u=Ba(l),d=Va(l),f=u.x-n(u,d)/2,p=d.x+n(d,u)/2;return la(l,a?function(t){t.x=(t.x-l.x)*r[0],t.y=(l.y-t.y)*r[1]}:function(t){t.x=(t.x-f)/(p-f)*r[0],t.y=(1-(l.y?t.y/l.y:1))*r[1]}),s}var e=co.layout.hierarchy().sort(null).value(null),n=Ia,r=[1,1],a=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(a=null==(r=e),t):a?null:r},t.nodeSize=function(e){return arguments.length?(a=null!=(r=e),t):a?r:null},oa(t,e)},co.layout.treemap=function(){function t(t,e){for(var n,r,a=-1,i=t.length;++a<i;)r=(n=t[a]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function e(n){var i=n.children;if(i&&i.length){var o,s,l,c=d(n),u=[],f=i.slice(),h=1/0,g="slice"===p?c.dx:"dice"===p?c.dy:"slice-dice"===p?1&n.depth?c.dy:c.dx:Math.min(c.dx,c.dy);for(t(f,c.dx*c.dy/n.value),u.area=0;(l=f.length)>0;)u.push(o=f[l-1]),u.area+=o.area,"squarify"!==p||(s=r(u,g))<=h?(f.pop(),h=s):(u.area-=u.pop().area,a(u,g,c,!1),g=Math.min(c.dx,c.dy),u.length=u.area=0,h=1/0);u.length&&(a(u,g,c,!0),u.length=u.area=0),i.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var i,o=d(e),s=r.slice(),l=[];for(t(s,o.dx*o.dy/e.value),l.area=0;i=s.pop();)l.push(i),l.area+=i.area,null!=i.z&&(a(l,i.z?o.dx:o.dy,o,!s.length),l.length=l.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,a=0,i=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(n<i&&(i=n),n>a&&(a=n));return r*=r,e*=e,r?Math.max(e*a*h/r,r/(e*i*h)):1/0}function a(t,e,n,r){var a,i=-1,o=t.length,s=n.x,c=n.y,u=e?l(t.area/e):0;if(e==n.dx){for((r||u>n.dy)&&(u=n.dy);++i<o;)a=t[i],a.x=s,a.y=c,a.dy=u,s+=a.dx=Math.min(n.x+n.dx-s,u?l(a.area/u):0);a.z=!0,a.dx+=n.x+n.dx-s,n.y+=u,n.dy-=u}else{for((r||u>n.dx)&&(u=n.dx);++i<o;)a=t[i],a.x=s,a.y=c,a.dx=u,c+=a.dy=Math.min(n.y+n.dy-c,u?l(a.area/u):0);a.z=!1,a.dy+=n.y+n.dy-c,n.x+=u,n.dx-=u}}function i(r){var a=o||s(r),i=a[0];return i.x=i.y=0,i.value?(i.dx=c[0],i.dy=c[1]):i.dx=i.dy=0,o&&s.revalue(i),t([i],i.dx*i.dy/i.value),(o?n:e)(i),f&&(o=a),a}var o,s=co.layout.hierarchy(),l=Math.round,c=[1,1],u=null,d=qa,f=!1,p="squarify",h=.5*(1+Math.sqrt(5));return i.size=function(t){return arguments.length?(c=t,i):c},i.padding=function(t){function e(e){var n=t.call(i,e,e.depth);return null==n?qa(e):$a(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return $a(e,t)}if(!arguments.length)return u;var r;return d=null==(u=t)?qa:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,i},i.round=function(t){return arguments.length?(l=t?Math.round:Number,i):l!=Number},i.sticky=function(t){return arguments.length?(f=t,o=null,i):f},i.ratio=function(t){return arguments.length?(h=t,i):h},i.mode=function(t){return arguments.length?(p=t+"",i):p},oa(i,s)},co.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,a;do{n=2*Math.random()-1,r=2*Math.random()-1,a=n*n+r*r}while(!a||a>1);return t+e*n*Math.sqrt(-2*Math.log(a)/a)}},logNormal:function(){var t=co.random.normal.apply(co,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=co.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},co.scale={};var wl={floor:x,ceil:x};co.scale.linear=function(){return Qa([0,1],[0,1],_r,!1)};var Tl={s:1,g:1,p:1,r:1,e:1};co.scale.log=function(){return ii(co.scale.linear().domain([0,1]),10,!0,[1,10])};var kl=co.format(".0e"),Al={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};co.scale.pow=function(){return oi(co.scale.linear(),1,[0,1])},co.scale.sqrt=function(){return co.scale.pow().exponent(.5)},co.scale.ordinal=function(){return li([],{t:"range",a:[[]]})},co.scale.category10=function(){return co.scale.ordinal().range(Ml)},co.scale.category20=function(){return co.scale.ordinal().range(Cl)},co.scale.category20b=function(){return co.scale.ordinal().range(Sl)},co.scale.category20c=function(){return co.scale.ordinal().range(El)};var Ml=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(_t),Cl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(_t),Sl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(_t),El=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(_t);co.scale.quantile=function(){return ci([],[])},co.scale.quantize=function(){return ui(0,1,[0,1])},co.scale.threshold=function(){return di([.5],[0,1])},co.scale.identity=function(){return fi([0,1])},co.svg={},co.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+r.apply(this,arguments)),u=o.apply(this,arguments)-Vo,d=s.apply(this,arguments)-Vo,f=Math.abs(d-u),p=u>d?0:1;if(c<t&&(h=c,c=t,t=h),f>=Bo)return e(c,p)+(t?e(t,1-p):"")+"Z";var h,g,v,m,y,b,x,_,w,T,k,A,M=0,C=0,S=[];if((m=(+l.apply(this,arguments)||0)/2)&&(v=i===Ll?Math.sqrt(t*t+c*c):+i.apply(this,arguments),p||(C*=-1),c&&(C=rt(v/c*Math.sin(m))),t&&(M=rt(v/t*Math.sin(m)))),c){y=c*Math.cos(u+C),b=c*Math.sin(u+C),x=c*Math.cos(d-C),_=c*Math.sin(d-C);var E=Math.abs(d-u-2*C)<=jo?0:1;if(C&&bi(y,b,x,_)===p^E){var L=(u+d)/2;y=c*Math.cos(L),b=c*Math.sin(L),x=_=null}}else y=b=0;if(t){w=t*Math.cos(d-M),T=t*Math.sin(d-M),k=t*Math.cos(u+M),A=t*Math.sin(u+M);var O=Math.abs(u-d+2*M)<=jo?0:1;if(M&&bi(w,T,k,A)===1-p^O){var D=(u+d)/2;w=t*Math.cos(D),T=t*Math.sin(D),k=A=null}}else w=T=0;if(f>Ro&&(h=Math.min(Math.abs(c-t)/2,+a.apply(this,arguments)))>.001){g=t<c^p?0:1;var I=h,P=h;if(f<jo){var N=null==k?[w,T]:null==x?[y,b]:zn([y,b],[k,A],[x,_],[w,T]),z=y-N[0],R=b-N[1],F=x-N[0],j=_-N[1],H=1/Math.sin(Math.acos((z*F+R*j)/(Math.sqrt(z*z+R*R)*Math.sqrt(F*F+j*j)))/2),B=Math.sqrt(N[0]*N[0]+N[1]*N[1]);P=Math.min(h,(t-B)/(H-1)),I=Math.min(h,(c-B)/(H+1))}if(null!=x){var V=xi(null==k?[w,T]:[k,A],[y,b],c,I,p),q=xi([x,_],[w,T],c,I,p);h===I?S.push("M",V[0],"A",I,",",I," 0 0,",g," ",V[1],"A",c,",",c," 0 ",1-p^bi(V[1][0],V[1][1],q[1][0],q[1][1]),",",p," ",q[1],"A",I,",",I," 0 0,",g," ",q[0]):S.push("M",V[0],"A",I,",",I," 0 1,",g," ",q[0])}else S.push("M",y,",",b);if(null!=k){var $=xi([y,b],[k,A],t,-P,p),U=xi([w,T],null==x?[y,b]:[x,_],t,-P,p);h===P?S.push("L",U[0],"A",P,",",P," 0 0,",g," ",U[1],"A",t,",",t," 0 ",p^bi(U[1][0],U[1][1],$[1][0],$[1][1]),",",1-p," ",$[1],"A",P,",",P," 0 0,",g," ",$[0]):S.push("L",U[0],"A",P,",",P," 0 0,",g," ",$[0])}else S.push("L",w,",",T)}else S.push("M",y,",",b),null!=x&&S.push("A",c,",",c," 0 ",E,",",p," ",x,",",_),S.push("L",w,",",T),null!=k&&S.push("A",t,",",t," 0 ",O,",",1-p," ",k,",",A);return S.push("Z"),
S.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=hi,r=gi,a=pi,i=Ll,o=vi,s=mi,l=yi;return t.innerRadius=function(e){return arguments.length?(n=St(e),t):n},t.outerRadius=function(e){return arguments.length?(r=St(e),t):r},t.cornerRadius=function(e){return arguments.length?(a=St(e),t):a},t.padRadius=function(e){return arguments.length?(i=e==Ll?Ll:St(e),t):i},t.startAngle=function(e){return arguments.length?(o=St(e),t):o},t.endAngle=function(e){return arguments.length?(s=St(e),t):s},t.padAngle=function(e){return arguments.length?(l=St(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-Vo;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Ll="auto";co.svg.line=function(){return _i(x)};var Ol=co.map({linear:wi,"linear-closed":Ti,step:ki,"step-before":Ai,"step-after":Mi,basis:Di,"basis-open":Ii,"basis-closed":Pi,bundle:Ni,cardinal:Ei,"cardinal-open":Ci,"cardinal-closed":Si,monotone:Bi});Ol.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Dl=[0,2/3,1/3,0],Il=[0,1/3,2/3,0],Pl=[0,1/6,2/3,1/6];co.svg.line.radial=function(){var t=_i(Vi);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ai.reverse=Mi,Mi.reverse=Ai,co.svg.area=function(){return qi(x)},co.svg.area.radial=function(){var t=qi(Vi);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},co.svg.chord=function(){function t(t,s){var l=e(this,i,t,s),c=e(this,o,t,s);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,c)?a(l.r,l.p1,l.r,l.p0):a(l.r,l.p1,c.r,c.p0)+r(c.r,c.p1,c.a1-c.a0)+a(c.r,c.p1,l.r,l.p0))+"Z"}function e(t,e,n,r){var a=e.call(t,n,r),i=s.call(t,a,r),o=l.call(t,a,r)-Vo,u=c.call(t,a,r)-Vo;return{r:i,a0:o,a1:u,p0:[i*Math.cos(o),i*Math.sin(o)],p1:[i*Math.cos(u),i*Math.sin(u)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>jo)+",1 "+e}function a(t,e,n,r){return"Q 0,0 "+r}var i=_n,o=wn,s=$i,l=vi,c=mi;return t.radius=function(e){return arguments.length?(s=St(e),t):s},t.source=function(e){return arguments.length?(i=St(e),t):i},t.target=function(e){return arguments.length?(o=St(e),t):o},t.startAngle=function(e){return arguments.length?(l=St(e),t):l},t.endAngle=function(e){return arguments.length?(c=St(e),t):c},t},co.svg.diagonal=function(){function t(t,a){var i=e.call(this,t,a),o=n.call(this,t,a),s=(i.y+o.y)/2,l=[i,{x:i.x,y:s},{x:o.x,y:s},o];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=_n,n=wn,r=Ui;return t.source=function(n){return arguments.length?(e=St(n),t):e},t.target=function(e){return arguments.length?(n=St(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},co.svg.diagonal.radial=function(){var t=co.svg.diagonal(),e=Ui,n=t.projection;return t.projection=function(t){return arguments.length?n(Wi(e=t)):e},t},co.svg.symbol=function(){function t(t,r){return(Nl.get(e.call(this,t,r))||Xi)(n.call(this,t,r))}var e=Yi,n=Gi;return t.type=function(n){return arguments.length?(e=St(n),t):e},t.size=function(e){return arguments.length?(n=St(e),t):n},t};var Nl=co.map({circle:Xi,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Rl)),n=e*Rl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/zl),n=e*zl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/zl),n=e*zl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});co.svg.symbolTypes=Nl.keys();var zl=Math.sqrt(3),Rl=Math.tan(30*qo);Eo.transition=function(t){for(var e,n,r=Fl||++Vl,a=to(t),i=[],o=jl||{time:Date.now(),ease:Sr,delay:0,duration:250},s=-1,l=this.length;++s<l;){i.push(e=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(n=c[u])&&eo(n,u,a,r,o),e.push(n)}return Qi(i,a,r)},Eo.interrupt=function(t){return this.each(null==t?Hl:Zi(to(t)))};var Fl,jl,Hl=Zi(to()),Bl=[],Vl=0;Bl.call=Eo.call,Bl.empty=Eo.empty,Bl.node=Eo.node,Bl.size=Eo.size,co.transition=function(t,e){return t&&t.transition?Fl?t.transition(e):t:co.selection().transition(t)},co.transition.prototype=Bl,Bl.select=function(t){var e,n,r,a=this.id,i=this.namespace,o=[];t=L(t);for(var s=-1,l=this.length;++s<l;){o.push(e=[]);for(var c=this[s],u=-1,d=c.length;++u<d;)(r=c[u])&&(n=t.call(r,r.__data__,u,s))?("__data__"in r&&(n.__data__=r.__data__),eo(n,u,i,a,r[i][a]),e.push(n)):e.push(null)}return Qi(o,i,a)},Bl.selectAll=function(t){var e,n,r,a,i,o=this.id,s=this.namespace,l=[];t=O(t);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],f=-1,p=d.length;++f<p;)if(r=d[f]){i=r[s][o],n=t.call(r,r.__data__,f,c),l.push(e=[]);for(var h=-1,g=n.length;++h<g;)(a=n[h])&&eo(a,h,s,o,i),e.push(a)}return Qi(l,s,o)},Bl.filter=function(t){var e,n,r,a=[];"function"!=typeof t&&(t=q(t));for(var i=0,o=this.length;i<o;i++){a.push(e=[]);for(var n=this[i],s=0,l=n.length;s<l;s++)(r=n[s])&&t.call(r,r.__data__,s,i)&&e.push(r)}return Qi(a,this.namespace,this.id)},Bl.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):U(this,null==e?function(e){e[r][n].tween.remove(t)}:function(a){a[r][n].tween.set(t,e)})},Bl.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function a(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=o(n,t),function(t){this.setAttribute(s,e(t))})})}function i(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=o(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?Xr:_r,s=co.ns.qualify(t);return Ki(this,"attr."+t,e,s.local?i:a)},Bl.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(a));return r&&function(t){this.setAttribute(a,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(a.space,a.local));return r&&function(t){this.setAttributeNS(a.space,a.local,r(t))}}var a=co.ns.qualify(t);return this.tween("attr."+t,a.local?r:n)},Bl.style=function(t,e,n){function a(){this.style.removeProperty(t)}function i(e){return null==e?a:(e+="",function(){var a,i=r(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(a=_r(i,e),function(e){this.style.setProperty(t,a(e),n)})})}var o=arguments.length;if(o<3){if("string"!=typeof t){o<2&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return Ki(this,"style."+t,e,i)},Bl.styleTween=function(t,e,n){function a(a,i){var o=e.call(this,a,i,r(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,a)},Bl.text=function(t){return Ki(this,"text",t,Ji)},Bl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Bl.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=co.ease.apply(co,arguments)),U(this,function(r){r[n][e].ease=t}))},Bl.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:U(this,"function"==typeof t?function(r,a,i){r[n][e].delay=+t.call(r,r.__data__,a,i)}:(t=+t,function(r){r[n][e].delay=t}))},Bl.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:U(this,"function"==typeof t?function(r,a,i){r[n][e].duration=Math.max(1,t.call(r,r.__data__,a,i))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Bl.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var a=jl,i=Fl;try{Fl=n,U(this,function(e,a,i){jl=e[r][n],t.call(e,e.__data__,a,i)})}finally{jl=a,Fl=i}}else U(this,function(a){var i=a[r][n];(i.event||(i.event=co.dispatch("start","end","interrupt"))).on(t,e)});return this},Bl.transition=function(){for(var t,e,n,r,a=this.id,i=++Vl,o=this.namespace,s=[],l=0,c=this.length;l<c;l++){s.push(t=[]);for(var e=this[l],u=0,d=e.length;u<d;u++)(n=e[u])&&(r=n[o][a],eo(n,u,o,i,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return Qi(s,o,i)},co.svg.axis=function(){function t(t){t.each(function(){var t,c=co.select(this),u=this.__chart__||n,d=this.__chart__=n.copy(),f=null==l?d.ticks?d.ticks.apply(d,s):d.domain():l,p=null==e?d.tickFormat?d.tickFormat.apply(d,s):x:e,h=c.selectAll(".tick").data(f,d),g=h.enter().insert("g",".domain").attr("class","tick").style("opacity",Ro),v=co.transition(h.exit()).style("opacity",Ro).remove(),m=co.transition(h.order()).style("opacity",1),y=Math.max(a,0)+o,b=Wa(d),_=c.selectAll(".domain").data([0]),w=(_.enter().append("path").attr("class","domain"),co.transition(_));g.append("line"),g.append("text");var T,k,A,M,C=g.select("line"),S=m.select("line"),E=h.select("text").text(p),L=g.select("text"),O=m.select("text"),D="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=no,T="x",A="y",k="x2",M="y2",E.attr("dy",D<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+b[0]+","+D*i+"V0H"+b[1]+"V"+D*i)):(t=ro,T="y",A="x",k="y2",M="x2",E.attr("dy",".32em").style("text-anchor",D<0?"end":"start"),w.attr("d","M"+D*i+","+b[0]+"H0V"+b[1]+"H"+D*i)),C.attr(M,D*a),L.attr(A,D*y),S.attr(k,0).attr(M,D*a),O.attr(T,0).attr(A,D*y),d.rangeBand){var I=d,P=I.rangeBand()/2;u=d=function(t){return I(t)+P}}else u.rangeBand?u=d:v.call(t,d,u);g.call(t,u,d),m.call(t,d,d)})}var e,n=co.scale.linear(),r=ql,a=6,i=6,o=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in $l?e+"":ql,t):r},t.ticks=function(){return arguments.length?(s=fo(arguments),t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(a=+e,i=+arguments[n-1],t):a},t.innerTickSize=function(e){return arguments.length?(a=+e,t):a},t.outerTickSize=function(e){return arguments.length?(i=+e,t):i},t.tickPadding=function(e){return arguments.length?(o=+e,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var ql="bottom",$l={top:1,right:1,bottom:1,left:1};co.svg.brush=function(){function t(r){r.each(function(){var r=co.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),o=r.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),r.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=r.selectAll(".resize").data(g,x);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ul[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,d=co.transition(r),f=co.transition(o);c&&(l=Wa(c),f.attr("x",l[0]).attr("width",l[1]-l[0]),n(d)),u&&(l=Wa(u),f.attr("y",l[0]).attr("height",l[1]-l[0]),a(d)),e(d)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+d[+/e$/.test(t)]+","+f[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",d[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",d[1]-d[0])}function a(t){t.select(".extent").attr("y",f[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",f[1]-f[0])}function i(){function i(){32==co.event.keyCode&&(E||(b=null,O[0]-=d[1],O[1]-=f[1],E=2),M())}function g(){32==co.event.keyCode&&2==E&&(O[0]+=d[1],O[1]+=f[1],E=0,M())}function v(){var t=co.mouse(_),r=!1;x&&(t[0]+=x[0],t[1]+=x[1]),E||(co.event.altKey?(b||(b=[(d[0]+d[1])/2,(f[0]+f[1])/2]),O[0]=d[+(t[0]<b[0])],O[1]=f[+(t[1]<b[1])]):b=null),C&&m(t,c,0)&&(n(k),r=!0),S&&m(t,u,1)&&(a(k),r=!0),r&&(e(k),T({type:"brush",mode:E?"move":"resize"}))}function m(t,e,n){var r,a,i=Wa(e),l=i[0],c=i[1],u=O[n],g=n?f:d,v=g[1]-g[0];if(E&&(l-=u,c-=v+u),r=(n?h:p)?Math.max(l,Math.min(c,t[n])):t[n],E?a=(r+=u)+v:(b&&(u=Math.max(l,Math.min(c,2*b[n]-r))),u<r?(a=r,r=u):a=u),g[0]!=r||g[1]!=a)return n?s=null:o=null,g[0]=r,g[1]=a,!0}function y(){v(),k.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),co.select("body").style("cursor",null),D.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),L(),T({type:"brushend"})}var b,x,_=this,w=co.select(co.event.target),T=l.of(_,arguments),k=co.select(_),A=w.datum(),C=!/^(n|s)$/.test(A)&&c,S=!/^(e|w)$/.test(A)&&u,E=w.classed("extent"),L=Q(_),O=co.mouse(_),D=co.select(r(_)).on("keydown.brush",i).on("keyup.brush",g);if(co.event.changedTouches?D.on("touchmove.brush",v).on("touchend.brush",y):D.on("mousemove.brush",v).on("mouseup.brush",y),k.interrupt().selectAll("*").interrupt(),E)O[0]=d[0]-O[0],O[1]=f[0]-O[1];else if(A){var I=+/w$/.test(A),P=+/^n/.test(A);x=[d[1-I]-O[0],f[1-P]-O[1]],O[0]=d[I],O[1]=f[P]}else co.event.altKey&&(b=O.slice());k.style("pointer-events","none").selectAll(".resize").style("display",null),co.select("body").style("cursor",w.style("cursor")),T({type:"brushstart"}),v()}var o,s,l=S(t,"brushstart","brush","brushend"),c=null,u=null,d=[0,0],f=[0,0],p=!0,h=!0,g=Wl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:d,y:f,i:o,j:s},n=this.__chart__||e;this.__chart__=e,Fl?co.select(this).transition().each("start.brush",function(){o=n.i,s=n.j,d=n.x,f=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=wr(d,e.x),r=wr(f,e.y);return o=s=null,function(a){d=e.x=n(a),f=e.y=r(a),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(c=e,g=Wl[!c<<1|!u],t):c},t.y=function(e){return arguments.length?(u=e,g=Wl[!c<<1|!u],t):u},t.clamp=function(e){return arguments.length?(c&&u?(p=!!e[0],h=!!e[1]):c?p=!!e:u&&(h=!!e),t):c&&u?[p,h]:c?p:u?h:null},t.extent=function(e){var n,r,a,i,l;return arguments.length?(c&&(n=e[0],r=e[1],u&&(n=n[0],r=r[0]),o=[n,r],c.invert&&(n=c(n),r=c(r)),r<n&&(l=n,n=r,r=l),n==d[0]&&r==d[1]||(d=[n,r])),u&&(a=e[0],i=e[1],c&&(a=a[1],i=i[1]),s=[a,i],u.invert&&(a=u(a),i=u(i)),i<a&&(l=a,a=i,i=l),a==f[0]&&i==f[1]||(f=[a,i])),t):(c&&(o?(n=o[0],r=o[1]):(n=d[0],r=d[1],c.invert&&(n=c.invert(n),r=c.invert(r)),r<n&&(l=n,n=r,r=l))),u&&(s?(a=s[0],i=s[1]):(a=f[0],i=f[1],u.invert&&(a=u.invert(a),i=u.invert(i)),i<a&&(l=a,a=i,i=l))),c&&u?[[n,a],[r,i]]:c?[n,r]:u&&[a,i])},t.clear=function(){return t.empty()||(d=[0,0],f=[0,0],o=s=null),t},t.empty=function(){return!!c&&d[0]==d[1]||!!u&&f[0]==f[1]},co.rebind(t,l,"on")};var Ul={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Wl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Gl=fs.format=ys.timeFormat,Yl=Gl.utc,Xl=Yl("%Y-%m-%dT%H:%M:%S.%LZ");Gl.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ao:Xl,ao.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ao.toString=Xl.toString,fs.second=Vt(function(t){return new ps(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),fs.seconds=fs.second.range,fs.seconds.utc=fs.second.utc.range,fs.minute=Vt(function(t){return new ps(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),fs.minutes=fs.minute.range,fs.minutes.utc=fs.minute.utc.range,fs.hour=Vt(function(t){var e=t.getTimezoneOffset()/60;return new ps(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),fs.hours=fs.hour.range,fs.hours.utc=fs.hour.utc.range,fs.month=Vt(function(t){return t=fs.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),fs.months=fs.month.range,fs.months.utc=fs.month.utc.range;var Zl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Ql=[[fs.second,1],[fs.second,5],[fs.second,15],[fs.second,30],[fs.minute,1],[fs.minute,5],[fs.minute,15],[fs.minute,30],[fs.hour,1],[fs.hour,3],[fs.hour,6],[fs.hour,12],[fs.day,1],[fs.day,2],[fs.week,1],[fs.month,1],[fs.month,3],[fs.year,1]],Kl=Gl.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Oe]]),Jl={range:function(t,e,n){return co.range(Math.ceil(t/n)*n,+e,n).map(oo)},floor:x,ceil:x};Ql.year=fs.year,fs.scale=function(){return io(co.scale.linear(),Ql,Kl)};var tc=Ql.map(function(t){return[t[0].utc,t[1]]}),ec=Yl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Oe]]);tc.year=fs.year.utc,fs.scale.utc=function(){return io(co.scale.linear(),tc,ec)},co.text=Et(function(t){return t.responseText}),co.json=function(t,e){return Lt(t,"application/json",so,e)},co.html=function(t,e){return Lt(t,"text/html",lo,e)},co.xml=Et(function(t){return t.responseXML}),"function"==typeof t&&t.amd?(this.d3=co,t(co)):"object"==typeof n&&n.exports?n.exports=co:this.d3=co}()},{}],8:[function(e,n,r){(function(a,i){!function(e,a){"object"==typeof r&&void 0!==n?n.exports=a():"function"==typeof t&&t.amd?t(a):e.ES6Promise=a()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function n(t){return"function"==typeof t}function r(t){U=t}function o(t){W=t}function s(){return function(){$(c)}}function l(){var t=setTimeout;return function(){return t(c,1)}}function c(){for(var t=0;t<q;t+=2)(0,K[t])(K[t+1]),K[t]=void 0,K[t+1]=void 0;q=0}function u(t,e){var n=arguments,r=this,a=new this.constructor(f);void 0===a[tt]&&O(a);var i=r._state;return i?function(){var t=n[i-1];W(function(){return S(i,a,t,r._result)})}():k(r,a,t,e),a}function d(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(f);return x(n,t),n}function f(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function h(){return new TypeError("A promises callback cannot return that same promise.")}function g(t){try{return t.then}catch(t){return at.error=t,at}}function v(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}function m(t,e,n){W(function(t){var r=!1,a=v(n,e,function(n){r||(r=!0,e!==n?x(t,n):w(t,n))},function(e){r||(r=!0,T(t,e))},"Settle: "+(t._label||" unknown promise"));!r&&a&&(r=!0,T(t,a))},t)}function y(t,e){e._state===nt?w(t,e._result):e._state===rt?T(t,e._result):k(e,void 0,function(e){return x(t,e)},function(e){return T(t,e)})}function b(t,e,r){e.constructor===t.constructor&&r===u&&e.constructor.resolve===d?y(t,e):r===at?T(t,at.error):void 0===r?w(t,e):n(r)?m(t,e,r):w(t,e)}function x(e,n){e===n?T(e,p()):t(n)?b(e,n,g(n)):w(e,n)}function _(t){t._onerror&&t._onerror(t._result),A(t)}function w(t,e){t._state===et&&(t._result=e,t._state=nt,0!==t._subscribers.length&&W(A,t))}function T(t,e){t._state===et&&(t._state=rt,t._result=e,W(_,t))}function k(t,e,n,r){var a=t._subscribers,i=a.length;t._onerror=null,a[i]=e,a[i+nt]=n,a[i+rt]=r,0===i&&t._state&&W(A,t)}function A(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,a=void 0,i=t._result,o=0;o<e.length;o+=3)r=e[o],a=e[o+n],r?S(n,r,a,i):a(i);t._subscribers.length=0}}function M(){this.error=null}function C(t,e){try{return t(e)}catch(t){return it.error=t,it}}function S(t,e,r,a){var i=n(r),o=void 0,s=void 0,l=void 0,c=void 0;if(i){if(o=C(r,a),o===it?(c=!0,s=o.error,o=null):l=!0,e===o)return void T(e,h())}else o=a,l=!0;e._state!==et||(i&&l?x(e,o):c?T(e,s):t===nt?w(e,o):t===rt&&T(e,o))}function E(t,e){try{e(function(e){x(t,e)},function(e){T(t,e)})}catch(e){T(t,e)}}function L(){return ot++}function O(t){t[tt]=ot++,t._state=void 0,t._result=void 0,t._subscribers=[]}function D(t,e){this._instanceConstructor=t,this.promise=new t(f),this.promise[tt]||O(this.promise),V(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?w(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&w(this.promise,this._result))):T(this.promise,I())}function I(){return new Error("Array Methods must be provided an Array")}function P(t){return new D(this,t).promise}function N(t){var e=this;return new e(V(t)?function(n,r){for(var a=t.length,i=0;i<a;i++)e.resolve(t[i]).then(n,r)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function z(t){var e=this,n=new e(f);return T(n,t),n}function R(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function j(t){this[tt]=L(),this._result=this._state=void 0,this._subscribers=[],f!==t&&("function"!=typeof t&&R(),this instanceof j?E(this,t):F())}function H(){var t=void 0;if(void 0!==i)t=i;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var n=null;try{n=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===n&&!e.cast)return}t.Promise=j}var B=void 0;B=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var V=B,q=0,$=void 0,U=void 0,W=function(t,e){K[q]=t,K[q+1]=e,2===(q+=2)&&(U?U(c):J())},G="undefined"!=typeof window?window:void 0,Y=G||{},X=Y.MutationObserver||Y.WebKitMutationObserver,Z="undefined"==typeof self&&void 0!==a&&"[object process]"==={}.toString.call(a),Q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,K=new Array(1e3),J=void 0;J=Z?function(){return function(){return a.nextTick(c)}}():X?function(){var t=0,e=new X(c),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}():Q?function(){var t=new MessageChannel;return t.port1.onmessage=c,function(){return t.port2.postMessage(0)}}():void 0===G&&"function"==typeof e?function(){try{var t=e,n=t("vertx");return $=n.runOnLoop||n.runOnContext,s()}catch(t){return l()}}():l();var tt=Math.random().toString(36).substring(16),et=void 0,nt=1,rt=2,at=new M,it=new M,ot=0;return D.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===et&&n<t;n++)this._eachEntry(e[n],n)},D.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===d){var a=g(t);if(a===u&&t._state!==et)this._settledAt(t._state,e,t._result);else if("function"!=typeof a)this._remaining--,this._result[e]=t;else if(n===j){var i=new n(f);b(i,t,a),this._willSettleAt(i,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(r(t),e)},D.prototype._settledAt=function(t,e,n){var r=this.promise;r._state===et&&(this._remaining--,t===rt?T(r,n):this._result[e]=n),0===this._remaining&&w(r,this._result)},D.prototype._willSettleAt=function(t,e){var n=this;k(t,void 0,function(t){return n._settledAt(nt,e,t)},function(t){return n._settledAt(rt,e,t)})},j.all=P,j.race=N,j.resolve=d,j.reject=z,j._setScheduler=r,j._setAsap=o,j._asap=W,j.prototype={constructor:j,then:u,catch:function(t){return this.then(null,t)}},H(),j.polyfill=H,j.Promise=j,j})}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:15}],9:[function(t,e,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function a(t){return"function"==typeof t}function i(t){return"number"==typeof t}function o(t){return"object"==typeof t&&null!==t}function s(t){return void 0===t}e.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},r.prototype.emit=function(t){var e,n,r,i,l,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var u=new Error('Uncaught, unspecified "error" event. ('+e+")");throw u.context=e,u}if(n=this._events[t],s(n))return!1;if(a(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),n.apply(this,i)}else if(o(n))for(i=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,l=0;l<r;l++)c[l].apply(this,i);return!0},r.prototype.addListener=function(t,e){var n;if(!a(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,a(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(n=s(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(t,e){function n(){this.removeListener(t,n),r||(r=!0,e.apply(this,arguments))}if(!a(e))throw TypeError("listener must be a function");var r=!1;return n.listener=e,this.on(t,n),this},r.prototype.removeListener=function(t,e){var n,r,i,s;if(!a(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],i=n.length,r=-1,n===e||a(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(s=i;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},r.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],a(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},r.prototype.listeners=function(t){return this._events&&this._events[t]?a(this._events[t])?[this._events[t]]:this._events[t].slice():[]},r.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(a(e))return 1;if(e)return e.length}return 0},r.listenerCount=function(t,e){return t.listenerCount(e)}},{}],10:[function(t,e,n){"use strict";function r(t){for(var e,n=t.length,r=0;r<n;r++)if(((e=t.charCodeAt(r))<9||e>13)&&32!==e&&133!==e&&160!==e&&5760!==e&&6158!==e&&(e<8192||e>8205)&&8232!==e&&8233!==e&&8239!==e&&8287!==e&&8288!==e&&12288!==e&&65279!==e)return!1;return!0}e.exports=function(t){var e=typeof t;if("string"===e){var n=t;if(0==(t=+t)&&r(n))return!1}else if("number"!==e)return!1;return t-t<1}},{}],11:[function(t,e,n){function r(t,e){var n=e[0],r=e[1],a=e[2],i=e[3],o=n+n,s=r+r,l=a+a,c=n*o,u=r*o,d=r*s,f=a*o,p=a*s,h=a*l,g=i*o,v=i*s,m=i*l;return t[0]=1-d-h,t[1]=u+m,t[2]=f-v,t[3]=0,t[4]=u-m,t[5]=1-c-h,t[6]=p+g,t[7]=0,t[8]=f+v,t[9]=p-g,t[10]=1-c-d,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}e.exports=r},{}],12:[function(t,e,n){(function(n){"use strict";var r,a=t("is-browser");r="function"==typeof n.matchMedia?!n.matchMedia("(hover: none)").matches:a,e.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"is-browser":13}],13:[function(t,e,n){e.exports=!0},{}],14:[function(t,e,n){function r(t,e,n){e=e||t.currentTarget||t.srcElement,Array.isArray(n)||(n=[0,0]);var r=t.clientX||0,i=t.clientY||0,o=a(e);return n[0]=r-o.left,n[1]=i-o.top,n}function a(t){return t===window||t===document||t===document.body?i:t.getBoundingClientRect()}var i={left:0,top:0};e.exports=r},{}],15:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function i(t){if(d===setTimeout)return setTimeout(t,0);if((d===r||!d)&&setTimeout)return d=setTimeout,setTimeout(t,0);try{return d(t,0)}catch(e){try{return d.call(null,t,0)}catch(e){return d.call(this,t,0)}}}function o(t){if(f===clearTimeout)return clearTimeout(t);if((f===a||!f)&&clearTimeout)return f=clearTimeout,clearTimeout(t);try{return f(t)}catch(e){try{return f.call(null,t)}catch(e){return f.call(this,t)}}}function s(){v&&h&&(v=!1,h.length?g=h.concat(g):m=-1,g.length&&l())}function l(){if(!v){var t=i(s);v=!0;for(var e=g.length;e;){for(h=g,g=[];++m<e;)h&&h[m].run();m=-1,e=g.length}h=null,v=!1,o(t)}}function c(t,e){this.fun=t,this.array=e}function u(){}var d,f,p=e.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:r}catch(t){d=r}try{f="function"==typeof clearTimeout?clearTimeout:a}catch(t){f=a}}();var h,g=[],v=!1,m=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];g.push(new c(t,e)),1!==g.length||v||i(l)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=u,p.addListener=u,p.once=u,p.off=u,p.removeListener=u,p.removeAllListeners=u,p.emit=u,p.prependListener=u,p.prependOnceListener=u,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],16:[function(e,n,r){!function(e){function r(t,e){if(t=t||"",e=e||{},t instanceof r)return t;if(!(this instanceof r))return new r(t,e);var n=a(t);this._originalInput=t,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=V(100*this._a)/100,this._format=e.format||n.format,this._gradientType=e.gradientType,this._r<1&&(this._r=V(this._r)),this._g<1&&(this._g=V(this._g)),this._b<1&&(this._b=V(this._b)),this._ok=n.ok,this._tc_id=B++}function a(t){var e={r:0,g:0,b:0},n=1,r=null,a=null,o=null,l=!1,u=!1;return"string"==typeof t&&(t=R(t)),"object"==typeof t&&(z(t.r)&&z(t.g)&&z(t.b)?(e=i(t.r,t.g,t.b),l=!0,u="%"===String(t.r).substr(-1)?"prgb":"rgb"):z(t.h)&&z(t.s)&&z(t.v)?(r=I(t.s),a=I(t.v),e=c(t.h,r,a),l=!0,u="hsv"):z(t.h)&&z(t.s)&&z(t.l)&&(r=I(t.s),o=I(t.l),e=s(t.h,r,o),l=!0,u="hsl"),
t.hasOwnProperty("a")&&(n=t.a)),n=M(n),{ok:l,format:t.format||u,r:q(255,$(e.r,0)),g:q(255,$(e.g,0)),b:q(255,$(e.b,0)),a:n}}function i(t,e,n){return{r:255*C(t,255),g:255*C(e,255),b:255*C(n,255)}}function o(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var r,a,i=$(t,e,n),o=q(t,e,n),s=(i+o)/2;if(i==o)r=a=0;else{var l=i-o;switch(a=s>.5?l/(2-i-o):l/(i+o),i){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:a,l:s}}function s(t,e,n){function r(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+(e-t)*(2/3-n)*6:t}var a,i,o;if(t=C(t,360),e=C(e,100),n=C(n,100),0===e)a=i=o=n;else{var s=n<.5?n*(1+e):n+e-n*e,l=2*n-s;a=r(l,s,t+1/3),i=r(l,s,t),o=r(l,s,t-1/3)}return{r:255*a,g:255*i,b:255*o}}function l(t,e,n){t=C(t,255),e=C(e,255),n=C(n,255);var r,a,i=$(t,e,n),o=q(t,e,n),s=i,l=i-o;if(a=0===i?0:l/i,i==o)r=0;else{switch(i){case t:r=(e-n)/l+(e<n?6:0);break;case e:r=(n-t)/l+2;break;case n:r=(t-e)/l+4}r/=6}return{h:r,s:a,v:s}}function c(t,n,r){t=6*C(t,360),n=C(n,100),r=C(r,100);var a=e.floor(t),i=t-a,o=r*(1-n),s=r*(1-i*n),l=r*(1-(1-i)*n),c=a%6;return{r:255*[r,s,o,o,l,r][c],g:255*[l,r,r,s,o,o][c],b:255*[o,o,l,r,r,s][c]}}function u(t,e,n,r){var a=[D(V(t).toString(16)),D(V(e).toString(16)),D(V(n).toString(16))];return r&&a[0].charAt(0)==a[0].charAt(1)&&a[1].charAt(0)==a[1].charAt(1)&&a[2].charAt(0)==a[2].charAt(1)?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0):a.join("")}function d(t,e,n,r,a){var i=[D(V(t).toString(16)),D(V(e).toString(16)),D(V(n).toString(16)),D(P(r))];return a&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)&&i[3].charAt(0)==i[3].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0)+i[3].charAt(0):i.join("")}function f(t,e,n,r){return[D(P(r)),D(V(t).toString(16)),D(V(e).toString(16)),D(V(n).toString(16))].join("")}function p(t,e){e=0===e?0:e||10;var n=r(t).toHsl();return n.s-=e/100,n.s=S(n.s),r(n)}function h(t,e){e=0===e?0:e||10;var n=r(t).toHsl();return n.s+=e/100,n.s=S(n.s),r(n)}function g(t){return r(t).desaturate(100)}function v(t,e){e=0===e?0:e||10;var n=r(t).toHsl();return n.l+=e/100,n.l=S(n.l),r(n)}function m(t,e){e=0===e?0:e||10;var n=r(t).toRgb();return n.r=$(0,q(255,n.r-V(-e/100*255))),n.g=$(0,q(255,n.g-V(-e/100*255))),n.b=$(0,q(255,n.b-V(-e/100*255))),r(n)}function y(t,e){e=0===e?0:e||10;var n=r(t).toHsl();return n.l-=e/100,n.l=S(n.l),r(n)}function b(t,e){var n=r(t).toHsl(),a=(n.h+e)%360;return n.h=a<0?360+a:a,r(n)}function x(t){var e=r(t).toHsl();return e.h=(e.h+180)%360,r(e)}function _(t){var e=r(t).toHsl(),n=e.h;return[r(t),r({h:(n+120)%360,s:e.s,l:e.l}),r({h:(n+240)%360,s:e.s,l:e.l})]}function w(t){var e=r(t).toHsl(),n=e.h;return[r(t),r({h:(n+90)%360,s:e.s,l:e.l}),r({h:(n+180)%360,s:e.s,l:e.l}),r({h:(n+270)%360,s:e.s,l:e.l})]}function T(t){var e=r(t).toHsl(),n=e.h;return[r(t),r({h:(n+72)%360,s:e.s,l:e.l}),r({h:(n+216)%360,s:e.s,l:e.l})]}function k(t,e,n){e=e||6,n=n||30;var a=r(t).toHsl(),i=360/n,o=[r(t)];for(a.h=(a.h-(i*e>>1)+720)%360;--e;)a.h=(a.h+i)%360,o.push(r(a));return o}function A(t,e){e=e||6;for(var n=r(t).toHsv(),a=n.h,i=n.s,o=n.v,s=[],l=1/e;e--;)s.push(r({h:a,s:i,v:o})),o=(o+l)%1;return s}function M(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function C(t,n){L(t)&&(t="100%");var r=O(t);return t=q(n,$(0,parseFloat(t))),r&&(t=parseInt(t*n,10)/100),e.abs(t-n)<1e-6?1:t%n/parseFloat(n)}function S(t){return q(1,$(0,t))}function E(t){return parseInt(t,16)}function L(t){return"string"==typeof t&&-1!=t.indexOf(".")&&1===parseFloat(t)}function O(t){return"string"==typeof t&&-1!=t.indexOf("%")}function D(t){return 1==t.length?"0"+t:""+t}function I(t){return t<=1&&(t=100*t+"%"),t}function P(t){return e.round(255*parseFloat(t)).toString(16)}function N(t){return E(t)/255}function z(t){return!!Y.CSS_UNIT.exec(t)}function R(t){t=t.replace(j,"").replace(H,"").toLowerCase();var e=!1;if(W[t])t=W[t],e=!0;else if("transparent"==t)return{r:0,g:0,b:0,a:0,format:"name"};var n;return(n=Y.rgb.exec(t))?{r:n[1],g:n[2],b:n[3]}:(n=Y.rgba.exec(t))?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=Y.hsl.exec(t))?{h:n[1],s:n[2],l:n[3]}:(n=Y.hsla.exec(t))?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=Y.hsv.exec(t))?{h:n[1],s:n[2],v:n[3]}:(n=Y.hsva.exec(t))?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=Y.hex8.exec(t))?{r:E(n[1]),g:E(n[2]),b:E(n[3]),a:N(n[4]),format:e?"name":"hex8"}:(n=Y.hex6.exec(t))?{r:E(n[1]),g:E(n[2]),b:E(n[3]),format:e?"name":"hex"}:(n=Y.hex4.exec(t))?{r:E(n[1]+""+n[1]),g:E(n[2]+""+n[2]),b:E(n[3]+""+n[3]),a:N(n[4]+""+n[4]),format:e?"name":"hex8"}:!!(n=Y.hex3.exec(t))&&{r:E(n[1]+""+n[1]),g:E(n[2]+""+n[2]),b:E(n[3]+""+n[3]),format:e?"name":"hex"}}function F(t){var e,n;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),n=(t.size||"small").toLowerCase(),"AA"!==e&&"AAA"!==e&&(e="AA"),"small"!==n&&"large"!==n&&(n="small"),{level:e,size:n}}var j=/^\s+/,H=/\s+$/,B=0,V=e.round,q=e.min,$=e.max,U=e.random;r.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var t=this.toRgb();return(299*t.r+587*t.g+114*t.b)/1e3},getLuminance:function(){var t,n,r,a,i,o,s=this.toRgb();return t=s.r/255,n=s.g/255,r=s.b/255,a=t<=.03928?t/12.92:e.pow((t+.055)/1.055,2.4),i=n<=.03928?n/12.92:e.pow((n+.055)/1.055,2.4),o=r<=.03928?r/12.92:e.pow((r+.055)/1.055,2.4),.2126*a+.7152*i+.0722*o},setAlpha:function(t){return this._a=M(t),this._roundA=V(100*this._a)/100,this},toHsv:function(){var t=l(this._r,this._g,this._b);return{h:360*t.h,s:t.s,v:t.v,a:this._a}},toHsvString:function(){var t=l(this._r,this._g,this._b),e=V(360*t.h),n=V(100*t.s),r=V(100*t.v);return 1==this._a?"hsv("+e+", "+n+"%, "+r+"%)":"hsva("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var t=o(this._r,this._g,this._b);return{h:360*t.h,s:t.s,l:t.l,a:this._a}},toHslString:function(){var t=o(this._r,this._g,this._b),e=V(360*t.h),n=V(100*t.s),r=V(100*t.l);return 1==this._a?"hsl("+e+", "+n+"%, "+r+"%)":"hsla("+e+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(t){return u(this._r,this._g,this._b,t)},toHexString:function(t){return"#"+this.toHex(t)},toHex8:function(t){return d(this._r,this._g,this._b,this._a,t)},toHex8String:function(t){return"#"+this.toHex8(t)},toRgb:function(){return{r:V(this._r),g:V(this._g),b:V(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+V(this._r)+", "+V(this._g)+", "+V(this._b)+")":"rgba("+V(this._r)+", "+V(this._g)+", "+V(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:V(100*C(this._r,255))+"%",g:V(100*C(this._g,255))+"%",b:V(100*C(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+V(100*C(this._r,255))+"%, "+V(100*C(this._g,255))+"%, "+V(100*C(this._b,255))+"%)":"rgba("+V(100*C(this._r,255))+"%, "+V(100*C(this._g,255))+"%, "+V(100*C(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(G[u(this._r,this._g,this._b,!0)]||!1)},toFilter:function(t){var e="#"+f(this._r,this._g,this._b,this._a),n=e,a=this._gradientType?"GradientType = 1, ":"";if(t){var i=r(t);n="#"+f(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+a+"startColorstr="+e+",endColorstr="+n+")"},toString:function(t){var e=!!t;t=t||this._format;var n=!1,r=this._a<1&&this._a>=0;return e||!r||"hex"!==t&&"hex6"!==t&&"hex3"!==t&&"hex4"!==t&&"hex8"!==t&&"name"!==t?("rgb"===t&&(n=this.toRgbString()),"prgb"===t&&(n=this.toPercentageRgbString()),"hex"!==t&&"hex6"!==t||(n=this.toHexString()),"hex3"===t&&(n=this.toHexString(!0)),"hex4"===t&&(n=this.toHex8String(!0)),"hex8"===t&&(n=this.toHex8String()),"name"===t&&(n=this.toName()),"hsl"===t&&(n=this.toHslString()),"hsv"===t&&(n=this.toHsvString()),n||this.toHexString()):"name"===t&&0===this._a?this.toName():this.toRgbString()},clone:function(){return r(this.toString())},_applyModification:function(t,e){var n=t.apply(null,[this].concat([].slice.call(e)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(m,arguments)},darken:function(){return this._applyModification(y,arguments)},desaturate:function(){return this._applyModification(p,arguments)},saturate:function(){return this._applyModification(h,arguments)},greyscale:function(){return this._applyModification(g,arguments)},spin:function(){return this._applyModification(b,arguments)},_applyCombination:function(t,e){return t.apply(null,[this].concat([].slice.call(e)))},analogous:function(){return this._applyCombination(k,arguments)},complement:function(){return this._applyCombination(x,arguments)},monochromatic:function(){return this._applyCombination(A,arguments)},splitcomplement:function(){return this._applyCombination(T,arguments)},triad:function(){return this._applyCombination(_,arguments)},tetrad:function(){return this._applyCombination(w,arguments)}},r.fromRatio=function(t,e){if("object"==typeof t){var n={};for(var a in t)t.hasOwnProperty(a)&&(n[a]="a"===a?t[a]:I(t[a]));t=n}return r(t,e)},r.equals=function(t,e){return!(!t||!e)&&r(t).toRgbString()==r(e).toRgbString()},r.random=function(){return r.fromRatio({r:U(),g:U(),b:U()})},r.mix=function(t,e,n){n=0===n?0:n||50;var a=r(t).toRgb(),i=r(e).toRgb(),o=n/100;return r({r:(i.r-a.r)*o+a.r,g:(i.g-a.g)*o+a.g,b:(i.b-a.b)*o+a.b,a:(i.a-a.a)*o+a.a})},r.readability=function(t,n){var a=r(t),i=r(n);return(e.max(a.getLuminance(),i.getLuminance())+.05)/(e.min(a.getLuminance(),i.getLuminance())+.05)},r.isReadable=function(t,e,n){var a,i,o=r.readability(t,e);switch(i=!1,a=F(n),a.level+a.size){case"AAsmall":case"AAAlarge":i=o>=4.5;break;case"AAlarge":i=o>=3;break;case"AAAsmall":i=o>=7}return i},r.mostReadable=function(t,e,n){var a,i,o,s,l=null,c=0;n=n||{},i=n.includeFallbackColors,o=n.level,s=n.size;for(var u=0;u<e.length;u++)(a=r.readability(t,e[u]))>c&&(c=a,l=r(e[u]));return r.isReadable(t,l,{level:o,size:s})||!i?l:(n.includeFallbackColors=!1,r.mostReadable(t,["#fff","#000"],n))};var W=r.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},G=r.hexNames=function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[t[n]]=n);return e}(W),Y=function(){var t="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)",e="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",n="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+e),rgba:new RegExp("rgba"+n),hsl:new RegExp("hsl"+e),hsla:new RegExp("hsla"+n),hsv:new RegExp("hsv"+e),hsva:new RegExp("hsva"+n),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();void 0!==n&&n.exports?n.exports=r:"function"==typeof t&&t.amd?t(function(){return r}):window.tinycolor=r}(Math)},{}],17:[function(t,e,n){"use strict";var r=t("../../lib"),a=t("../../plots/cartesian/axes"),i=t("./common_defaults"),o=t("./attributes");e.exports=function(t,e,n,s,l){function c(n,a){return r.coerce(t,e,o,n,a)}s=s||{},l=l||{};var u=c("visible",!l.itemIsNotPlainObject),d=c("clicktoshow");if(!u&&!d)return e;i(t,e,n,c);for(var f=e.showarrow,p=["x","y"],h=[-10,-30],g={_fullLayout:n},v=0;v<2;v++){var m=p[v],y=a.coerceRef(t,e,g,m,"","paper");if(a.coercePosition(e,g,c,y,m,.5),f){var b="a"+m,x=a.coerceRef(t,e,g,b,"pixel");"pixel"!==x&&x!==y&&(x=e[b]="pixel");var _="pixel"===x?h[v]:.4;a.coercePosition(e,g,c,x,b,_)}c(m+"anchor"),c(m+"shift")}if(r.noneOrAll(t,e,["x","y"]),f&&r.noneOrAll(t,e,["ax","ay"]),d){var w=c("xclick"),T=c("yclick");e._xclick=void 0===w?e.x:a.cleanPosition(w,g,e.xref),e._yclick=void 0===T?e.y:a.cleanPosition(T,g,e.yref)}return e}},{"../../lib":149,"../../plots/cartesian/axes":189,"./attributes":19,"./common_defaults":22}],18:[function(t,e,n){"use strict";e.exports=[{path:"",backoff:0},{path:"M-2.4,-3V3L0.6,0Z",backoff:.6},{path:"M-3.7,-2.5V2.5L1.3,0Z",backoff:1.3},{path:"M-4.45,-3L-1.65,-0.2V0.2L-4.45,3L1.55,0Z",backoff:1.55},{path:"M-2.2,-2.2L-0.2,-0.2V0.2L-2.2,2.2L-1.4,3L1.6,0L-1.4,-3Z",backoff:1.6},{path:"M-4.4,-2.1L-0.6,-0.2V0.2L-4.4,2.1L-4,3L2,0L-4,-3Z",backoff:2},{path:"M2,0A2,2 0 1,1 0,-2A2,2 0 0,1 2,0Z",backoff:0,noRotate:!0},{path:"M2,2V-2H-2V2Z",backoff:0,noRotate:!0}]},{}],19:[function(t,e,n){"use strict";var r=t("./arrow_paths"),a=t("../../plots/font_attributes"),i=t("../../plots/cartesian/constants");e.exports={_isLinkedToArray:"annotation",visible:{valType:"boolean",dflt:!0,editType:"calcIfAutorange"},text:{valType:"string",editType:"calcIfAutorange"},textangle:{valType:"angle",dflt:0,editType:"calcIfAutorange"},font:a({editType:"calcIfAutorange",colorEditType:"arraydraw"}),width:{valType:"number",min:1,dflt:null,editType:"calcIfAutorange"},height:{valType:"number",min:1,dflt:null,editType:"calcIfAutorange"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},align:{valType:"enumerated",values:["left","center","right"],dflt:"center",editType:"arraydraw"},valign:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle",editType:"arraydraw"},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},bordercolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},borderpad:{valType:"number",min:0,dflt:1,editType:"calcIfAutorange"},borderwidth:{valType:"number",min:0,dflt:1,editType:"calcIfAutorange"},showarrow:{valType:"boolean",dflt:!0,editType:"calcIfAutorange"},arrowcolor:{valType:"color",editType:"arraydraw"},arrowhead:{valType:"integer",min:0,max:r.length,dflt:1,editType:"arraydraw"},arrowsize:{valType:"number",min:.3,dflt:1,editType:"calcIfAutorange"},arrowwidth:{valType:"number",min:.1,editType:"calcIfAutorange"},standoff:{valType:"number",min:0,dflt:0,editType:"calcIfAutorange"},ax:{valType:"any",editType:"calcIfAutorange"},ay:{valType:"any",editType:"calcIfAutorange"},axref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.x.toString()],editType:"calc"},ayref:{valType:"enumerated",dflt:"pixel",values:["pixel",i.idRegex.y.toString()],editType:"calc"},xref:{valType:"enumerated",values:["paper",i.idRegex.x.toString()],editType:"calc"},x:{valType:"any",editType:"calcIfAutorange"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"auto",editType:"calcIfAutorange"},xshift:{valType:"number",dflt:0,editType:"calcIfAutorange"},yref:{valType:"enumerated",values:["paper",i.idRegex.y.toString()],editType:"calc"},y:{valType:"any",editType:"calcIfAutorange"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"calcIfAutorange"},yshift:{valType:"number",dflt:0,editType:"calcIfAutorange"},clicktoshow:{valType:"enumerated",values:[!1,"onoff","onout"],dflt:!1,editType:"arraydraw"},xclick:{valType:"any",editType:"arraydraw"},yclick:{valType:"any",editType:"arraydraw"},hovertext:{valType:"string",editType:"arraydraw"},hoverlabel:{bgcolor:{valType:"color",editType:"arraydraw"},bordercolor:{valType:"color",editType:"arraydraw"},font:a({editType:"arraydraw"}),editType:"arraydraw"},captureevents:{valType:"boolean",editType:"arraydraw"},editType:"calc",_deprecated:{ref:{valType:"string",editType:"calc"}}}},{"../../plots/cartesian/constants":194,"../../plots/font_attributes":213,"./arrow_paths":18}],20:[function(t,e,n){"use strict";function r(t){var e=t._fullLayout;a.filterVisible(e.annotations).forEach(function(e){var n,r,a=i.getFromId(t,e.xref),o=i.getFromId(t,e.yref),s=3*e.arrowsize*e.arrowwidth||0;a&&a.autorange&&(n=s+e.xshift,r=s-e.xshift,e.axref===e.xref?(i.expand(a,[a.r2c(e.x)],{ppadplus:n,ppadminus:r}),i.expand(a,[a.r2c(e.ax)],{ppadplus:e._xpadplus,ppadminus:e._xpadminus})):i.expand(a,[a.r2c(e.x)],{ppadplus:Math.max(e._xpadplus,n),ppadminus:Math.max(e._xpadminus,r)})),o&&o.autorange&&(n=s-e.yshift,r=s+e.yshift,e.ayref===e.yref?(i.expand(o,[o.r2c(e.y)],{ppadplus:n,ppadminus:r}),i.expand(o,[o.r2c(e.ay)],{ppadplus:e._ypadplus,ppadminus:e._ypadminus})):i.expand(o,[o.r2c(e.y)],{ppadplus:Math.max(e._ypadplus,n),ppadminus:Math.max(e._ypadminus,r)}))})}var a=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("./draw").draw;e.exports=function(t){var e=t._fullLayout,n=a.filterVisible(e.annotations);if(n.length&&t._fullData.length){var s={};if(n.forEach(function(t){s[t.xref]=!0,s[t.yref]=!0}),i.list(t).filter(function(t){return t.autorange&&s[t._id]}).length)return a.syncOrAsync([o,r],t)}}},{"../../lib":149,"../../plots/cartesian/axes":189,"./draw":25}],21:[function(t,e,n){"use strict";function r(t,e){var n=i(t,e);return n.on.length>0||n.explicitOff.length>0}function a(t,e){var n,r=i(t,e),a=r.on,o=r.off.concat(r.explicitOff),l={};if(a.length||o.length){for(n=0;n<a.length;n++)l["annotations["+a[n]+"].visible"]=!0;for(n=0;n<o.length;n++)l["annotations["+o[n]+"].visible"]=!1;return s.update(t,{},l)}}function i(t,e){var n,r,a,i,s,l,c,u,d=t._fullLayout.annotations,f=[],p=[],h=[],g=(e||[]).length;for(n=0;n<d.length;n++)if(a=d[n],i=a.clicktoshow){for(r=0;r<g;r++)if(s=e[r],l=s.xaxis,c=s.yaxis,l._id===a.xref&&c._id===a.yref&&l.d2r(s.x)===o(a._xclick,l)&&c.d2r(s.y)===o(a._yclick,c)){u=a.visible?"onout"===i?p:h:f,u.push(n);break}r===g&&a.visible&&"onout"===i&&p.push(n)}return{on:f,off:p,explicitOff:h}}function o(t,e){return"log"===e.type?e.l2r(t):e.d2r(t)}var s=t("../../plotly");e.exports={hasClickToShow:r,onClick:a}},{"../../plotly":184}],22:[function(t,e,n){"use strict";var r=t("../../lib"),a=t("../color");e.exports=function(t,e,n,i){i("opacity");var o=i("bgcolor"),s=i("bordercolor"),l=a.opacity(s);i("borderpad");var c=i("borderwidth"),u=i("showarrow");i("text",u?" ":"new text"),i("textangle"),r.coerceFont(i,"font",n.font),i("width"),i("align"),i("height")&&i("valign"),u&&(i("arrowcolor",l?e.bordercolor:a.defaultLine),i("arrowhead"),i("arrowsize"),i("arrowwidth",2*(l&&c||1)),i("standoff"));var d=i("hovertext"),f=n.hoverlabel||{};if(d){var p=i("hoverlabel.bgcolor",f.bgcolor||(a.opacity(o)?a.rgb(o):a.defaultLine)),h=i("hoverlabel.bordercolor",f.bordercolor||a.contrast(p));r.coerceFont(i,"hoverlabel.font",{family:f.font.family,size:f.font.size,color:f.font.color||h})}i("captureevents",!!d)}},{"../../lib":149,"../color":34}],23:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),a=t("../../lib/to_log_range");e.exports=function(t,e,n,i){function o(t){var n=c[t],o=null;o=s?a(n,e.range):Math.pow(10,n),r(o)||(o=null),i(u+t,o)}e=e||{};var s="log"===n&&"linear"===e.type,l="linear"===n&&"log"===e.type;if(s||l)for(var c,u,d=t._fullLayout.annotations,f=e._id.charAt(0),p=0;p<d.length;p++)c=d[p],u="annotations["+p+"].",c[f+"ref"]===e._id&&o(f),c["a"+f+"ref"]===e._id&&o("a"+f)}},{"../../lib/to_log_range":171,"fast-isnumeric":10}],24:[function(t,e,n){"use strict";var r=t("../../plots/array_container_defaults"),a=t("./annotation_defaults");e.exports=function(t,e){r(t,e,{name:"annotations",handleItemDefaults:a})}},{"../../plots/array_container_defaults":186,"./annotation_defaults":17}],25:[function(t,e,n){"use strict";function r(t){var e=t._fullLayout;e._infolayer.selectAll(".annotation").remove();for(var n=0;n<e.annotations.length;n++)e.annotations[n].visible&&a(t,n);return l.previousPromises(t)}function a(t,e){var n=t._fullLayout,r=n.annotations[e]||{};i(t,r,e,!1,u.getFromId(t,r.xref),u.getFromId(t,r.yref))}function i(t,e,n,r,a,i){function l(n){return n.call(f.font,R).attr({"text-anchor":{left:"start",right:"end"}[e.align]||"middle"}),h.convertToTspans(n,t,u),n}function u(){function n(t,e){return"auto"===e&&(e=t<1/3?"left":t>2/3?"right":"center"),{center:0,middle:0,left:.5,bottom:-.5,right:-.5,top:.5}[e]}var o=F.selectAll("a");1===o.size()&&o.text()===F.text()&&L.insert("a",":first-child").attr({"xlink:xlink:href":o.attr("xlink:href"),"xlink:xlink:show":o.attr("xlink:show")}).style({cursor:"pointer"}).node().appendChild(P.node());var l=L.select(".annotation-text-math-group"),u=!l.empty(),p=f.bBox((u?l:F).node()),y=p.width,E=p.height,D=e.width||y,R=e.height||E,j=Math.round(D+2*I),H=Math.round(R+2*I);e._w=D,e._h=R;for(var B=!1,V=["x","y"],q=0;q<V.length;q++){var $,U,W,G,Y,X=V[q],Z=e[X+"ref"]||X,Q=e["a"+X+"ref"],K={x:a,y:i}[X],J=(A+("x"===X?0:-90))*Math.PI/180,tt=j*Math.cos(J),et=H*Math.sin(J),nt=Math.abs(tt)+Math.abs(et),rt=e[X+"anchor"],at=e[X+"shift"]*("x"===X?1:-1),it=k[X];if(K){var ot=K.r2fraction(e[X]);if((t._dragging||!K.autorange)&&(ot<0||ot>1)&&(Q===Z?((ot=K.r2fraction(e["a"+X]))<0||ot>1)&&(B=!0):B=!0,B))continue;$=K._offset+K.r2p(e[X]),G=.5}else"x"===X?(W=e[X],$=_.l+_.w*W):(W=1-e[X],$=_.t+_.h*W),G=e.showarrow?.5:W;if(e.showarrow){it.head=$;var st=e["a"+X];Y=tt*n(.5,e.xanchor)-et*n(.5,e.yanchor),Q===Z?(it.tail=K._offset+K.r2p(st),U=Y):(it.tail=$+st,U=Y+st),it.text=it.tail+Y;var lt=x["x"===X?"width":"height"];if("paper"===Z&&(it.head=c.constrain(it.head,1,lt-1)),"pixel"===Q){var ct=-Math.max(it.tail-3,it.text),ut=Math.min(it.tail+3,it.text)-lt;ct>0?(it.tail+=ct,it.text+=ct):ut>0&&(it.tail-=ut,it.text-=ut)}it.tail+=at,it.head+=at}else Y=nt*n(G,rt),U=Y,it.text=$+Y;it.text+=at,Y+=at,U+=at,e["_"+X+"padplus"]=nt/2+U,e["_"+X+"padminus"]=nt/2-U,e["_"+X+"size"]=nt,e["_"+X+"shift"]=Y}if(B)return void L.remove();var dt=0,ft=0;if("left"!==e.align&&(dt=(D-y)*("center"===e.align?.5:1)),"top"!==e.valign&&(ft=(R-E)*("middle"===e.valign?.5:1)),u)l.select("svg").attr({x:I+dt-1,y:I+ft}).call(f.setClipUrl,N?T:null);else{var pt=I+ft-p.top,ht=I+dt-p.left;F.call(h.positionText,ht,pt).call(f.setClipUrl,N?T:null)}z.select("rect").call(f.setRect,I,I,D,R),P.call(f.setRect,O/2,O/2,j-O,H-O),L.call(f.setTranslate,Math.round(k.x.text-j/2),Math.round(k.y.text-H/2)),C.attr({transform:"rotate("+A+","+k.x.text+","+k.y.text+")"});var gt=function(n,o){M.selectAll(".annotation-arrow-g").remove();var l=k.x.head,u=k.y.head,p=k.x.tail+n,h=k.y.tail+o,g=k.x.text+n,y=k.y.text+o,x=c.rotationXYMatrix(A,g,y),T=c.apply2DTransform(x),S=c.apply2DTransform2(x),E=+P.attr("width"),O=+P.attr("height"),D=g-.5*E,I=D+E,N=y-.5*O,z=N+O,R=[[D,N,D,z],[D,z,I,z],[I,z,I,N],[I,N,D,N]].map(S);if(!R.reduce(function(t,e){return t^!!c.segmentsIntersect(l,u,l+1e6,u+1e6,e[0],e[1],e[2],e[3])},!1)){R.forEach(function(t){var e=c.segmentsIntersect(p,h,l,u,t[0],t[1],t[2],t[3]);e&&(p=e.x,h=e.y)});var F=e.arrowwidth,j=e.arrowcolor,H=M.append("g").style({opacity:d.opacity(j)}).classed("annotation-arrow-g",!0),B=H.append("path").attr("d","M"+p+","+h+"L"+l+","+u).style("stroke-width",F+"px").call(d.stroke,d.rgb(j));if(m(B,"end",e),w.annotationPosition&&B.node().parentNode&&!r){var V=l,q=u;if(e.standoff){var $=Math.sqrt(Math.pow(l-p,2)+Math.pow(u-h,2));V+=e.standoff*(p-l)/$,q+=e.standoff*(h-u)/$}var U,W,G,Y=H.append("path").classed("annotation-arrow",!0).classed("anndrag",!0).attr({d:"M3,3H-3V-3H3ZM0,0L"+(p-V)+","+(h-q),transform:"translate("+V+","+q+")"}).style("stroke-width",F+6+"px").call(d.stroke,"rgba(0,0,0,0)").call(d.fill,"rgba(0,0,0,0)");v.init({element:Y.node(),gd:t,prepFn:function(){var t=f.getTranslate(L);W=t.x,G=t.y,U={},a&&a.autorange&&(U[a._name+".autorange"]=!0),i&&i.autorange&&(U[i._name+".autorange"]=!0)},moveFn:function(t,n){var r=T(W,G),o=r[0]+t,s=r[1]+n;L.call(f.setTranslate,o,s),U[b+".x"]=a?a.p2r(a.r2p(e.x)+t):e.x+t/_.w,U[b+".y"]=i?i.p2r(i.r2p(e.y)+n):e.y-n/_.h,e.axref===e.xref&&(U[b+".ax"]=a.p2r(a.r2p(e.ax)+t)),e.ayref===e.yref&&(U[b+".ay"]=i.p2r(i.r2p(e.ay)+n)),H.attr("transform","translate("+t+","+n+")"),C.attr({transform:"rotate("+A+","+o+","+s+")"})},doneFn:function(e){if(e){s.relayout(t,U);var n=document.querySelector(".js-notes-box-panel");n&&n.redraw(n.selectedObj)}}})}}};if(e.showarrow&&gt(0,0),S){var vt,mt;v.init({element:L.node(),gd:t,prepFn:function(){mt=C.attr("transform"),vt={}},moveFn:function(t,n){var o="pointer";if(e.showarrow)e.axref===e.xref?vt[b+".ax"]=a.p2r(a.r2p(e.ax)+t):vt[b+".ax"]=e.ax+t,e.ayref===e.yref?vt[b+".ay"]=i.p2r(i.r2p(e.ay)+n):vt[b+".ay"]=e.ay+n,gt(t,n);else{if(r)return;if(a)vt[b+".x"]=e.x+t/a._m;else{var s=e._xsize/_.w,l=e.x+(e._xshift-e.xshift)/_.w-s/2;vt[b+".x"]=v.align(l+t/_.w,s,0,1,e.xanchor)}if(i)vt[b+".y"]=e.y+n/i._m;else{var c=e._ysize/_.h,u=e.y-(e._yshift+e.yshift)/_.h-c/2;vt[b+".y"]=v.align(u-n/_.h,c,0,1,e.yanchor)}a&&i||(o=v.getCursor(a?.5:vt[b+".x"],i?.5:vt[b+".y"],e.xanchor,e.yanchor))}C.attr({transform:"translate("+t+","+n+")"+mt}),g(L,o)},doneFn:function(e){if(g(L),e){s.relayout(t,vt);var n=document.querySelector(".js-notes-box-panel");n&&n.redraw(n.selectedObj)}}})}}var y,b,x=t._fullLayout,_=t._fullLayout._size,w=t._context.edits;r?(y="annotation-"+r,b=r+".annotations["+n+"]"):(y="annotation",b="annotations["+n+"]"),x._infolayer.selectAll("."+y+'[data-index="'+n+'"]').remove();var T="clip"+x._uid+"_ann"+n;if(!e._input||!1===e.visible)return void o.selectAll("#"+T).remove();var k={x:{},y:{}},A=+e.textangle||0,M=x._infolayer.append("g").classed(y,!0).attr("data-index",String(n)).style("opacity",e.opacity),C=M.append("g").classed("annotation-text-g",!0),S=w[e.showarrow?"annotationTail":"annotationPosition"],E=e.captureevents||w.annotationText||S,L=C.append("g").style("pointer-events",E?"all":null).call(g,"default").on("click",function(){t._dragging=!1;var a={index:n,annotation:e._input,fullAnnotation:e,event:o.event};r&&(a.subplotId=r),t.emit("plotly_clickannotation",a)});e.hovertext&&L.on("mouseover",function(){var n=e.hoverlabel,r=n.font,a=this.getBoundingClientRect(),i=t.getBoundingClientRect();p.loneHover({x0:a.left-i.left,x1:a.right-i.left,y:(a.top+a.bottom)/2-i.top,text:e.hovertext,color:n.bgcolor,borderColor:n.bordercolor,fontFamily:r.family,fontSize:r.size,fontColor:r.color},{container:x._hoverlayer.node(),outerContainer:x._paper.node(),gd:t})}).on("mouseout",function(){p.loneUnhover(x._hoverlayer.node())});var O=e.borderwidth,D=e.borderpad,I=O+D,P=L.append("rect").attr("class","bg").style("stroke-width",O+"px").call(d.stroke,e.bordercolor).call(d.fill,e.bgcolor),N=e.width||e.height,z=x._topclips.selectAll("#"+T).data(N?[0]:[]);z.enter().append("clipPath").classed("annclip",!0).attr("id",T).append("rect"),z.exit().remove();var R=e.font,F=L.append("text").classed("annotation-text",!0).text(e.text);w.annotationText?F.call(h.makeEditable,{delegate:L,gd:t}).call(l).on("edit",function(n){e.text=n,this.call(l);var r={};r[b+".text"]=e.text,a&&a.autorange&&(r[a._name+".autorange"]=!0),i&&i.autorange&&(r[i._name+".autorange"]=!0),s.relayout(t,r)}):F.call(l)}var o=t("d3"),s=t("../../plotly"),l=t("../../plots/plots"),c=t("../../lib"),u=t("../../plots/cartesian/axes"),d=t("../color"),f=t("../drawing"),p=t("../fx"),h=t("../../lib/svg_text_utils"),g=t("../../lib/setcursor"),v=t("../dragelement"),m=t("./draw_arrow_head");e.exports={draw:r,drawOne:a,drawRaw:i}},{"../../lib":149,"../../lib/setcursor":167,"../../lib/svg_text_utils":169,"../../plotly":184,"../../plots/cartesian/axes":189,"../../plots/plots":218,"../color":34,"../dragelement":55,"../drawing":58,"../fx":75,"./draw_arrow_head":26,d3:7}],26:[function(t,e,n){"use strict";var r=t("d3"),a=t("../color"),i=t("./arrow_paths");e.exports=function(t,e,n){function o(){t.style("stroke-dasharray","0px,100px")}function s(e,i){p.path&&(p.noRotate&&(i=0),r.select(f.parentNode).append("path").attr({class:t.attr("class"),d:p.path,transform:"translate("+e.x+","+e.y+")"+(i?"rotate("+180*i/Math.PI+")":"")+"scale("+h+")"}).style({fill:a.rgb(n.arrowcolor),"stroke-width":0}))}var l,c,u,d,f=t.node(),p=i[n.arrowhead||0],h=(n.arrowwidth||1)*n.arrowsize,g=e.indexOf("start")>=0,v=e.indexOf("end")>=0,m=p.backoff*h+n.standoff;if("line"===f.nodeName){l={x:+t.attr("x1"),y:+t.attr("y1")},c={x:+t.attr("x2"),y:+t.attr("y2")};var y=l.x-c.x,b=l.y-c.y;if(u=Math.atan2(b,y),d=u+Math.PI,m){if(m*m>y*y+b*b)return void o();var x=m*Math.cos(u),_=m*Math.sin(u);g&&(l.x-=x,l.y-=_,t.attr({x1:l.x,y1:l.y})),v&&(c.x+=x,c.y+=_,t.attr({x2:c.x,y2:c.y}))}}else if("path"===f.nodeName){var w=f.getTotalLength(),T="";if(w<m)return void o();if(g){var k=f.getPointAtLength(0),A=f.getPointAtLength(.1);u=Math.atan2(k.y-A.y,k.x-A.x),l=f.getPointAtLength(Math.min(m,w)),m&&(T="0px,"+m+"px,")}if(v){var M=f.getPointAtLength(w),C=f.getPointAtLength(w-.1);if(d=Math.atan2(M.y-C.y,M.x-C.x),c=f.getPointAtLength(Math.max(0,w-m)),m){var S=T?2*m:m;T+=w-S+"px,"+w+"px"}}else T&&(T+=w+"px");T&&t.style("stroke-dasharray",T)}g&&s(l,u),v&&s(c,d)}},{"../color":34,"./arrow_paths":18,d3:7}],27:[function(t,e,n){"use strict";var r=t("./draw"),a=t("./click");e.exports={moduleType:"component",name:"annotations",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),calcAutorange:t("./calc_autorange"),draw:r.draw,drawOne:r.drawOne,drawRaw:r.drawRaw,hasClickToShow:a.hasClickToShow,onClick:a.onClick,convertCoords:t("./convert_coords")}},{"./attributes":19,"./calc_autorange":20,"./click":21,"./convert_coords":23,"./defaults":24,"./draw":25}],28:[function(t,e,n){"use strict";var r=t("../annotations/attributes"),a=t("../../plot_api/edit_types").overrideAll;e.exports=a({_isLinkedToArray:"annotation",visible:r.visible,x:{valType:"any"},y:{valType:"any"},z:{valType:"any"},ax:{valType:"number"},ay:{valType:"number"},xanchor:r.xanchor,xshift:r.xshift,yanchor:r.yanchor,yshift:r.yshift,text:r.text,textangle:r.textangle,font:r.font,width:r.width,height:r.height,opacity:r.opacity,
align:r.align,valign:r.valign,bgcolor:r.bgcolor,bordercolor:r.bordercolor,borderpad:r.borderpad,borderwidth:r.borderwidth,showarrow:r.showarrow,arrowcolor:r.arrowcolor,arrowhead:r.arrowhead,arrowsize:r.arrowsize,arrowwidth:r.arrowwidth,standoff:r.standoff,hovertext:r.hovertext,hoverlabel:r.hoverlabel,captureevents:r.captureevents},"calc","from-root")},{"../../plot_api/edit_types":173,"../annotations/attributes":19}],29:[function(t,e,n){"use strict";function r(t,e){var n=e.fullSceneLayout,r=n.domain,o=e.fullLayout._size,s={pdata:null,type:"linear",autorange:!1,range:[-1/0,1/0]};t._xa={},a.extendFlat(t._xa,s),i.setConvert(t._xa),t._xa._offset=o.l+r.x[0]*o.w,t._xa.l2p=function(){return.5*(1+t.pdata[0]/t.pdata[3])*o.w*(r.x[1]-r.x[0])},t._ya={},a.extendFlat(t._ya,s),i.setConvert(t._ya),t._ya._offset=o.t+(1-r.y[1])*o.h,t._ya.l2p=function(){return.5*(1-t.pdata[1]/t.pdata[3])*o.h*(r.y[1]-r.y[0])}}var a=t("../../lib"),i=t("../../plots/cartesian/axes");e.exports=function(t){for(var e=t.fullSceneLayout,n=e.annotations,a=0;a<n.length;a++)r(n[a],t);t.fullLayout._infolayer.selectAll(".annotation-"+t.id).remove()}},{"../../lib":149,"../../plots/cartesian/axes":189}],30:[function(t,e,n){"use strict";function r(t,e,n,r,o){function c(n,r){return a.coerce(t,e,l,n,r)}function u(t){var r=t+"axis",a={_fullLayout:{}};return a._fullLayout[r]=n[r],i.coercePosition(e,a,c,t,t,.5)}return c("visible",!o.itemIsNotPlainObject)?(s(t,e,r.fullLayout,c),u("x"),u("y"),u("z"),a.noneOrAll(t,e,["x","y","z"]),e.xref="x",e.yref="y",e.zref="z",c("xanchor"),c("yanchor"),c("xshift"),c("yshift"),e.showarrow&&(e.axref="pixel",e.ayref="pixel",c("ax",-10),c("ay",-30),a.noneOrAll(t,e,["ax","ay"])),e):e}var a=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("../../plots/array_container_defaults"),s=t("../annotations/common_defaults"),l=t("./attributes");e.exports=function(t,e,n){o(t,e,{name:"annotations",handleItemDefaults:r,fullLayout:n.fullLayout})}},{"../../lib":149,"../../plots/array_container_defaults":186,"../../plots/cartesian/axes":189,"../annotations/common_defaults":22,"./attributes":28}],31:[function(t,e,n){"use strict";var r=t("../annotations/draw").drawRaw,a=t("../../plots/gl3d/project"),i=["x","y","z"];e.exports=function(t){for(var e=t.fullSceneLayout,n=t.dataScale,o=e.annotations,s=0;s<o.length;s++){for(var l=o[s],c=!1,u=0;u<3;u++){var d=i[u],f=l[d],p=e[d+"axis"],h=p.r2fraction(f);if(h<0||h>1){c=!0;break}}c?t.fullLayout._infolayer.select(".annotation-"+t.id+'[data-index="'+s+'"]').remove():(l.pdata=a(t.glplot.cameraParams,[e.xaxis.r2l(l.x)*n[0],e.yaxis.r2l(l.y)*n[1],e.zaxis.r2l(l.z)*n[2]]),r(t.graphDiv,l,s,t.id,l._xa,l._ya))}}},{"../../plots/gl3d/project":215,"../annotations/draw":25}],32:[function(t,e,n){"use strict";e.exports={moduleType:"component",name:"annotations3d",schema:{subplots:{scene:{annotations:t("./attributes")}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),convert:t("./convert"),draw:t("./draw")}},{"./attributes":28,"./convert":29,"./defaults":30,"./draw":31}],33:[function(t,e,n){"use strict";n.defaults=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],n.defaultLine="#444",n.lightLine="#eee",n.background="#fff",n.borderLine="#BEC8D9",n.lightFraction=1e3/11},{}],34:[function(t,e,n){"use strict";function r(t){if(i(t)||"string"!=typeof t)return t;var e=t.trim();if("rgb"!==e.substr(0,3))return t;var n=e.match(/^rgba?\s*\(([^()]*)\)$/);if(!n)return t;var r=n[1].trim().split(/\s*[\s,]\s*/),a="a"===e.charAt(3)&&4===r.length;if(!a&&3!==r.length)return t;for(var o=0;o<r.length;o++){if(!r[o].length)return t;if(r[o]=Number(r[o]),!(r[o]>=0))return t;if(3===o)r[o]>1&&(r[o]=1);else if(r[o]>=1)return t}var s=Math.round(255*r[0])+", "+Math.round(255*r[1])+", "+Math.round(255*r[2]);return a?"rgba("+s+", "+r[3]+")":"rgb("+s+")"}var a=t("tinycolor2"),i=t("fast-isnumeric"),o=e.exports={},s=t("./attributes");o.defaults=s.defaults;var l=o.defaultLine=s.defaultLine;o.lightLine=s.lightLine;var c=o.background=s.background;o.tinyRGB=function(t){var e=t.toRgb();return"rgb("+Math.round(e.r)+", "+Math.round(e.g)+", "+Math.round(e.b)+")"},o.rgb=function(t){return o.tinyRGB(a(t))},o.opacity=function(t){return t?a(t).getAlpha():0},o.addOpacity=function(t,e){var n=a(t).toRgb();return"rgba("+Math.round(n.r)+", "+Math.round(n.g)+", "+Math.round(n.b)+", "+e+")"},o.combine=function(t,e){var n=a(t).toRgb();if(1===n.a)return a(t).toRgbString();var r=a(e||c).toRgb(),i=1===r.a?r:{r:255*(1-r.a)+r.r*r.a,g:255*(1-r.a)+r.g*r.a,b:255*(1-r.a)+r.b*r.a},o={r:i.r*(1-n.a)+n.r*n.a,g:i.g*(1-n.a)+n.g*n.a,b:i.b*(1-n.a)+n.b*n.a};return a(o).toRgbString()},o.contrast=function(t,e,n){var r=a(t);return 1!==r.getAlpha()&&(r=a(o.combine(t,c))),(r.isDark()?e?r.lighten(e):c:n?r.darken(n):l).toString()},o.stroke=function(t,e){var n=a(e);t.style({stroke:o.tinyRGB(n),"stroke-opacity":n.getAlpha()})},o.fill=function(t,e){var n=a(e);t.style({fill:o.tinyRGB(n),"fill-opacity":n.getAlpha()})},o.clean=function(t){if(t&&"object"==typeof t){var e,n,a,i,s=Object.keys(t);for(e=0;e<s.length;e++)if(a=s[e],i=t[a],"color"===a.substr(a.length-5))if(Array.isArray(i))for(n=0;n<i.length;n++)i[n]=r(i[n]);else t[a]=r(i);else if("colorscale"===a.substr(a.length-10)&&Array.isArray(i))for(n=0;n<i.length;n++)Array.isArray(i[n])&&(i[n][1]=r(i[n][1]));else if(Array.isArray(i)){var l=i[0];if(!Array.isArray(l)&&l&&"object"==typeof l)for(n=0;n<i.length;n++)o.clean(i[n])}else i&&"object"==typeof i&&o.clean(i)}}},{"./attributes":33,"fast-isnumeric":10,tinycolor2:16}],35:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/layout_attributes"),a=t("../../plots/font_attributes"),i=t("../../lib/extend").extendFlat,o=t("../../plot_api/edit_types").overrideAll;e.exports=o({thicknessmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"pixels"},thickness:{valType:"number",min:0,dflt:30},lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",dflt:1.02,min:-2,max:3},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},xpad:{valType:"number",min:0,dflt:10},y:{valType:"number",dflt:.5,min:-2,max:3},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"middle"},ypad:{valType:"number",min:0,dflt:10},outlinecolor:r.linecolor,outlinewidth:r.linewidth,bordercolor:r.linecolor,borderwidth:{valType:"number",min:0,dflt:0},bgcolor:{valType:"color",dflt:"rgba(0,0,0,0)"},tickmode:r.tickmode,nticks:r.nticks,tick0:r.tick0,dtick:r.dtick,tickvals:r.tickvals,ticktext:r.ticktext,ticks:i({},r.ticks,{dflt:""}),ticklen:r.ticklen,tickwidth:r.tickwidth,tickcolor:r.tickcolor,showticklabels:r.showticklabels,tickfont:a({}),tickangle:r.tickangle,tickformat:r.tickformat,tickprefix:r.tickprefix,showtickprefix:r.showtickprefix,ticksuffix:r.ticksuffix,showticksuffix:r.showticksuffix,separatethousands:r.separatethousands,exponentformat:r.exponentformat,showexponent:r.showexponent,title:{valType:"string",dflt:"Click to enter colorscale title"},titlefont:a({}),titleside:{valType:"enumerated",values:["right","top","bottom"],dflt:"top"}},"colorbars","from-root")},{"../../lib/extend":143,"../../plot_api/edit_types":173,"../../plots/cartesian/layout_attributes":200,"../../plots/font_attributes":213}],36:[function(t,e,n){"use strict";var r=t("../../lib"),a=t("../../plots/cartesian/tick_value_defaults"),i=t("../../plots/cartesian/tick_mark_defaults"),o=t("../../plots/cartesian/tick_label_defaults"),s=t("./attributes");e.exports=function(t,e,n){function l(t,e){return r.coerce(u,c,s,t,e)}var c=e.colorbar={},u=t.colorbar||{};l("thickness","fraction"===l("thicknessmode")?30/(n.width-n.margin.l-n.margin.r):30),l("len","fraction"===l("lenmode")?1:n.height-n.margin.t-n.margin.b),l("x"),l("xanchor"),l("xpad"),l("y"),l("yanchor"),l("ypad"),r.noneOrAll(u,c,["x","y"]),l("outlinecolor"),l("outlinewidth"),l("bordercolor"),l("borderwidth"),l("bgcolor"),a(u,c,l,"linear"),o(u,c,l,"linear",{outerTicks:!1,font:n.font,noHover:!0}),i(u,c,l,"linear",{outerTicks:!1,font:n.font,noHover:!0}),l("title"),r.coerceFont(l,"titlefont",n.font),l("titleside")}},{"../../lib":149,"../../plots/cartesian/tick_label_defaults":207,"../../plots/cartesian/tick_mark_defaults":208,"../../plots/cartesian/tick_value_defaults":209,"./attributes":35}],37:[function(t,e,n){"use strict";var r=t("d3"),a=t("tinycolor2"),i=t("../../plotly"),o=t("../../plots/plots"),s=t("../../registry"),l=t("../../plots/cartesian/axes"),c=t("../dragelement"),u=t("../../lib"),d=t("../../lib/extend").extendFlat,f=t("../../lib/setcursor"),p=t("../drawing"),h=t("../color"),g=t("../titles"),v=t("../../lib/svg_text_utils"),m=t("../../constants/alignment").LINE_SPACING,y=t("../../plots/cartesian/axis_defaults"),b=t("../../plots/cartesian/position_defaults"),x=t("../../plots/cartesian/layout_attributes"),_=t("./attributes");e.exports=function(t,e){function n(){function _(t,e){return u.coerce(et,nt,x,t,e)}function k(){if(-1!==["top","bottom"].indexOf(T.titleside)){var e=lt.select(".cbtitle"),n=e.select("text"),i=[-T.outlinewidth/2,T.outlinewidth/2],o=e.select(".h"+nt._id+"title-math-group").node(),s=15.6;if(n.node()&&(s=parseInt(n.node().style.fontSize,10)*m),o?(ut=p.bBox(o).height)>s&&(i[1]-=(ut-s)/2):n.node()&&!n.classed("js-placeholder")&&(ut=p.bBox(n.node()).height),ut){if(ut+=5,"top"===T.titleside)nt.domain[1]-=ut/S.h,i[1]*=-1;else{nt.domain[0]+=ut/S.h;var c=v.lineCount(n);i[1]+=(1-c)*s}e.attr("transform","translate("+i+")"),nt.setScale()}}lt.selectAll(".cbfills,.cblines,.cbaxis").attr("transform","translate(0,"+Math.round(S.h*(1-nt.domain[1]))+")");var d=lt.select(".cbfills").selectAll("rect.cbfill").data(I);d.enter().append("rect").classed("cbfill",!0).style("stroke","none"),d.exit().remove(),d.each(function(t,e){var n=[0===e?O[0]:(I[e]+I[e-1])/2,e===I.length-1?O[1]:(I[e]+I[e+1])/2].map(nt.c2p).map(Math.round);e!==I.length-1&&(n[1]+=n[1]>n[0]?1:-1);var i=N(t).replace("e-",""),o=a(i).toHexString();r.select(this).attr({x:Z,width:Math.max(q,2),y:r.min(n),height:Math.max(r.max(n)-r.min(n),2),fill:o})});var f=lt.select(".cblines").selectAll("path.cbline").data(T.line.color&&T.line.width?D:[]);return f.enter().append("path").classed("cbline",!0),f.exit().remove(),f.each(function(t){r.select(this).attr("d","M"+Z+","+(Math.round(nt.c2p(t))+T.line.width/2%1)+"h"+q).call(p.lineGroupStyle,T.line.width,P(t),T.line.dash)}),nt._axislayer.selectAll("g."+nt._id+"tick,path").remove(),nt._pos=Z+q+(T.outlinewidth||0)/2-("outside"===T.ticks?1:0),nt.side="right",u.syncOrAsync([function(){return l.doTicks(t,nt,!0)},function(){if(-1===["top","bottom"].indexOf(T.titleside)){var e=nt.titlefont.size,n=nt._offset+nt._length/2,a=S.l+(nt.position||0)*S.w+("right"===nt.side?10+e*(nt.showticklabels?1:.5):-10-e*(nt.showticklabels?.5:0));A("h"+nt._id+"title",{avoid:{selection:r.select(t).selectAll("g."+nt._id+"tick"),side:T.titleside,offsetLeft:S.l,offsetTop:S.t,maxShift:C.width},attributes:{x:a,y:n,"text-anchor":"middle"},transform:{rotate:"-90",offset:0}})}}])}function A(e,n){var r,a=w();r=s.traceIs(a,"markerColorscale")?"marker.colorbar.title":"colorbar.title";var i={propContainer:nt,propName:r,traceIndex:a.index,dfltName:"colorscale",containerGroup:lt.select(".cbtitle")},o="h"===e.charAt(0)?e.substr(1):"h"+e;lt.selectAll("."+o+",."+o+"-math-group").remove(),g.draw(t,e,d(i,n||{}))}function M(){var n=q+T.outlinewidth/2+p.bBox(nt._axislayer.node()).width;if(H=ct.select("text"),H.node()&&!H.classed("js-placeholder")){var r,a=ct.select(".h"+nt._id+"title-math-group").node();r=a&&-1!==["top","bottom"].indexOf(T.titleside)?p.bBox(a).width:p.bBox(ct.node()).right-Z-S.l,n=Math.max(n,r)}var i=2*T.xpad+n+T.borderwidth+T.outlinewidth/2,s=J-tt;lt.select(".cbbg").attr({x:Z-T.xpad-(T.borderwidth+T.outlinewidth)/2,y:tt-Y,width:Math.max(i,2),height:Math.max(s+2*Y,2)}).call(h.fill,T.bgcolor).call(h.stroke,T.bordercolor).style({"stroke-width":T.borderwidth}),lt.selectAll(".cboutline").attr({x:Z,y:tt+T.ypad+("top"===T.titleside?ut:0),width:Math.max(q,2),height:Math.max(s-2*T.ypad-ut,2)}).call(h.stroke,T.outlinecolor).style({fill:"None","stroke-width":T.outlinewidth});var l=({center:.5,right:1}[T.xanchor]||0)*i;lt.attr("transform","translate("+(S.l-l)+","+S.t+")"),o.autoMargin(t,e,{x:T.x,y:T.y,l:i*({right:1,center:.5}[T.xanchor]||0),r:i*({left:1,center:.5}[T.xanchor]||0),t:s*({bottom:1,middle:.5}[T.yanchor]||0),b:s*({top:1,middle:.5}[T.yanchor]||0)})}var C=t._fullLayout,S=C._size;if("function"!=typeof T.fillcolor&&"function"!=typeof T.line.color)return void C._infolayer.selectAll("g."+e).remove();var E,L,O=r.extent(("function"==typeof T.fillcolor?T.fillcolor:T.line.color).domain()),D=[],I=[],P="function"==typeof T.line.color?T.line.color:function(){return T.line.color},N="function"==typeof T.fillcolor?T.fillcolor:function(){return T.fillcolor},z=T.levels.end+T.levels.size/100,R=T.levels.size,F=1.001*O[0]-.001*O[1],j=1.001*O[1]-.001*O[0];for(L=0;L<1e5&&(E=T.levels.start+L*R,!(R>0?E>=z:E<=z));L++)E>F&&E<j&&D.push(E);if("function"==typeof T.fillcolor)if(T.filllevels)for(z=T.filllevels.end+T.filllevels.size/100,R=T.filllevels.size,L=0;L<1e5&&(E=T.filllevels.start+L*R,!(R>0?E>=z:E<=z));L++)E>O[0]&&E<O[1]&&I.push(E);else I=D.map(function(t){return t-T.levels.size/2}),I.push(I[I.length-1]+T.levels.size);else T.fillcolor&&"string"==typeof T.fillcolor&&(I=[0]);T.levels.size<0&&(D.reverse(),I.reverse());var H,B=C.height-C.margin.t-C.margin.b,V=C.width-C.margin.l-C.margin.r,q=Math.round(T.thickness*("fraction"===T.thicknessmode?V:1)),$=q/S.w,U=Math.round(T.len*("fraction"===T.lenmode?B:1)),W=U/S.h,G=T.xpad/S.w,Y=(T.borderwidth+T.outlinewidth)/2,X=T.ypad/S.h,Z=Math.round(T.x*S.w+T.xpad),Q=T.x-$*({middle:.5,right:1}[T.xanchor]||0),K=T.y+W*(({top:-.5,bottom:.5}[T.yanchor]||0)-.5),J=Math.round(S.h*(1-K)),tt=J-U,et={type:"linear",range:O,tickmode:T.tickmode,nticks:T.nticks,tick0:T.tick0,dtick:T.dtick,tickvals:T.tickvals,ticktext:T.ticktext,ticks:T.ticks,ticklen:T.ticklen,tickwidth:T.tickwidth,tickcolor:T.tickcolor,showticklabels:T.showticklabels,tickfont:T.tickfont,tickangle:T.tickangle,tickformat:T.tickformat,exponentformat:T.exponentformat,separatethousands:T.separatethousands,showexponent:T.showexponent,showtickprefix:T.showtickprefix,tickprefix:T.tickprefix,showticksuffix:T.showticksuffix,ticksuffix:T.ticksuffix,title:T.title,titlefont:T.titlefont,showline:!0,anchor:"free",position:1},nt={type:"linear",_id:"y"+e},rt={letter:"y",font:C.font,noHover:!0,calendar:C.calendar};if(y(et,nt,_,rt,C),b(et,nt,_,rt),nt.position=T.x+G+$,n.axis=nt,-1!==["top","bottom"].indexOf(T.titleside)&&(nt.titleside=T.titleside,nt.titlex=T.x+G,nt.titley=K+("top"===T.titleside?W-X:X)),T.line.color&&"auto"===T.tickmode){nt.tickmode="linear",nt.tick0=T.levels.start;var at=T.levels.size,it=u.constrain((J-tt)/50,4,15)+1,ot=(O[1]-O[0])/((T.nticks||it)*at);if(ot>1){var st=Math.pow(10,Math.floor(Math.log(ot)/Math.LN10));at*=st*u.roundUp(ot/st,[2,5,10]),(Math.abs(T.levels.start)/T.levels.size+1e-6)%1<2e-6&&(nt.tick0=0)}nt.dtick=at}nt.domain=[K+X,K+W-X],nt.setScale();var lt=C._infolayer.selectAll("g."+e).data([0]);lt.enter().append("g").classed(e,!0).each(function(){var t=r.select(this);t.append("rect").classed("cbbg",!0),t.append("g").classed("cbfills",!0),t.append("g").classed("cblines",!0),t.append("g").classed("cbaxis",!0).classed("crisp",!0),t.append("g").classed("cbtitleunshift",!0).append("g").classed("cbtitle",!0),t.append("rect").classed("cboutline",!0),t.select(".cbtitle").datum(0)}),lt.attr("transform","translate("+Math.round(S.l)+","+Math.round(S.t)+")");var ct=lt.select(".cbtitleunshift").attr("transform","translate(-"+Math.round(S.l)+",-"+Math.round(S.t)+")");nt._axislayer=lt.select(".cbaxis");var ut=0;if(-1!==["top","bottom"].indexOf(T.titleside)){var dt,ft=S.l+(T.x+G)*S.w,pt=nt.titlefont.size;dt="top"===T.titleside?(1-(K+W-X))*S.h+S.t+3+.75*pt:(1-(K+X))*S.h+S.t-3-.25*pt,A(nt._id+"title",{attributes:{x:ft,y:dt,"text-anchor":"start"}})}var ht=u.syncOrAsync([o.previousPromises,k,o.previousPromises,M],t);if(ht&&ht.then&&(t._promises||[]).push(ht),t._context.edits.colorbarPosition){var gt,vt,mt;c.init({element:lt.node(),gd:t,prepFn:function(){gt=lt.attr("transform"),f(lt)},moveFn:function(t,e){lt.attr("transform",gt+" translate("+t+","+e+")"),vt=c.align(Q+t/S.w,$,0,1,T.xanchor),mt=c.align(K-e/S.h,W,0,1,T.yanchor);var n=c.getCursor(vt,mt,T.xanchor,T.yanchor);f(lt,n)},doneFn:function(e){f(lt),e&&void 0!==vt&&void 0!==mt&&i.restyle(t,{"colorbar.x":vt,"colorbar.y":mt},w().index)}})}return ht}function w(){var n,r,a=e.substr(2);for(n=0;n<t._fullData.length;n++)if(r=t._fullData[n],r.uid===a)return r}var T={};return Object.keys(_).forEach(function(t){T[t]=null}),T.fillcolor=null,T.line={color:null,width:null,dash:null},T.levels={start:null,end:null,size:null},T.filllevels=null,Object.keys(T).forEach(function(t){n[t]=function(e){return arguments.length?(T[t]=u.isPlainObject(T[t])?u.extendFlat(T[t],e):e,n):T[t]}}),n.options=function(t){return Object.keys(t).forEach(function(e){"function"==typeof n[e]&&n[e](t[e])}),n},n._opts=T,n}},{"../../constants/alignment":131,"../../lib":149,"../../lib/extend":143,"../../lib/setcursor":167,"../../lib/svg_text_utils":169,"../../plotly":184,"../../plots/cartesian/axes":189,"../../plots/cartesian/axis_defaults":191,"../../plots/cartesian/layout_attributes":200,"../../plots/cartesian/position_defaults":203,"../../plots/plots":218,"../../registry":225,"../color":34,"../dragelement":55,"../drawing":58,"../titles":124,"./attributes":35,d3:7,tinycolor2:16}],38:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t){return r.isPlainObject(t.colorbar)}},{"../../lib":149}],39:[function(t,e,n){"use strict";e.exports={zauto:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{zmin:void 0,zmax:void 0}},zmin:{valType:"number",dflt:null,editType:"plot",impliedEdits:{zauto:!1}},zmax:{valType:"number",dflt:null,editType:"plot",impliedEdits:{zauto:!1}},colorscale:{valType:"colorscale",editType:"calc",impliedEdits:{autocolorscale:!1}},autocolorscale:{valType:"boolean",dflt:!0,editType:"calc",impliedEdits:{colorscale:void 0}},reversescale:{valType:"boolean",dflt:!1,editType:"calc"},showscale:{valType:"boolean",dflt:!0,editType:"calc"}}},{}],40:[function(t,e,n){"use strict";var r=t("../../lib"),a=t("./scales"),i=t("./flip_scale");e.exports=function(t,e,n,o){var s,l;n?(s=r.nestedProperty(t,n).get(),l=r.nestedProperty(t._input,n).get()):(s=t,l=t._input);var c=o+"auto",u=o+"min",d=o+"max",f=s[c],p=s[u],h=s[d],g=s.colorscale;!1===f&&void 0!==p||(p=r.aggNums(Math.min,null,e)),!1===f&&void 0!==h||(h=r.aggNums(Math.max,null,e)),p===h&&(p-=.5,h+=.5),s[u]=p,s[d]=h,l[u]=p,l[d]=h,l[c]=!1!==f||void 0===p&&void 0===h,s.autocolorscale&&(g=p*h<0?a.RdBu:p>=0?a.Reds:a.Blues,l.colorscale=g,s.reversescale&&(g=i(g)),s.colorscale=g)}},{"../../lib":149,"./flip_scale":45,"./scales":52}],41:[function(t,e,n){"use strict";var r=t("./attributes"),a=t("../../lib/extend").extendFlat;t("./scales.js"),e.exports=function(t,e,n){return{color:{valType:"color",arrayOk:!0,editType:e||"style"},colorscale:a({},r.colorscale,{}),cauto:a({},r.zauto,{impliedEdits:{cmin:void 0,cmax:void 0}}),cmax:a({},r.zmax,{editType:e||r.zmax.editType,impliedEdits:{cauto:!1}}),cmin:a({},r.zmin,{editType:e||r.zmin.editType,impliedEdits:{cauto:!1}}),autocolorscale:a({},r.autocolorscale,{dflt:!1===n?n:r.autocolorscale.dflt}),reversescale:a({},r.reversescale,{})}}},{"../../lib/extend":143,"./attributes":39,"./scales.js":52}],42:[function(t,e,n){"use strict";var r=t("./scales");e.exports=r.RdBu},{"./scales":52}],43:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),a=t("../../lib"),i=t("../colorbar/has_colorbar"),o=t("../colorbar/defaults"),s=t("./is_valid_scale"),l=t("./flip_scale");e.exports=function(t,e,n,c,u){var d=u.prefix,f=u.cLetter,p=d.slice(0,d.length-1),h=d?a.nestedProperty(t,p).get()||{}:t,g=d?a.nestedProperty(e,p).get()||{}:e,v=h[f+"min"],m=h[f+"max"],y=h.colorscale;c(d+f+"auto",!(r(v)&&r(m)&&v<m)),c(d+f+"min"),c(d+f+"max");var b;void 0!==y&&(b=!s(y)),c(d+"autocolorscale",b);var x=c(d+"colorscale");if(c(d+"reversescale")&&(g.colorscale=l(x)),"marker.line."!==d){var _;d&&(_=i(h)),c(d+"showscale",_)&&o(h,g,n)}}},{"../../lib":149,"../colorbar/defaults":36,"../colorbar/has_colorbar":38,"./flip_scale":45,"./is_valid_scale":49,"fast-isnumeric":10}],44:[function(t,e,n){"use strict";e.exports=function(t,e,n){for(var r=t.length,a=new Array(r),i=new Array(r),o=0;o<r;o++){var s=t[o];a[o]=e+s[0]*(n-e),i[o]=s[1]}return{domain:a,range:i}}},{}],45:[function(t,e,n){"use strict";e.exports=function(t){for(var e,n=t.length,r=new Array(n),a=n-1,i=0;a>=0;a--,i++)e=t[a],r[i]=[1-e[0],e[1]];return r}},{}],46:[function(t,e,n){"use strict";var r=t("./scales"),a=t("./default_scale"),i=t("./is_valid_scale_array");e.exports=function(t,e){function n(){try{t=r[t]||JSON.parse(t)}catch(n){t=e}}return e||(e=a),t?("string"==typeof t&&(n(),"string"==typeof t&&n()),i(t)?t:e):e}},{"./default_scale":42,"./is_valid_scale_array":50,"./scales":52}],47:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),a=t("../../lib"),i=t("./is_valid_scale");e.exports=function(t,e){var n=e?a.nestedProperty(t,e).get()||{}:t,o=n.color,s=!1;if(Array.isArray(o))for(var l=0;l<o.length;l++)if(r(o[l])){s=!0;break}return a.isPlainObject(n)&&(s||!0===n.showscale||r(n.cmin)&&r(n.cmax)||i(n.colorscale)||a.isPlainObject(n.colorbar))}},{"../../lib":149,"./is_valid_scale":49,"fast-isnumeric":10}],48:[function(t,e,n){"use strict";n.scales=t("./scales"),n.defaultScale=t("./default_scale"),n.attributes=t("./attributes"),n.handleDefaults=t("./defaults"),n.calc=t("./calc"),n.hasColorscale=t("./has_colorscale"),n.isValidScale=t("./is_valid_scale"),n.getScale=t("./get_scale"),n.flipScale=t("./flip_scale"),n.extractScale=t("./extract_scale"),n.makeColorScaleFunc=t("./make_color_scale_func")},{"./attributes":39,"./calc":40,"./default_scale":42,"./defaults":43,"./extract_scale":44,"./flip_scale":45,"./get_scale":46,"./has_colorscale":47,"./is_valid_scale":49,"./make_color_scale_func":51,"./scales":52}],49:[function(t,e,n){"use strict";var r=t("./scales"),a=t("./is_valid_scale_array");e.exports=function(t){return void 0!==r[t]||a(t)}},{"./is_valid_scale_array":50,"./scales":52}],50:[function(t,e,n){"use strict";var r=t("tinycolor2");e.exports=function(t){var e=0;if(!Array.isArray(t)||t.length<2)return!1;if(!t[0]||!t[t.length-1])return!1;if(0!=+t[0][0]||1!=+t[t.length-1][0])return!1;for(var n=0;n<t.length;n++){var a=t[n];if(2!==a.length||+a[0]<e||!r(a[1]).isValid())return!1;e=+a[0]}return!0}},{tinycolor2:16}],51:[function(t,e,n){"use strict";function r(t){var e={r:t[0],g:t[1],b:t[2],a:t[3]};return i(e).toRgbString()}var a=t("d3"),i=t("tinycolor2"),o=t("fast-isnumeric"),s=t("../color");e.exports=function(t,e){e=e||{};for(var n=t.domain,l=t.range,c=l.length,u=new Array(c),d=0;d<c;d++){var f=i(l[d]).toRgb();u[d]=[f.r,f.g,f.b,f.a]}var p,h=a.scale.linear().domain(n).range(u).clamp(!0),g=e.noNumericCheck,v=e.returnArray;return p=g&&v?h:g?function(t){return r(h(t))}:v?function(t){return o(t)?h(t):i(t).isValid()?t:s.defaultLine}:function(t){return o(t)?r(h(t)):i(t).isValid()?t:s.defaultLine},p.domain=h.domain,p.range=function(){return l},p}},{"../color":34,d3:7,"fast-isnumeric":10,tinycolor2:16}],52:[function(t,e,n){"use strict";e.exports={Greys:[[0,"rgb(0,0,0)"],[1,"rgb(255,255,255)"]],YlGnBu:[[0,"rgb(8,29,88)"],[.125,"rgb(37,52,148)"],[.25,"rgb(34,94,168)"],[.375,"rgb(29,145,192)"],[.5,"rgb(65,182,196)"],[.625,"rgb(127,205,187)"],[.75,"rgb(199,233,180)"],[.875,"rgb(237,248,217)"],[1,"rgb(255,255,217)"]],Greens:[[0,"rgb(0,68,27)"],[.125,"rgb(0,109,44)"],[.25,"rgb(35,139,69)"],[.375,"rgb(65,171,93)"],[.5,"rgb(116,196,118)"],[.625,"rgb(161,217,155)"],[.75,"rgb(199,233,192)"],[.875,"rgb(229,245,224)"],[1,"rgb(247,252,245)"]],YlOrRd:[[0,"rgb(128,0,38)"],[.125,"rgb(189,0,38)"],[.25,"rgb(227,26,28)"],[.375,"rgb(252,78,42)"],[.5,"rgb(253,141,60)"],[.625,"rgb(254,178,76)"],[.75,"rgb(254,217,118)"],[.875,"rgb(255,237,160)"],[1,"rgb(255,255,204)"]],Bluered:[[0,"rgb(0,0,255)"],[1,"rgb(255,0,0)"]],RdBu:[[0,"rgb(5,10,172)"],[.35,"rgb(106,137,247)"],[.5,"rgb(190,190,190)"],[.6,"rgb(220,170,132)"],[.7,"rgb(230,145,90)"],[1,"rgb(178,10,28)"]],Reds:[[0,"rgb(220,220,220)"],[.2,"rgb(245,195,157)"],[.4,"rgb(245,160,105)"],[1,"rgb(178,10,28)"]],Blues:[[0,"rgb(5,10,172)"],[.35,"rgb(40,60,190)"],[.5,"rgb(70,100,245)"],[.6,"rgb(90,120,245)"],[.7,"rgb(106,137,247)"],[1,"rgb(220,220,220)"]],Picnic:[[0,"rgb(0,0,255)"],[.1,"rgb(51,153,255)"],[.2,"rgb(102,204,255)"],[.3,"rgb(153,204,255)"],[.4,"rgb(204,204,255)"],[.5,"rgb(255,255,255)"],[.6,"rgb(255,204,255)"],[.7,"rgb(255,153,255)"],[.8,"rgb(255,102,204)"],[.9,"rgb(255,102,102)"],[1,"rgb(255,0,0)"]],Rainbow:[[0,"rgb(150,0,90)"],[.125,"rgb(0,0,200)"],[.25,"rgb(0,25,255)"],[.375,"rgb(0,152,255)"],[.5,"rgb(44,255,150)"],[.625,"rgb(151,255,0)"],[.75,"rgb(255,234,0)"],[.875,"rgb(255,111,0)"],[1,"rgb(255,0,0)"]],Portland:[[0,"rgb(12,51,131)"],[.25,"rgb(10,136,186)"],[.5,"rgb(242,211,56)"],[.75,"rgb(242,143,56)"],[1,"rgb(217,30,30)"]],Jet:[[0,"rgb(0,0,131)"],[.125,"rgb(0,60,170)"],[.375,"rgb(5,255,255)"],[.625,"rgb(255,255,0)"],[.875,"rgb(250,0,0)"],[1,"rgb(128,0,0)"]],Hot:[[0,"rgb(0,0,0)"],[.3,"rgb(230,0,0)"],[.6,"rgb(255,210,0)"],[1,"rgb(255,255,255)"]],Blackbody:[[0,"rgb(0,0,0)"],[.2,"rgb(230,0,0)"],[.4,"rgb(230,210,0)"],[.7,"rgb(255,255,255)"],[1,"rgb(160,200,255)"]],Earth:[[0,"rgb(0,0,130)"],[.1,"rgb(0,180,180)"],[.2,"rgb(40,210,40)"],[.4,"rgb(230,230,50)"],[.6,"rgb(120,70,20)"],[1,"rgb(255,255,255)"]],Electric:[[0,"rgb(0,0,0)"],[.15,"rgb(30,0,100)"],[.4,"rgb(120,0,100)"],[.6,"rgb(160,90,0)"],[.8,"rgb(230,200,0)"],[1,"rgb(255,250,220)"]],Viridis:[[0,"#440154"],[.06274509803921569,"#48186a"],[.12549019607843137,"#472d7b"],[.18823529411764706,"#424086"],[.25098039215686274,"#3b528b"],[.3137254901960784,"#33638d"],[.3764705882352941,"#2c728e"],[.4392156862745098,"#26828e"],[.5019607843137255,"#21918c"],[.5647058823529412,"#1fa088"],[.6274509803921569,"#28ae80"],[.6901960784313725,"#3fbc73"],[.7529411764705882,"#5ec962"],[.8156862745098039,"#84d44b"],[.8784313725490196,"#addc30"],[.9411764705882353,"#d8e219"],[1,"#fde725"]]}},{}],53:[function(t,e,n){"use strict";e.exports=function(t,e,n,r,a){var i=(t-n)/(r-n),o=i+e/(r-n),s=(i+o)/2;return"left"===a||"bottom"===a?i:"center"===a||"middle"===a?s:"right"===a||"top"===a?o:i<2/3-s?i:o>4/3-s?o:s}},{}],54:[function(t,e,n){"use strict";var r=t("../../lib"),a=[["sw-resize","s-resize","se-resize"],["w-resize","move","e-resize"],["nw-resize","n-resize","ne-resize"]];e.exports=function(t,e,n,i){return t="left"===n?0:"center"===n?1:"right"===n?2:r.constrain(Math.floor(3*t),0,2),e="bottom"===i?0:"middle"===i?1:"top"===i?2:r.constrain(Math.floor(3*e),0,2),a[e][t]}},{"../../lib":149}],55:[function(t,e,n){"use strict";function r(){var t=document.createElement("div");t.className="dragcover";var e=t.style;return e.position="fixed",e.left=0,e.right=0,e.top=0,e.bottom=0,e.zIndex=999999999,e.background="none",document.body.appendChild(t),t}function a(t){t._dragging=!1,t._replotPending&&l.plot(t)}function i(t){return o(t.changedTouches?t.changedTouches[0]:t,document.body)}var o=t("mouse-event-offset"),s=t("has-hover"),l=t("../../plotly"),c=t("../../lib"),u=t("../../plots/cartesian/constants"),d=t("../../constants/interactions"),f=e.exports={};f.align=t("./align"),f.getCursor=t("./cursor");var p=t("./unhover");f.unhover=p.wrapped,f.unhoverRaw=p.raw,f.init=function(t){function e(e){if(!e.buttons||2!==e.buttons){y._dragged=!1,y._dragging=!0;var a=i(e);return l=a[0],p=a[1],m=e.target,h=(new Date).getTime(),h-y._mouseDownTime<x?b+=1:(b=1,y._mouseDownTime=h),t.prepFn&&t.prepFn(e,l,p),s?(v=r(),v.style.cursor=window.getComputedStyle(_).cursor):(v=document,g=window.getComputedStyle(document.documentElement).cursor,document.documentElement.style.cursor=window.getComputedStyle(_).cursor),document.addEventListener("mousemove",n),document.addEventListener("mouseup",o),document.addEventListener("touchmove",n),document.addEventListener("touchend",o),c.pauseEvent(e)}}function n(e){var n=i(e),r=n[0]-l,a=n[1]-p,o=t.minDrag||u.MINDRAG;return Math.abs(r)<o&&(r=0),Math.abs(a)<o&&(a=0),(r||a)&&(y._dragged=!0,f.unhover(y)),t.moveFn&&t.moveFn(r,a,y._dragged),c.pauseEvent(e)}function o(e){if(document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",o),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",o),s?c.removeElement(v):g&&(v.documentElement.style.cursor=g,g=null),!y._dragging)return void(y._dragged=!1);if(y._dragging=!1,(new Date).getTime()-y._mouseDownTime>x&&(b=Math.max(b-1,1)),t.doneFn&&t.doneFn(y._dragged,b,e),!y._dragged){var r;try{r=new MouseEvent("click",e)}catch(t){var l=i(e);r=document.createEvent("MouseEvents"),r.initMouseEvent("click",e.bubbles,e.cancelable,e.view,e.detail,e.screenX,e.screenY,l[0],l[1],e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,e.button,e.relatedTarget)}m.dispatchEvent(r)}return a(y),y._dragged=!1,c.pauseEvent(e)}var l,p,h,g,v,m,y=t.gd,b=1,x=d.DBLCLICKDELAY,_=t.element;y._mouseDownTime||(y._mouseDownTime=0),_.style.pointerEvents="all",_.onmousedown=e,_.ontouchstart=e},f.coverSlip=r},{"../../constants/interactions":132,"../../lib":149,"../../plotly":184,"../../plots/cartesian/constants":194,"./align":53,"./cursor":54,"./unhover":56,"has-hover":12,"mouse-event-offset":14}],56:[function(t,e,n){"use strict";var r=t("../../lib/events"),a=t("../../lib/throttle"),i=t("../../lib/get_graph_div"),o=t("../fx/constants"),s=e.exports={};s.wrapped=function(t,e,n){t=i(t),a.clear(t._fullLayout._uid+o.HOVERID),s.raw(t,e,n)},s.raw=function(t,e){var n=t._fullLayout,a=t._hoverdata;e||(e={}),e.target&&!1===r.triggerHandler(t,"plotly_beforehover",e)||(n._hoverlayer.selectAll("g").remove(),n._hoverlayer.selectAll("line").remove(),n._hoverlayer.selectAll("circle").remove(),t._hoverdata=void 0,e.target&&a&&t.emit("plotly_unhover",{event:e,points:a}))}},{"../../lib/events":142,"../../lib/get_graph_div":147,"../../lib/throttle":170,"../fx/constants":70}],57:[function(t,e,n){"use strict";n.dash={valType:"string",values:["solid","dot","dash","longdash","dashdot","longdashdot"],dflt:"solid",editType:"style"}},{}],58:[function(t,e,n){"use strict";function r(t,e,n,r,a,i,o,s){if(c.traceIs(n,"symbols")){var l=y(n);e.attr("d",function(t){var e;e="various"===t.ms||"various"===i.size?3:m.isBubble(n)?l(t.ms):(i.size||6)/2,t.mrc=e;var r=b.symbolNumber(t.mx||i.symbol)||0,a=r%100;return t.om=r%200>=100,b.symbolFuncs[a](e)+(r>=200?w:"")}).style("opacity",function(t){return(t.mo+1||i.opacity+1)-1})}var d,f,p,h=!1;if(t.so?(p=o.outlierwidth,f=o.outliercolor,d=i.outliercolor):(p=(t.mlw+1||o.width+1||(t.trace?t.trace.marker.line.width:0)+1)-1,f="mlc"in t?t.mlcc=a(t.mlc):Array.isArray(o.color)?u.defaultLine:o.color,Array.isArray(i.color)&&(d=u.defaultLine,h=!0),d="mc"in t?t.mcc=r(t.mc):i.color||"rgba(0,0,0,0)"),t.om)e.call(u.stroke,d).style({"stroke-width":(p||1)+"px",fill:"none"});else{e.style("stroke-width",p+"px");var g=i.gradient,v=t.mgt;if(v?h=!0:v=g&&g.type,v&&"none"!==v){var x=t.mgc;x?h=!0:x=g.color;var _="g"+s._fullLayout._uid+"-"+n.uid;h&&(_+="-"+t.i),e.call(b.gradient,s,_,v,d,x)}else e.call(u.fill,d);p&&e.call(u.stroke,f)}}function a(t,e,n,r){var a=t[0]-e[0],i=t[1]-e[1],s=n[0]-e[0],l=n[1]-e[1],c=Math.pow(a*a+i*i,M/2),u=Math.pow(s*s+l*l,M/2),d=(u*u*a-c*c*s)*r,f=(u*u*i-c*c*l)*r,p=3*u*(c+u),h=3*c*(c+u);return[[o.round(e[0]+(p&&d/p),2),o.round(e[1]+(p&&f/p),2)],[o.round(e[0]-(h&&d/h),2),o.round(e[1]-(h&&f/h),2)]]}function i(t){var e=t.getAttribute("data-unformatted");if(null!==e)return e+t.getAttribute("data-math")+t.getAttribute("text-anchor")+t.getAttribute("style")}var o=t("d3"),s=t("fast-isnumeric"),l=t("tinycolor2"),c=t("../../registry"),u=t("../color"),d=t("../colorscale"),f=t("../../lib"),p=t("../../lib/svg_text_utils"),h=t("../../constants/xmlns_namespaces"),g=t("../../constants/alignment"),v=g.LINE_SPACING,m=t("../../traces/scatter/subtypes"),y=t("../../traces/scatter/make_bubble_size_func"),b=e.exports={}
;b.font=function(t,e,n,r){f.isPlainObject(e)&&(r=e.color,n=e.size,e=e.family),e&&t.style("font-family",e),n+1&&t.style("font-size",n+"px"),r&&t.call(u.fill,r)},b.setPosition=function(t,e,n){t.attr("x",e).attr("y",n)},b.setSize=function(t,e,n){t.attr("width",e).attr("height",n)},b.setRect=function(t,e,n,r,a){t.call(b.setPosition,e,n).call(b.setSize,r,a)},b.translatePoint=function(t,e,n,r){var a=n.c2p(t.x),i=r.c2p(t.y);return!!(s(a)&&s(i)&&e.node())&&("text"===e.node().nodeName?e.attr("x",a).attr("y",i):e.attr("transform","translate("+a+","+i+")"),!0)},b.translatePoints=function(t,e,n){t.each(function(t){var r=o.select(this);b.translatePoint(t,r,e,n)})},b.hideOutsideRangePoint=function(t,e,n,r){e.attr("display",n.isPtWithinRange(t)&&r.isPtWithinRange(t)?null:"none")},b.hideOutsideRangePoints=function(t,e){if(e._hasClipOnAxisFalse){var n=e.xaxis,r=e.yaxis;t.each(function(t){b.hideOutsideRangePoint(t,o.select(this),n,r)})}},b.crispRound=function(t,e,n){return e&&s(e)?t._context.staticPlot?e:e<1?1:Math.round(e):n||0},b.singleLineStyle=function(t,e,n,r,a){e.style("fill","none");var i=(((t||[])[0]||{}).trace||{}).line||{},o=n||i.width||0,s=a||i.dash||"";u.stroke(e,r||i.color),b.dashLine(e,s,o)},b.lineGroupStyle=function(t,e,n,r){t.style("fill","none").each(function(t){var a=(((t||[])[0]||{}).trace||{}).line||{},i=e||a.width||0,s=r||a.dash||"";o.select(this).call(u.stroke,n||a.color).call(b.dashLine,s,i)})},b.dashLine=function(t,e,n){n=+n||0,e=b.dashStyle(e,n),t.style({"stroke-dasharray":e,"stroke-width":n+"px"})},b.dashStyle=function(t,e){e=+e||1;var n=Math.max(e,3);return"solid"===t?t="":"dot"===t?t=n+"px,"+n+"px":"dash"===t?t=3*n+"px,"+3*n+"px":"longdash"===t?t=5*n+"px,"+5*n+"px":"dashdot"===t?t=3*n+"px,"+n+"px,"+n+"px,"+n+"px":"longdashdot"===t&&(t=5*n+"px,"+2*n+"px,"+n+"px,"+2*n+"px"),t},b.singleFillStyle=function(t){var e=o.select(t.node()),n=e.data(),r=(((n[0]||[])[0]||{}).trace||{}).fillcolor;r&&t.call(u.fill,r)},b.fillGroupStyle=function(t){t.style("stroke-width",0).each(function(e){var n=o.select(this);try{n.call(u.fill,e[0].trace.fillcolor)}catch(e){f.error(e,t),n.remove()}})};var x=t("./symbol_defs");b.symbolNames=[],b.symbolFuncs=[],b.symbolNeedLines={},b.symbolNoDot={},b.symbolList=[],Object.keys(x).forEach(function(t){var e=x[t];b.symbolList=b.symbolList.concat([e.n,t,e.n+100,t+"-open"]),b.symbolNames[e.n]=t,b.symbolFuncs[e.n]=e.f,e.needLine&&(b.symbolNeedLines[e.n]=!0),e.noDot?b.symbolNoDot[e.n]=!0:b.symbolList=b.symbolList.concat([e.n+200,t+"-dot",e.n+300,t+"-open-dot"])});var _=b.symbolNames.length,w="M0,0.5L0.5,0L0,-0.5L-0.5,0Z";b.symbolNumber=function(t){if("string"==typeof t){var e=0;t.indexOf("-open")>0&&(e=100,t=t.replace("-open","")),t.indexOf("-dot")>0&&(e+=200,t=t.replace("-dot","")),(t=b.symbolNames.indexOf(t))>=0&&(t+=e)}return t%100>=_||t>=400?0:Math.floor(Math.max(t,0))};var T={x1:1,x2:0,y1:0,y2:0},k={x1:0,x2:0,y1:1,y2:0};b.gradient=function(t,e,n,r,a,i){var s=e._fullLayout._defs.select(".gradients").selectAll("#"+n).data([r+a+i],f.identity);s.exit().remove(),s.enter().append("radial"===r?"radialGradient":"linearGradient").each(function(){var t=o.select(this);"horizontal"===r?t.attr(T):"vertical"===r&&t.attr(k),t.attr("id",n);var e=l(a),s=l(i);t.append("stop").attr({offset:"0%","stop-color":u.tinyRGB(s),"stop-opacity":s.getAlpha()}),t.append("stop").attr({offset:"100%","stop-color":u.tinyRGB(e),"stop-opacity":e.getAlpha()})}),t.style({fill:"url(#"+n+")","fill-opacity":null})},b.initGradients=function(t){var e=t._fullLayout._defs.selectAll(".gradients").data([0]);e.enter().append("g").classed("gradients",!0),e.selectAll("linearGradient,radialGradient").remove()},b.singlePointStyle=function(t,e,n,a,i,o){var s=n.marker;r(t,e,n,a,i,s,s.line,o)},b.pointStyle=function(t,e,n){if(t.size()){var r=e.marker,a=b.tryColorscale(r,""),i=b.tryColorscale(r,"line");t.each(function(t){b.singlePointStyle(t,o.select(this),e,a,i,n)})}},b.tryColorscale=function(t,e){var n=e?f.nestedProperty(t,e).get():t,r=n.colorscale,a=n.color;return r&&Array.isArray(a)?d.makeColorScaleFunc(d.extractScale(r,n.cmin,n.cmax)):f.identity};var A={start:1,end:-1,middle:0,bottom:1,top:-1};b.textPointStyle=function(t,e,n){t.each(function(t){var r=o.select(this),a=f.extractOption(t,e,"tx","text");if(!a)return void r.remove();var i=t.tp||e.textposition,l=-1!==i.indexOf("top")?"top":-1!==i.indexOf("bottom")?"bottom":"middle",c=-1!==i.indexOf("left")?"end":-1!==i.indexOf("right")?"start":"middle",u=t.ts||e.textfont.size,d=t.mrc?t.mrc/.8+1:0;u=s(u)&&u>0?u:0,r.call(b.font,t.tf||e.textfont.family,u,t.tc||e.textfont.color).attr("text-anchor",c).text(a).call(p.convertToTspans,n);var h=o.select(this.parentNode),g=(p.lineCount(r)-1)*v+1,m=A[c]*d,y=.75*u+A[l]*d+(A[l]-1)*g*u/2;h.attr("transform","translate("+m+","+y+")")})};var M=.5;b.smoothopen=function(t,e){if(t.length<3)return"M"+t.join("L");var n,r="M"+t[0],i=[];for(n=1;n<t.length-1;n++)i.push(a(t[n-1],t[n],t[n+1],e));for(r+="Q"+i[0][0]+" "+t[1],n=2;n<t.length-1;n++)r+="C"+i[n-2][1]+" "+i[n-1][0]+" "+t[n];return r+="Q"+i[t.length-3][1]+" "+t[t.length-1]},b.smoothclosed=function(t,e){if(t.length<3)return"M"+t.join("L")+"Z";var n,r="M"+t[0],i=t.length-1,o=[a(t[i],t[0],t[1],e)];for(n=1;n<i;n++)o.push(a(t[n-1],t[n],t[n+1],e));for(o.push(a(t[i-1],t[i],t[0],e)),n=1;n<=i;n++)r+="C"+o[n-1][1]+" "+o[n][0]+" "+t[n];return r+="C"+o[i][1]+" "+o[0][0]+" "+t[0]+"Z"};var C={hv:function(t,e){return"H"+o.round(e[0],2)+"V"+o.round(e[1],2)},vh:function(t,e){return"V"+o.round(e[1],2)+"H"+o.round(e[0],2)},hvh:function(t,e){return"H"+o.round((t[0]+e[0])/2,2)+"V"+o.round(e[1],2)+"H"+o.round(e[0],2)},vhv:function(t,e){return"V"+o.round((t[1]+e[1])/2,2)+"H"+o.round(e[0],2)+"V"+o.round(e[1],2)}},S=function(t,e){return"L"+o.round(e[0],2)+","+o.round(e[1],2)};b.steps=function(t){var e=C[t]||S;return function(t){for(var n="M"+o.round(t[0][0],2)+","+o.round(t[0][1],2),r=1;r<t.length;r++)n+=e(t[r-1],t[r]);return n}},b.makeTester=function(){var t=o.select("body").selectAll("#js-plotly-tester").data([0]);t.enter().append("svg").attr("id","js-plotly-tester").attr(h.svgAttrs).style({position:"absolute",left:"-10000px",top:"-10000px",width:"9000px",height:"9000px","z-index":"1"});var e=t.selectAll(".js-reference-point").data([0]);e.enter().append("path").classed("js-reference-point",!0).attr("d","M0,0H1V1H0Z").style({"stroke-width":0,fill:"black"}),b.tester=t,b.testref=e},b.savedBBoxes={};var E=0;b.bBox=function(t,e,n){n||(n=i(t));var r;if(n){if(r=b.savedBBoxes[n])return f.extendFlat({},r)}else if(1===t.childNodes.length){var a=t.childNodes[0];if(n=i(a)){var s=+a.getAttribute("x")||0,l=+a.getAttribute("y")||0,c=a.getAttribute("transform");if(!c){var u=b.bBox(a,!1,n);return s&&(u.left+=s,u.right+=s),l&&(u.top+=l,u.bottom+=l),u}if(n+="~"+s+"~"+l+"~"+c,r=b.savedBBoxes[n])return f.extendFlat({},r)}}var d,h;e?d=t:(h=b.tester.node(),d=t.cloneNode(!0),h.appendChild(d)),o.select(d).attr("transform",null).call(p.positionText,0,0);var g=d.getBoundingClientRect(),v=b.testref.node().getBoundingClientRect();e||h.removeChild(d);var m={height:g.height,width:g.width,left:g.left-v.left,top:g.top-v.top,right:g.right-v.left,bottom:g.bottom-v.top};return E>=1e4&&(b.savedBBoxes={},E=0),n&&(b.savedBBoxes[n]=m),E++,f.extendFlat({},m)},b.setClipUrl=function(t,e){if(!e)return void t.attr("clip-path",null);var n="#"+e,r=o.select("base");r.size()&&r.attr("href")&&(n=window.location.href.split("#")[0]+n),t.attr("clip-path","url("+n+")")},b.getTranslate=function(t){var e=/.*\btranslate\((-?\d*\.?\d*)[^-\d]*(-?\d*\.?\d*)[^\d].*/,n=t.attr?"attr":"getAttribute",r=t[n]("transform")||"",a=r.replace(e,function(t,e,n){return[e,n].join(" ")}).split(" ");return{x:+a[0]||0,y:+a[1]||0}},b.setTranslate=function(t,e,n){var r=/(\btranslate\(.*?\);?)/,a=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",o=t[a]("transform")||"";return e=e||0,n=n||0,o=o.replace(r,"").trim(),o+=" translate("+e+", "+n+")",o=o.trim(),t[i]("transform",o),o},b.getScale=function(t){var e=/.*\bscale\((\d*\.?\d*)[^\d]*(\d*\.?\d*)[^\d].*/,n=t.attr?"attr":"getAttribute",r=t[n]("transform")||"",a=r.replace(e,function(t,e,n){return[e,n].join(" ")}).split(" ");return{x:+a[0]||1,y:+a[1]||1}},b.setScale=function(t,e,n){var r=/(\bscale\(.*?\);?)/,a=t.attr?"attr":"getAttribute",i=t.attr?"attr":"setAttribute",o=t[a]("transform")||"";return e=e||1,n=n||1,o=o.replace(r,"").trim(),o+=" scale("+e+", "+n+")",o=o.trim(),t[i]("transform",o),o},b.setPointGroupScale=function(t,e,n){var r,a,i;return e=e||1,n=n||1,a=1===e&&1===n?"":" scale("+e+","+n+")",i=/\s*sc.*/,t.each(function(){r=(this.getAttribute("transform")||"").replace(i,""),r+=a,r=r.trim(),this.setAttribute("transform",r)}),a};var L=/translate\([^)]*\)\s*$/;b.setTextPointsScale=function(t,e,n){t.each(function(){var t,r=o.select(this),a=r.select("text");if(a.node()){var i=parseFloat(a.attr("x")||0),s=parseFloat(a.attr("y")||0),l=(r.attr("transform")||"").match(L);t=1===e&&1===n?[]:["translate("+i+","+s+")","scale("+e+","+n+")","translate("+-i+","+-s+")"],l&&t.push(l),r.attr("transform",t.join(" "))}})}},{"../../constants/alignment":131,"../../constants/xmlns_namespaces":135,"../../lib":149,"../../lib/svg_text_utils":169,"../../registry":225,"../../traces/scatter/make_bubble_size_func":276,"../../traces/scatter/subtypes":281,"../color":34,"../colorscale":48,"./symbol_defs":59,d3:7,"fast-isnumeric":10,tinycolor2:16}],59:[function(t,e,n){"use strict";var r=t("d3");e.exports={circle:{n:0,f:function(t){var e=r.round(t,2);return"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"}},square:{n:1,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"}},diamond:{n:2,f:function(t){var e=r.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"Z"}},cross:{n:3,f:function(t){var e=r.round(.4*t,2),n=r.round(1.2*t,2);return"M"+n+","+e+"H"+e+"V"+n+"H-"+e+"V"+e+"H-"+n+"V-"+e+"H-"+e+"V-"+n+"H"+e+"V-"+e+"H"+n+"Z"}},x:{n:4,f:function(t){var e=r.round(.8*t/Math.sqrt(2),2),n="l"+e+","+e,a="l"+e+",-"+e,i="l-"+e+",-"+e,o="l-"+e+","+e;return"M0,"+e+n+a+i+a+i+o+i+o+n+o+n+"Z"}},"triangle-up":{n:5,f:function(t){var e=r.round(2*t/Math.sqrt(3),2);return"M-"+e+","+r.round(t/2,2)+"H"+e+"L0,-"+r.round(t,2)+"Z"}},"triangle-down":{n:6,f:function(t){var e=r.round(2*t/Math.sqrt(3),2);return"M-"+e+",-"+r.round(t/2,2)+"H"+e+"L0,"+r.round(t,2)+"Z"}},"triangle-left":{n:7,f:function(t){var e=r.round(2*t/Math.sqrt(3),2);return"M"+r.round(t/2,2)+",-"+e+"V"+e+"L-"+r.round(t,2)+",0Z"}},"triangle-right":{n:8,f:function(t){var e=r.round(2*t/Math.sqrt(3),2);return"M-"+r.round(t/2,2)+",-"+e+"V"+e+"L"+r.round(t,2)+",0Z"}},"triangle-ne":{n:9,f:function(t){var e=r.round(.6*t,2),n=r.round(1.2*t,2);return"M-"+n+",-"+e+"H"+e+"V"+n+"Z"}},"triangle-se":{n:10,f:function(t){var e=r.round(.6*t,2),n=r.round(1.2*t,2);return"M"+e+",-"+n+"V"+e+"H-"+n+"Z"}},"triangle-sw":{n:11,f:function(t){var e=r.round(.6*t,2),n=r.round(1.2*t,2);return"M"+n+","+e+"H-"+e+"V-"+n+"Z"}},"triangle-nw":{n:12,f:function(t){var e=r.round(.6*t,2),n=r.round(1.2*t,2);return"M-"+e+","+n+"V-"+e+"H"+n+"Z"}},pentagon:{n:13,f:function(t){var e=r.round(.951*t,2),n=r.round(.588*t,2),a=r.round(-t,2),i=r.round(-.309*t,2);return"M"+e+","+i+"L"+n+","+r.round(.809*t,2)+"H-"+n+"L-"+e+","+i+"L0,"+a+"Z"}},hexagon:{n:14,f:function(t){var e=r.round(t,2),n=r.round(t/2,2),a=r.round(t*Math.sqrt(3)/2,2);return"M"+a+",-"+n+"V"+n+"L0,"+e+"L-"+a+","+n+"V-"+n+"L0,-"+e+"Z"}},hexagon2:{n:15,f:function(t){var e=r.round(t,2),n=r.round(t/2,2),a=r.round(t*Math.sqrt(3)/2,2);return"M-"+n+","+a+"H"+n+"L"+e+",0L"+n+",-"+a+"H-"+n+"L-"+e+",0Z"}},octagon:{n:16,f:function(t){var e=r.round(.924*t,2),n=r.round(.383*t,2);return"M-"+n+",-"+e+"H"+n+"L"+e+",-"+n+"V"+n+"L"+n+","+e+"H-"+n+"L-"+e+","+n+"V-"+n+"Z"}},star:{n:17,f:function(t){var e=1.4*t,n=r.round(.225*e,2),a=r.round(.951*e,2),i=r.round(.363*e,2),o=r.round(.588*e,2),s=r.round(-e,2),l=r.round(-.309*e,2),c=r.round(.118*e,2),u=r.round(.809*e,2);return"M"+n+","+l+"H"+a+"L"+i+","+c+"L"+o+","+u+"L0,"+r.round(.382*e,2)+"L-"+o+","+u+"L-"+i+","+c+"L-"+a+","+l+"H-"+n+"L0,"+s+"Z"}},hexagram:{n:18,f:function(t){var e=r.round(.66*t,2),n=r.round(.38*t,2),a=r.round(.76*t,2);return"M-"+a+",0l-"+n+",-"+e+"h"+a+"l"+n+",-"+e+"l"+n+","+e+"h"+a+"l-"+n+","+e+"l"+n+","+e+"h-"+a+"l-"+n+","+e+"l-"+n+",-"+e+"h-"+a+"Z"}},"star-triangle-up":{n:19,f:function(t){var e=r.round(t*Math.sqrt(3)*.8,2),n=r.round(.8*t,2),a=r.round(1.6*t,2),i=r.round(4*t,2),o="A "+i+","+i+" 0 0 1 ";return"M-"+e+","+n+o+e+","+n+o+"0,-"+a+o+"-"+e+","+n+"Z"}},"star-triangle-down":{n:20,f:function(t){var e=r.round(t*Math.sqrt(3)*.8,2),n=r.round(.8*t,2),a=r.round(1.6*t,2),i=r.round(4*t,2),o="A "+i+","+i+" 0 0 1 ";return"M"+e+",-"+n+o+"-"+e+",-"+n+o+"0,"+a+o+e+",-"+n+"Z"}},"star-square":{n:21,f:function(t){var e=r.round(1.1*t,2),n=r.round(2*t,2),a="A "+n+","+n+" 0 0 1 ";return"M-"+e+",-"+e+a+"-"+e+","+e+a+e+","+e+a+e+",-"+e+a+"-"+e+",-"+e+"Z"}},"star-diamond":{n:22,f:function(t){var e=r.round(1.4*t,2),n=r.round(1.9*t,2),a="A "+n+","+n+" 0 0 1 ";return"M-"+e+",0"+a+"0,"+e+a+e+",0"+a+"0,-"+e+a+"-"+e+",0Z"}},"diamond-tall":{n:23,f:function(t){var e=r.round(.7*t,2),n=r.round(1.4*t,2);return"M0,"+n+"L"+e+",0L0,-"+n+"L-"+e+",0Z"}},"diamond-wide":{n:24,f:function(t){var e=r.round(1.4*t,2),n=r.round(.7*t,2);return"M0,"+n+"L"+e+",0L0,-"+n+"L-"+e+",0Z"}},hourglass:{n:25,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"H-"+e+"L"+e+",-"+e+"H-"+e+"Z"},noDot:!0},bowtie:{n:26,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"V-"+e+"L-"+e+","+e+"V-"+e+"Z"},noDot:!0},"circle-cross":{n:27,f:function(t){var e=r.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"circle-x":{n:28,f:function(t){var e=r.round(t,2),n=r.round(t/Math.sqrt(2),2);return"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n+"M"+e+",0A"+e+","+e+" 0 1,1 0,-"+e+"A"+e+","+e+" 0 0,1 "+e+",0Z"},needLine:!0,noDot:!0},"square-cross":{n:29,f:function(t){var e=r.round(t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"square-x":{n:30,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e+"M"+e+","+e+"H-"+e+"V-"+e+"H"+e+"Z"},needLine:!0,noDot:!0},"diamond-cross":{n:31,f:function(t){var e=r.round(1.3*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM0,-"+e+"V"+e+"M-"+e+",0H"+e},needLine:!0,noDot:!0},"diamond-x":{n:32,f:function(t){var e=r.round(1.3*t,2),n=r.round(.65*t,2);return"M"+e+",0L0,"+e+"L-"+e+",0L0,-"+e+"ZM-"+n+",-"+n+"L"+n+","+n+"M-"+n+","+n+"L"+n+",-"+n},needLine:!0,noDot:!0},"cross-thin":{n:33,f:function(t){var e=r.round(1.4*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e},needLine:!0,noDot:!0},"x-thin":{n:34,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e+"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0},asterisk:{n:35,f:function(t){var e=r.round(1.2*t,2),n=r.round(.85*t,2);return"M0,"+e+"V-"+e+"M"+e+",0H-"+e+"M"+n+","+n+"L-"+n+",-"+n+"M"+n+",-"+n+"L-"+n+","+n},needLine:!0,noDot:!0},hash:{n:36,f:function(t){var e=r.round(t/2,2),n=r.round(t,2);return"M"+e+","+n+"V-"+n+"m-"+n+",0V"+n+"M"+n+","+e+"H-"+n+"m0,-"+n+"H"+n},needLine:!0},"y-up":{n:37,f:function(t){var e=r.round(1.2*t,2),n=r.round(1.6*t,2),a=r.round(.8*t,2);return"M-"+e+","+a+"L0,0M"+e+","+a+"L0,0M0,-"+n+"L0,0"},needLine:!0,noDot:!0},"y-down":{n:38,f:function(t){var e=r.round(1.2*t,2),n=r.round(1.6*t,2),a=r.round(.8*t,2);return"M-"+e+",-"+a+"L0,0M"+e+",-"+a+"L0,0M0,"+n+"L0,0"},needLine:!0,noDot:!0},"y-left":{n:39,f:function(t){var e=r.round(1.2*t,2),n=r.round(1.6*t,2),a=r.round(.8*t,2);return"M"+a+","+e+"L0,0M"+a+",-"+e+"L0,0M-"+n+",0L0,0"},needLine:!0,noDot:!0},"y-right":{n:40,f:function(t){var e=r.round(1.2*t,2),n=r.round(1.6*t,2),a=r.round(.8*t,2);return"M-"+a+","+e+"L0,0M-"+a+",-"+e+"L0,0M"+n+",0L0,0"},needLine:!0,noDot:!0},"line-ew":{n:41,f:function(t){var e=r.round(1.4*t,2);return"M"+e+",0H-"+e},needLine:!0,noDot:!0},"line-ns":{n:42,f:function(t){var e=r.round(1.4*t,2);return"M0,"+e+"V-"+e},needLine:!0,noDot:!0},"line-ne":{n:43,f:function(t){var e=r.round(t,2);return"M"+e+",-"+e+"L-"+e+","+e},needLine:!0,noDot:!0},"line-nw":{n:44,f:function(t){var e=r.round(t,2);return"M"+e+","+e+"L-"+e+",-"+e},needLine:!0,noDot:!0}}},{d3:7}],60:[function(t,e,n){"use strict";e.exports={visible:{valType:"boolean",editType:"calc"},type:{valType:"enumerated",values:["percent","constant","sqrt","data"],editType:"calc"},symmetric:{valType:"boolean",editType:"calc"},array:{valType:"data_array",editType:"calc"},arrayminus:{valType:"data_array",editType:"calc"},value:{valType:"number",min:0,dflt:10,editType:"calc"},valueminus:{valType:"number",min:0,dflt:10,editType:"calc"},traceref:{valType:"integer",min:0,dflt:0,editType:"style"},tracerefminus:{valType:"integer",min:0,dflt:0,editType:"style"},copy_ystyle:{valType:"boolean",editType:"plot"},copy_zstyle:{valType:"boolean",editType:"style"},color:{valType:"color",editType:"style"},thickness:{valType:"number",min:0,dflt:2,editType:"style"},width:{valType:"number",min:0,editType:"plot"},editType:"calc",_deprecated:{opacity:{valType:"number",editType:"style"}}}},{}],61:[function(t,e,n){"use strict";function r(t,e,n,r){var i=e["error_"+r]||{},l=i.visible&&-1!==["linear","log"].indexOf(n.type),c=[];if(l){for(var u=s(i),d=0;d<t.length;d++){var f=t[d],p=f[r];if(a(n.c2l(p))){var h=u(p,d);if(a(h[0])&&a(h[1])){var g=f[r+"s"]=p-h[0],v=f[r+"h"]=p+h[1];c.push(g,v)}}}o.expand(n,c,{padded:!0})}}var a=t("fast-isnumeric"),i=t("../../registry"),o=t("../../plots/cartesian/axes"),s=t("./compute_error");e.exports=function(t){for(var e=t.calcdata,n=0;n<e.length;n++){var a=e[n],s=a[0].trace;if(i.traceIs(s,"errorBarsOK")){var l=o.getFromId(t,s.xaxis),c=o.getFromId(t,s.yaxis);r(a,s,l,"x"),r(a,s,c,"y")}}}},{"../../plots/cartesian/axes":189,"../../registry":225,"./compute_error":62,"fast-isnumeric":10}],62:[function(t,e,n){"use strict";function r(t,e){return"percent"===t?function(t){return Math.abs(t*e/100)}:"constant"===t?function(){return Math.abs(e)}:"sqrt"===t?function(t){return Math.sqrt(Math.abs(t))}:void 0}e.exports=function(t){var e=t.type,n=t.symmetric;if("data"===e){var a=t.array,i=t.arrayminus;return n||void 0===i?function(t,e){var n=+a[e];return[n,n]}:function(t,e){return[+i[e],+a[e]]}}var o=r(e,t.value),s=r(e,t.valueminus);return n||void 0===t.valueminus?function(t){var e=o(t);return[e,e]}:function(t){return[s(t),o(t)]}}},{}],63:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),a=t("../../registry"),i=t("../../lib"),o=t("./attributes");e.exports=function(t,e,n,s){function l(t,e){return i.coerce(d,u,o,t,e)}var c="error_"+s.axis,u=e[c]={},d=t[c]||{};if(!1!==l("visible",void 0!==d.array||void 0!==d.value||"sqrt"===d.type)){var f=l("type","array"in d?"data":"percent"),p=!0;"sqrt"!==f&&(p=l("symmetric",!(("data"===f?"arrayminus":"valueminus")in d))),"data"===f?(l("array")||(u.array=[]),l("traceref"),p||(l("arrayminus")||(u.arrayminus=[]),l("tracerefminus"))):"percent"!==f&&"constant"!==f||(l("value"),p||l("valueminus"));var h="copy_"+s.inherit+"style";s.inherit&&(e["error_"+s.inherit]||{}).visible&&l(h,!(d.color||r(d.thickness)||r(d.width))),s.inherit&&u[h]||(l("color",n),l("thickness"),l("width",a.traceIs(e,"gl3d")?0:4))}}},{"../../lib":149,"../../registry":225,"./attributes":60,"fast-isnumeric":10}],64:[function(t,e,n){"use strict";var r=e.exports={};r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.calc=t("./calc"),r.calcFromTrace=function(t,e){for(var n=t.x||[],a=t.y||[],i=n.length||a.length,o=new Array(i),s=0;s<i;s++)o[s]={x:n[s],y:a[s]};return o[0].trace=t,r.calc({calcdata:[o],_fullLayout:e}),o},r.plot=t("./plot"),r.style=t("./style"),r.hoverInfo=function(t,e,n){(e.error_y||{}).visible&&(n.yerr=t.yh-t.y,e.error_y.symmetric||(n.yerrneg=t.y-t.ys)),(e.error_x||{}).visible&&(n.xerr=t.xh-t.x,e.error_x.symmetric||(n.xerrneg=t.x-t.xs))}},{"./attributes":60,"./calc":61,"./defaults":63,"./plot":65,"./style":66}],65:[function(t,e,n){"use strict";function r(t,e,n){var r={x:e.c2p(t.x),y:n.c2p(t.y)};return void 0!==t.yh&&(r.yh=n.c2p(t.yh),r.ys=n.c2p(t.ys),i(r.ys)||(r.noYS=!0,r.ys=n.c2p(t.ys,!0))),void 0!==t.xh&&(r.xh=e.c2p(t.xh),r.xs=e.c2p(t.xs),i(r.xs)||(r.noXS=!0,r.xs=e.c2p(t.xs,!0))),r}var a=t("d3"),i=t("fast-isnumeric"),o=t("../drawing"),s=t("../../traces/scatter/subtypes");e.exports=function(t,e,n){var l,c=e.xaxis,u=e.yaxis,d=n&&n.duration>0;t.each(function(t){var f,p=t[0].trace,h=p.error_x||{},g=p.error_y||{};p.ids&&(f=function(t){return t.id});var v=s.hasMarkers(p)&&p.marker.maxdisplayed>0;g.visible||h.visible||(t=[]);var m=a.select(this).selectAll("g.errorbar").data(t,f);if(m.exit().remove(),t.length){h.visible||m.selectAll("path.xerror").remove(),g.visible||m.selectAll("path.yerror").remove(),m.style("opacity",1);var y=m.enter().append("g").classed("errorbar",!0);d&&y.style("opacity",0).transition().duration(n.duration).style("opacity",1),o.setClipUrl(m,e.layerClipId),m.each(function(t){var e=a.select(this),o=r(t,c,u);if(!v||t.vis){var s;if(g.visible&&i(o.x)&&i(o.yh)&&i(o.ys)){var f=g.width;s="M"+(o.x-f)+","+o.yh+"h"+2*f+"m-"+f+",0V"+o.ys,o.noYS||(s+="m-"+f+",0h"+2*f);var p=e.select("path.yerror");l=!p.size(),l?p=e.append("path").style("vector-effect","non-scaling-stroke").classed("yerror",!0):d&&(p=p.transition().duration(n.duration).ease(n.easing)),p.attr("d",s)}if(h.visible&&i(o.y)&&i(o.xh)&&i(o.xs)){var m=(h.copy_ystyle?g:h).width;s="M"+o.xh+","+(o.y-m)+"v"+2*m+"m0,-"+m+"H"+o.xs,o.noXS||(s+="m0,-"+m+"v"+2*m);var y=e.select("path.xerror");l=!y.size(),l?y=e.append("path").style("vector-effect","non-scaling-stroke").classed("xerror",!0):d&&(y=y.transition().duration(n.duration).ease(n.easing)),y.attr("d",s)}}})}})}},{"../../traces/scatter/subtypes":281,"../drawing":58,d3:7,"fast-isnumeric":10}],66:[function(t,e,n){"use strict";var r=t("d3"),a=t("../color");e.exports=function(t){t.each(function(t){var e=t[0].trace,n=e.error_y||{},i=e.error_x||{},o=r.select(this);o.selectAll("path.yerror").style("stroke-width",n.thickness+"px").call(a.stroke,n.color),i.copy_ystyle&&(i=n),o.selectAll("path.xerror").style("stroke-width",i.thickness+"px").call(a.stroke,i.color)})}},{"../color":34,d3:7}],67:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes");e.exports={hoverlabel:{bgcolor:{valType:"color",arrayOk:!0,editType:"none"},bordercolor:{valType:"color",arrayOk:!0,editType:"none"},font:r({arrayOk:!0,editType:"none"}),namelength:{valType:"integer",min:-1,arrayOk:!0,editType:"none"},editType:"calc"}}},{"../../plots/font_attributes":213}],68:[function(t,e,n){"use strict";function r(t,e,n,r){r=r||a.identity,Array.isArray(t)&&(e[0][n]=r(t))}var a=t("../../lib"),i=t("../../registry");e.exports=function(t){for(var e=t.calcdata,n=t._fullLayout,o=0;o<e.length;o++){var s=e[o],l=s[0].trace;if(!i.traceIs(l,"pie")){var c=i.traceIs(l,"2dMap")?r:a.fillArray;c(l.hoverinfo,s,"hi",function(t){return function(e){return a.coerceHoverinfo({hoverinfo:e},{_module:t._module},n)}}(l)),l.hoverlabel&&(c(l.hoverlabel.bgcolor,s,"hbg"),c(l.hoverlabel.bordercolor,s,"hbc"),c(l.hoverlabel.font.size,s,"hts"),c(l.hoverlabel.font.color,s,"htc"),c(l.hoverlabel.font.family,s,"htf"),c(l.hoverlabel.namelength,s,"hnl"))}}}},{"../../lib":149,"../../registry":225}],69:[function(t,e,n){"use strict";var r=t("../../registry"),a=t("./hover").hover;e.exports=function(t,e,n){function i(){t.emit("plotly_click",{points:t._hoverdata,event:e})}var o=r.getComponentMethod("annotations","onClick")(t,t._hoverdata);void 0!==n&&a(t,e,n,!0),t._hoverdata&&e&&e.target&&(o&&o.then?o.then(i):i(),e.stopImmediatePropagation&&e.stopImmediatePropagation())}},{"../../registry":225,"./hover":73}],70:[function(t,e,n){"use strict";e.exports={MAXDIST:20,YANGLE:60,HOVERARROWSIZE:6,HOVERTEXTPAD:3,HOVERFONTSIZE:13,HOVERFONT:"Arial, sans-serif",HOVERMINTIME:50,HOVERID:"-hover"}},{}],71:[function(t,e,n){"use strict";var r=t("../../lib"),a=t("./attributes"),i=t("./hoverlabel_defaults");e.exports=function(t,e,n,o){function s(n,i){return r.coerce(t,e,a,n,i)}i(t,e,s,o.hoverlabel)}},{"../../lib":149,"./attributes":67,"./hoverlabel_defaults":74}],72:[function(t,e,n){"use strict";function r(t,e){return function(n){var r=t(n),a=e(n);return Math.sqrt(r*r+a*a)}}var a=t("../../lib"),i=t("./constants");n.getSubplot=function(t){return t.subplot||t.xaxis+t.yaxis||t.geo},n.flat=function(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=e;return n},n.p2c=function(t,e){for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r].p2c(e);return n},n.getDistanceFunction=function(t,e,n,a){return"closest"===t?a||r(e,n):"x"===t?e:n},n.getClosest=function(t,e,n){if(!1!==n.index)n.index>=0&&n.index<t.length?n.distance=0:n.index=!1;else for(var r=0;r<t.length;r++){var a=e(t[r]);a<=n.distance&&(n.index=r,n.distance=a)}return n},n.inbox=function(t,e){return t*e<0||0===t?i.MAXDIST*(.6-.3/Math.max(3,Math.abs(t-e))):1/0},n.appendArrayPointValue=function(t,e,n){var r=e._arrayAttrs;if(r)for(var i=0;i<r.length;i++){var o,s=r[i];if(o="ids"===s?"id":"locations"===s?"location":s,void 0===t[o]){var l=a.nestedProperty(e,s).get();Array.isArray(n)?Array.isArray(l)&&Array.isArray(l[n[0]])&&(t[o]=l[n[0]][n[1]]):t[o]=l[n]}}}},{"../../lib":149,"./constants":70}],73:[function(t,e,n){"use strict";function r(t,e,n,r){if(("pie"===n||"sankey"===n)&&!r)return void t.emit("plotly_hover",{event:e.originalEvent,points:[e]});n||(n="xy");var f=Array.isArray(n)?n:[n],g=t._fullLayout,m=g._plots||[],k=m[n];if(k){var A=k.overlays.map(function(t){return t.id});f=f.concat(A)}for(var M=f.length,C=new Array(M),S=new Array(M),E=0;E<M;E++){var L=f[E],O=m[L];if(O)C[E]=x.getFromId(t,O.xaxis._id),S[E]=x.getFromId(t,O.yaxis._id);else{var D=g[L]._subplot;C[E]=D.xaxis,S[E]=D.yaxis}}var I=e.hovermode||g.hovermode;if(-1===["x","y","closest"].indexOf(I)||!t.calcdata||t.querySelector(".zoombox")||t._dragging)return b.unhoverRaw(t,e);var P,N,z,R,F,j,H,B,V,q,$,U,W,G=[],Y=[];if(Array.isArray(e))for(I="array",z=0;z<e.length;z++)F=t.calcdata[e[z].curveNumber||0],"skip"!==F[0].trace.hoverinfo&&Y.push(F);else{for(R=0;R<t.calcdata.length;R++)F=t.calcdata[R],j=F[0].trace,"skip"!==j.hoverinfo&&-1!==f.indexOf(w.getSubplot(j))&&Y.push(F);var X,Z;if(!e.target)X="xpx"in e?e.xpx:C[0]._length/2,Z="ypx"in e?e.ypx:S[0]._length/2;else{if(!1===h.triggerHandler(t,"plotly_beforehover",e))return;var Q=e.target.getBoundingClientRect();if(X=e.clientX-Q.left,Z=e.clientY-Q.top,X<0||X>Q.width||Z<0||Z>Q.height)return b.unhoverRaw(t,e)}if(P="xval"in e?w.flat(f,e.xval):w.p2c(C,X),N="yval"in e?w.flat(f,e.yval):w.p2c(S,Z),!d(P[0])||!d(N[0]))return p.warn("Fx.hover failed",e,t),b.unhoverRaw(t,e)}var K=1/0;for(R=0;R<Y.length;R++)if((F=Y[R])&&F[0]&&F[0].trace&&!0===F[0].trace.visible&&(j=F[0].trace,-1===["carpet","contourcarpet"].indexOf(j._module.name))){if(H=w.getSubplot(j),B=f.indexOf(H),V=I,U={cd:F,trace:j,xa:C[B],ya:S[B],index:!1,distance:Math.min(K,T.MAXDIST),color:y.defaultLine,name:j.name,x0:void 0,x1:void 0,y0:void 0,y1:void 0,xLabelVal:void 0,yLabelVal:void 0,zLabelVal:void 0,text:void 0},g[H]&&(U.subplot=g[H]._subplot),W=G.length,"array"===V){var J=e[R];"pointNumber"in J?(U.index=J.pointNumber,V="closest"):(V="","xval"in J&&(q=J.xval,V="x"),"yval"in J&&($=J.yval,V=V?"closest":"y"))}else q=P[B],$=N[B];if(j._module&&j._module.hoverPoints){var tt=j._module.hoverPoints(U,q,$,V);if(tt)for(var et,nt=0;nt<tt.length;nt++)et=tt[nt],d(et.x0)&&d(et.y0)&&G.push(s(et,I))}else p.log("Unrecognized trace type in hover:",j);"closest"===I&&G.length>W&&(G.splice(0,W),K=G[0].distance)}if(0===G.length)return b.unhoverRaw(t,e);G.sort(function(t,e){return t.distance-e.distance});var rt=t._hoverdata,at=[];for(z=0;z<G.length;z++){var it=G[z],ot={data:it.trace._input,fullData:it.trace,curveNumber:it.trace.index,pointNumber:it.index};it.trace._module.eventData?ot=it.trace._module.eventData(ot,it):(ot.x=it.xVal,ot.y=it.yVal,ot.xaxis=it.xa,ot.yaxis=it.ya,void 0!==it.zLabelVal&&(ot.z=it.zLabelVal)),w.appendArrayPointValue(ot,it.trace,it.index),at.push(ot)}t._hoverdata=at,c(t,e,rt)&&g._hasCartesian&&l(G,{hovermode:I,fullLayout:g,container:g._hoverlayer,outerContainer:g._paperdiv});var st="y"===I&&Y.length>1,lt=y.combine(g.plot_bgcolor||y.background,g.paper_bgcolor),ct={hovermode:I,rotateLabels:st,bgColor:lt,container:g._hoverlayer,outerContainer:g._paperdiv,commonLabelOpts:g.hoverlabel},ut=a(G,ct,t);if(i(G,st?"xa":"ya"),o(ut,st),e.target&&e.target.tagName){var dt=_.getComponentMethod("annotations","hasClickToShow")(t,at);v(u.select(e.target),dt?"pointer":"")}e.target&&!r&&c(t,e,rt)&&(rt&&t.emit("plotly_unhover",{event:e,points:rt}),t.emit("plotly_hover",{event:e,points:t._hoverdata,xaxes:C,yaxes:S,xvals:P,yvals:N}))}function a(t,e,n){var r,a,i=e.hovermode,o=e.rotateLabels,s=e.bgColor,l=e.container,c=e.outerContainer,d=e.commonLabelOpts||{},f=e.fontFamily||T.HOVERFONT,p=e.fontSize||T.HOVERFONTSIZE,h=t[0],v=h.xa,b=h.ya,x="y"===i?"yLabel":"xLabel",_=h[x],w=(String(_)||"").split(" ")[0],A=c.node().getBoundingClientRect(),M=A.top,C=A.width,S=A.height,O=h.distance<=T.MAXDIST&&("x"===i||"y"===i);for(r=0;r<t.length;r++){a=t[r].hoverinfo||t[r].trace.hoverinfo;var D=a.split("+");if(-1===D.indexOf("all")&&-1===D.indexOf(i)){O=!1;break}}var I=l.selectAll("g.axistext").data(O?[0]:[]);I.enter().append("g").classed("axistext",!0),I.exit().remove(),I.each(function(){var e=u.select(this),r=e.selectAll("path").data([0]),a=e.selectAll("text").data([0]);r.enter().append("path").style({"stroke-width":"1px"}),r.style({fill:d.bgcolor||y.defaultLine,stroke:d.bordercolor||y.background}),a.enter().append("text").attr("data-notex",1),a.text(_).call(m.font,d.font.family||f,d.font.size||p,d.font.color||y.background).call(g.positionText,0,0).call(g.convertToTspans,n),e.attr("transform","");var o=a.node().getBoundingClientRect();if("x"===i){a.attr("text-anchor","middle").call(g.positionText,0,"top"===v.side?M-o.bottom-E-L:M-o.top+E+L);var s="top"===v.side?"-":"";r.attr("d","M0,0L"+E+","+s+E+"H"+(L+o.width/2)+"v"+s+(2*L+o.height)+"H-"+(L+o.width/2)+"V"+s+E+"H-"+E+"Z"),e.attr("transform","translate("+(v._offset+(h.x0+h.x1)/2)+","+(b._offset+("top"===v.side?0:b._length))+")")}else{a.attr("text-anchor","right"===b.side?"start":"end").call(g.positionText,("right"===b.side?1:-1)*(L+E),M-o.top-o.height/2);var l="right"===b.side?"":"-";r.attr("d","M0,0L"+l+E+","+E+"V"+(L+o.height/2)+"h"+l+(2*L+o.width)+"V-"+(L+o.height/2)+"H"+l+E+"V-"+E+"Z"),e.attr("transform","translate("+(v._offset+("right"===b.side?v._length:0))+","+(b._offset+(h.y0+h.y1)/2)+")")}t=t.filter(function(t){return void 0!==t.zLabelVal||(t[x]||"").split(" ")[0]===w})});var P=l.selectAll("g.hovertext").data(t,function(t){return[t.trace.index,t.index,t.x0,t.y0,t.name,t.attr,t.xa,t.ya||""].join(",")});return P.enter().append("g").classed("hovertext",!0).each(function(){var t=u.select(this);t.append("rect").call(y.fill,y.addOpacity(s,.8)),t.append("text").classed("name",!0),t.append("path").style("stroke-width","1px"),t.append("text").classed("nums",!0).call(m.font,f,p)}),P.exit().remove(),P.each(function(t){var e=u.select(this).attr("transform",""),r="",a="",l=y.opacity(t.color)?t.color:y.defaultLine,c=y.combine(l,s),d=t.borderColor||y.contrast(c);if(void 0!==t.nameOverride&&(t.name=t.nameOverride),t.name){r=g.plainText(t.name||"");var h=Math.round(t.nameLength);h>-1&&r.length>h&&(r=h>3?r.substr(0,h-3)+"...":r.substr(0,h))}void 0!==t.extraText&&(a+=t.extraText),void 0!==t.zLabel?(void 0!==t.xLabel&&(a+="x: "+t.xLabel+"<br>"),void 0!==t.yLabel&&(a+="y: "+t.yLabel+"<br>"),a+=(a?"z: ":"")+t.zLabel):O&&t[i+"Label"]===_?a=t[("x"===i?"y":"x")+"Label"]||"":void 0===t.xLabel?void 0!==t.yLabel&&(a=t.yLabel):a=void 0===t.yLabel?t.xLabel:"("+t.xLabel+", "+t.yLabel+")",t.text&&!Array.isArray(t.text)&&(a+=(a?"<br>":"")+t.text),""===a&&(""===r&&e.remove(),a=r);var v=e.select("text.nums").call(m.font,t.fontFamily||f,t.fontSize||p,t.fontColor||d).text(a).attr("data-notex",1).call(g.positionText,0,0).call(g.convertToTspans,n),b=e.select("text.name"),x=0
;r&&r!==a?(b.call(m.font,t.fontFamily||f,t.fontSize||p,c).text(r).attr("data-notex",1).call(g.positionText,0,0).call(g.convertToTspans,n),x=b.node().getBoundingClientRect().width+2*L):(b.remove(),e.select("rect").remove()),e.select("path").style({fill:c,stroke:d});var w,T,A=v.node().getBoundingClientRect(),D=t.xa._offset+(t.x0+t.x1)/2,I=t.ya._offset+(t.y0+t.y1)/2,P=Math.abs(t.x1-t.x0),N=Math.abs(t.y1-t.y0),z=A.width+E+L+x;t.ty0=M-A.top,t.bx=A.width+2*L,t.by=A.height+2*L,t.anchor="start",t.txwidth=A.width,t.tx2width=x,t.offset=0,o?(t.pos=D,w=I+N/2+z<=S,T=I-N/2-z>=0,"top"!==t.idealAlign&&w||!T?w?(I+=N/2,t.anchor="start"):t.anchor="middle":(I-=N/2,t.anchor="end")):(t.pos=I,w=D+P/2+z<=C,T=D-P/2-z>=0,"left"!==t.idealAlign&&w||!T?w?(D+=P/2,t.anchor="start"):t.anchor="middle":(D-=P/2,t.anchor="end")),v.attr("text-anchor",t.anchor),x&&b.attr("text-anchor",t.anchor),e.attr("transform","translate("+D+","+I+")"+(o?"rotate("+k+")":""))}),P}function i(t,e){function n(t){var e=t[0],n=t[t.length-1];if(a=e.pmin-e.pos-e.dp+e.size,i=n.pos+n.dp+n.size-e.pmax,a>.01){for(s=t.length-1;s>=0;s--)t[s].dp+=a;r=!1}if(!(i<.01)){if(a<-.01){for(s=t.length-1;s>=0;s--)t[s].dp-=i;r=!1}if(r){var c=0;for(o=0;o<t.length;o++)l=t[o],l.pos+l.dp+l.size>e.pmax&&c++;for(o=t.length-1;o>=0&&!(c<=0);o--)l=t[o],l.pos>e.pmax-1&&(l.del=!0,c--);for(o=0;o<t.length&&!(c<=0);o++)if(l=t[o],l.pos<e.pmin+1)for(l.del=!0,c--,i=2*l.size,s=t.length-1;s>=0;s--)t[s].dp-=i;for(o=t.length-1;o>=0&&!(c<=0);o--)l=t[o],l.pos+l.dp+l.size>e.pmax&&(l.del=!0,c--)}}}for(var r,a,i,o,s,l,c,u=0,d=t.map(function(t,n){var r=t[e];return[{i:n,dp:0,pos:t.pos,posref:t.posref,size:t.by*("x"===r._id.charAt(0)?M:1)/2,pmin:r._offset,pmax:r._offset+r._length}]}).sort(function(t,e){return t[0].posref-e[0].posref});!r&&u<=t.length;){for(u++,r=!0,o=0;o<d.length-1;){var f=d[o],p=d[o+1],h=f[f.length-1],g=p[0];if((a=h.pos+h.dp+h.size-g.pos-g.dp+g.size)>.01&&h.pmin===g.pmin&&h.pmax===g.pmax){for(s=p.length-1;s>=0;s--)p[s].dp+=a;for(f.push.apply(f,p),d.splice(o+1,1),c=0,s=f.length-1;s>=0;s--)c+=f[s].dp;for(i=c/f.length,s=f.length-1;s>=0;s--)f[s].dp-=i;r=!1}else o++}d.forEach(n)}for(o=d.length-1;o>=0;o--){var v=d[o];for(s=v.length-1;s>=0;s--){var m=v[s],y=t[m.i];y.offset=m.dp,y.del=m.del}}}function o(t,e){t.each(function(t){var n=u.select(this);if(t.del)return void n.remove();var r="end"===t.anchor?-1:1,a=n.select("text.nums"),i={start:1,end:-1,middle:0}[t.anchor],o=i*(E+L),s=o+i*(t.txwidth+L),l=0,c=t.offset;"middle"===t.anchor&&(o-=t.tx2width/2,s-=t.tx2width/2),e&&(c*=-S,l=t.offset*C),n.select("path").attr("d","middle"===t.anchor?"M-"+t.bx/2+",-"+t.by/2+"h"+t.bx+"v"+t.by+"h-"+t.bx+"Z":"M0,0L"+(r*E+l)+","+(E+c)+"v"+(t.by/2-E)+"h"+r*t.bx+"v-"+t.by+"H"+(r*E+l)+"V"+(c-E)+"Z"),a.call(g.positionText,o+l,c+t.ty0-t.by/2+L),t.tx2width&&(n.select("text.name").call(g.positionText,s+i*L+l,c+t.ty0-t.by/2+L),n.select("rect").call(m.setRect,s+(i-1)*t.tx2width/2+l,c-t.by/2-1,t.tx2width,t.by+2))})}function s(t,e){function n(e,n,r){var a=s(n,r);a&&(t[e]=a)}var r=t.index,a=t.trace||{},i=t.cd[0],o=t.cd[r]||{},s=Array.isArray(r)?function(t,e){return p.castOption(i,r,t)||p.extractOption({},a,"",e)}:function(t,e){return p.extractOption(o,a,t,e)};n("hoverinfo","hi","hoverinfo"),n("color","hbg","hoverlabel.bgcolor"),n("borderColor","hbc","hoverlabel.bordercolor"),n("fontFamily","htf","hoverlabel.font.family"),n("fontSize","hts","hoverlabel.font.size"),n("fontColor","htc","hoverlabel.font.color"),n("nameLength","hnl","hoverlabel.namelength"),t.posref="y"===e?(t.x0+t.x1)/2:(t.y0+t.y1)/2,t.x0=p.constrain(t.x0,0,t.xa._length),t.x1=p.constrain(t.x1,0,t.xa._length),t.y0=p.constrain(t.y0,0,t.ya._length),t.y1=p.constrain(t.y1,0,t.ya._length);var l;if(void 0!==t.xLabelVal){l="log"===t.xa.type&&t.xLabelVal<=0;var c=x.tickText(t.xa,t.xa.c2l(l?-t.xLabelVal:t.xLabelVal),"hover");l?0===t.xLabelVal?t.xLabel="0":t.xLabel="-"+c.text:t.xLabel=c.text,t.xVal=t.xa.c2d(t.xLabelVal)}if(void 0!==t.yLabelVal){l="log"===t.ya.type&&t.yLabelVal<=0;var u=x.tickText(t.ya,t.ya.c2l(l?-t.yLabelVal:t.yLabelVal),"hover");l?0===t.yLabelVal?t.yLabel="0":t.yLabel="-"+u.text:t.yLabel=u.text,t.yVal=t.ya.c2d(t.yLabelVal)}if(void 0!==t.zLabelVal&&(t.zLabel=String(t.zLabelVal)),!(isNaN(t.xerr)||"log"===t.xa.type&&t.xerr<=0)){var d=x.tickText(t.xa,t.xa.c2l(t.xerr),"hover").text;void 0!==t.xerrneg?t.xLabel+=" +"+d+" / -"+x.tickText(t.xa,t.xa.c2l(t.xerrneg),"hover").text:t.xLabel+="  "+d,"x"===e&&(t.distance+=1)}if(!(isNaN(t.yerr)||"log"===t.ya.type&&t.yerr<=0)){var f=x.tickText(t.ya,t.ya.c2l(t.yerr),"hover").text;void 0!==t.yerrneg?t.yLabel+=" +"+f+" / -"+x.tickText(t.ya,t.ya.c2l(t.yerrneg),"hover").text:t.yLabel+="  "+f,"y"===e&&(t.distance+=1)}var h=t.hoverinfo||t.trace.hoverinfo;return"all"!==h&&(h=h.split("+"),-1===h.indexOf("x")&&(t.xLabel=void 0),-1===h.indexOf("y")&&(t.yLabel=void 0),-1===h.indexOf("z")&&(t.zLabel=void 0),-1===h.indexOf("text")&&(t.text=void 0),-1===h.indexOf("name")&&(t.name=void 0)),t}function l(t,e){var n=e.hovermode,r=e.container,a=t[0],i=a.xa,o=a.ya,s=i.showspikes,l=o.showspikes;if(r.selectAll(".spikeline").remove(),"closest"===n&&(s||l)){var c=e.fullLayout,u=i._offset+(a.x0+a.x1)/2,d=o._offset+(a.y0+a.y1)/2,p=y.combine(c.plot_bgcolor,c.paper_bgcolor),h=f.readability(a.color,p)<1.5?y.contrast(p):a.color;if(l){var g=o.spikemode,v=o.spikethickness,b=o.spikecolor||h,x=o._boundingBox,_=(x.left+x.right)/2<u?x.right:x.left;if(-1!==g.indexOf("toaxis")||-1!==g.indexOf("across")){var w=_,T=u;-1!==g.indexOf("across")&&(w=o._counterSpan[0],T=o._counterSpan[1]),r.append("line").attr({x1:w,x2:T,y1:d,y2:d,"stroke-width":v+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0),r.append("line").attr({x1:w,x2:T,y1:d,y2:d,"stroke-width":v,stroke:b,"stroke-dasharray":m.dashStyle(o.spikedash,v)}).classed("spikeline",!0).classed("crisp",!0)}-1!==g.indexOf("marker")&&r.append("circle").attr({cx:_+("right"!==o.side?v:-v),cy:d,r:v,fill:b}).classed("spikeline",!0)}if(s){var k=i.spikemode,A=i.spikethickness,M=i.spikecolor||h,C=i._boundingBox,S=(C.top+C.bottom)/2<d?C.bottom:C.top;if(-1!==k.indexOf("toaxis")||-1!==k.indexOf("across")){var E=S,L=d;-1!==k.indexOf("across")&&(E=i._counterSpan[0],L=i._counterSpan[1]),r.append("line").attr({x1:u,x2:u,y1:E,y2:L,"stroke-width":A+2,stroke:p}).classed("spikeline",!0).classed("crisp",!0),r.append("line").attr({x1:u,x2:u,y1:E,y2:L,"stroke-width":A,stroke:M,"stroke-dasharray":m.dashStyle(i.spikedash,A)}).classed("spikeline",!0).classed("crisp",!0)}-1!==k.indexOf("marker")&&r.append("circle").attr({cx:u,cy:S-("top"!==i.side?A:-A),r:A,fill:M}).classed("spikeline",!0)}}}function c(t,e,n){if(!n||n.length!==t._hoverdata.length)return!0;for(var r=n.length-1;r>=0;r--){var a=n[r],i=t._hoverdata[r];if(a.curveNumber!==i.curveNumber||String(a.pointNumber)!==String(i.pointNumber))return!0}return!1}var u=t("d3"),d=t("fast-isnumeric"),f=t("tinycolor2"),p=t("../../lib"),h=t("../../lib/events"),g=t("../../lib/svg_text_utils"),v=t("../../lib/override_cursor"),m=t("../drawing"),y=t("../color"),b=t("../dragelement"),x=t("../../plots/cartesian/axes"),_=t("../../registry"),w=t("./helpers"),T=t("./constants"),k=T.YANGLE,A=Math.PI*k/180,M=1/Math.sin(A),C=Math.cos(A),S=Math.sin(A),E=T.HOVERARROWSIZE,L=T.HOVERTEXTPAD;n.hover=function(t,e,n,a){t=p.getGraphDiv(t),p.throttle(t._fullLayout._uid+T.HOVERID,T.HOVERMINTIME,function(){r(t,e,n,a)})},n.loneHover=function(t,e){var n={color:t.color||y.defaultLine,x0:t.x0||t.x||0,x1:t.x1||t.x||0,y0:t.y0||t.y||0,y1:t.y1||t.y||0,xLabel:t.xLabel,yLabel:t.yLabel,zLabel:t.zLabel,text:t.text,name:t.name,idealAlign:t.idealAlign,borderColor:t.borderColor,fontFamily:t.fontFamily,fontSize:t.fontSize,fontColor:t.fontColor,trace:{index:0,hoverinfo:""},xa:{_offset:0},ya:{_offset:0},index:0},r=u.select(e.container),i=e.outerContainer?u.select(e.outerContainer):r,s={hovermode:"closest",rotateLabels:!1,bgColor:e.bgColor||y.background,container:r,outerContainer:i},l=a([n],s,e.gd);return o(l,s.rotateLabels),l.node()}},{"../../lib":149,"../../lib/events":142,"../../lib/override_cursor":159,"../../lib/svg_text_utils":169,"../../plots/cartesian/axes":189,"../../registry":225,"../color":34,"../dragelement":55,"../drawing":58,"./constants":70,"./helpers":72,d3:7,"fast-isnumeric":10,tinycolor2:16}],74:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e,n,a){a=a||{},n("hoverlabel.bgcolor",a.bgcolor),n("hoverlabel.bordercolor",a.bordercolor),n("hoverlabel.namelength",a.namelength),r.coerceFont(n,"hoverlabel.font",a.font)}},{"../../lib":149}],75:[function(t,e,n){"use strict";function r(t){var e=s.isD3Selection(t)?t:o.select(t);e.selectAll("g.hovertext").remove(),e.selectAll(".spikeline").remove()}function a(t,e,n){return s.castOption(t,e,"hoverlabel."+n)}function i(t,e,n){function r(n){return s.coerceHoverinfo({hoverinfo:n},{_module:t._module},e)}return s.castOption(t,n,"hoverinfo",r)}var o=t("d3"),s=t("../../lib"),l=t("../dragelement"),c=t("./helpers"),u=t("./layout_attributes");e.exports={moduleType:"component",name:"fx",constants:t("./constants"),schema:{layout:u},attributes:t("./attributes"),layoutAttributes:u,supplyLayoutGlobalDefaults:t("./layout_global_defaults"),supplyDefaults:t("./defaults"),supplyLayoutDefaults:t("./layout_defaults"),calc:t("./calc"),getDistanceFunction:c.getDistanceFunction,getClosest:c.getClosest,inbox:c.inbox,appendArrayPointValue:c.appendArrayPointValue,castHoverOption:a,castHoverinfo:i,hover:t("./hover").hover,unhover:l.unhover,loneHover:t("./hover").loneHover,loneUnhover:r,click:t("./click")}},{"../../lib":149,"../dragelement":55,"./attributes":67,"./calc":68,"./click":69,"./constants":70,"./defaults":71,"./helpers":72,"./hover":73,"./layout_attributes":76,"./layout_defaults":77,"./layout_global_defaults":78,d3:7}],76:[function(t,e,n){"use strict";var r=t("./constants"),a=t("../../plots/font_attributes")({editType:"none"});a.family.dflt=r.HOVERFONT,a.size.dflt=r.HOVERFONTSIZE,e.exports={dragmode:{valType:"enumerated",values:["zoom","pan","select","lasso","orbit","turntable"],dflt:"zoom",editType:"modebar"},hovermode:{valType:"enumerated",values:["x","y","closest",!1],editType:"modebar"},hoverlabel:{bgcolor:{valType:"color",editType:"none"},bordercolor:{valType:"color",editType:"none"},font:a,namelength:{valType:"integer",min:-1,dflt:15,editType:"none"},editType:"none"}}},{"../../plots/font_attributes":213,"./constants":70}],77:[function(t,e,n){"use strict";function r(t){for(var e=!0,n=0;n<t.length;n++)if("h"!==t[n].orientation){e=!1;break}return e}var a=t("../../lib"),i=t("./layout_attributes");e.exports=function(t,e,n){function o(n,r){return a.coerce(t,e,i,n,r)}o("dragmode");var s;e._has("cartesian")?(e._isHoriz=r(n),s=e._isHoriz?"y":"x"):s="closest",o("hovermode",s);var l=e._has("mapbox"),c=e._has("geo"),u=e._basePlotModules.length;"zoom"===e.dragmode&&((l||c)&&1===u||l&&c&&2===u)&&(e.dragmode="pan")}},{"../../lib":149,"./layout_attributes":76}],78:[function(t,e,n){"use strict";var r=t("../../lib"),a=t("./hoverlabel_defaults"),i=t("./layout_attributes");e.exports=function(t,e){function n(n,a){return r.coerce(t,e,i,n,a)}a(t,e,n)}},{"../../lib":149,"./hoverlabel_defaults":74,"./layout_attributes":76}],79:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/constants");e.exports={_isLinkedToArray:"image",visible:{valType:"boolean",dflt:!0,editType:"arraydraw"},source:{valType:"string",editType:"arraydraw"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},sizex:{valType:"number",dflt:0,editType:"arraydraw"},sizey:{valType:"number",dflt:0,editType:"arraydraw"},sizing:{valType:"enumerated",values:["fill","contain","stretch"],dflt:"contain",editType:"arraydraw"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},x:{valType:"any",dflt:0,editType:"arraydraw"},y:{valType:"any",dflt:0,editType:"arraydraw"},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left",editType:"arraydraw"},yanchor:{valType:"enumerated",values:["top","middle","bottom"],dflt:"top",editType:"arraydraw"},xref:{valType:"enumerated",values:["paper",r.idRegex.x.toString()],dflt:"paper",editType:"arraydraw"},yref:{valType:"enumerated",values:["paper",r.idRegex.y.toString()],dflt:"paper",editType:"arraydraw"},editType:"arraydraw"}},{"../../plots/cartesian/constants":194}],80:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),a=t("../../lib/to_log_range");e.exports=function(t,e,n,i){e=e||{};var o="log"===n&&"linear"===e.type,s="linear"===n&&"log"===e.type;if(o||s)for(var l,c,u=t._fullLayout.images,d=e._id.charAt(0),f=0;f<u.length;f++)if(l=u[f],c="images["+f+"].",l[d+"ref"]===e._id){var p=l[d],h=l["size"+d],g=null,v=null;if(o){g=a(p,e.range);var m=h/Math.pow(10,g)/2;v=2*Math.log(m+Math.sqrt(1+m*m))/Math.LN10}else g=Math.pow(10,p),v=g*(Math.pow(10,h/2)-Math.pow(10,-h/2));r(g)?r(v)||(v=null):(g=null,v=null),i(c+d,g),i(c+"size"+d,v)}}},{"../../lib/to_log_range":171,"fast-isnumeric":10}],81:[function(t,e,n){"use strict";function r(t,e,n){function r(n,r){return a.coerce(t,e,s,n,r)}if(!r("visible",!!r("source")))return e;r("layer"),r("xanchor"),r("yanchor"),r("sizex"),r("sizey"),r("sizing"),r("opacity");for(var o={_fullLayout:n},l=["x","y"],c=0;c<2;c++){var u=l[c],d=i.coerceRef(t,e,o,u,"paper");i.coercePosition(e,o,r,d,u,0)}return e}var a=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("../../plots/array_container_defaults"),s=t("./attributes");e.exports=function(t,e){o(t,e,{name:"images",handleItemDefaults:r})}},{"../../lib":149,"../../plots/array_container_defaults":186,"../../plots/cartesian/axes":189,"./attributes":79}],82:[function(t,e,n){"use strict";var r=t("d3"),a=t("../drawing"),i=t("../../plots/cartesian/axes"),o=t("../../constants/xmlns_namespaces");e.exports=function(t){function e(e){var n=r.select(this);if(!this.img||this.img.src!==e.source){n.attr("xmlns",o.svg);var a=new Promise(function(t){function r(){n.remove(),t()}var a=new Image;this.img=a,a.setAttribute("crossOrigin","anonymous"),a.onerror=r,a.onload=function(){var e=document.createElement("canvas");e.width=this.width,e.height=this.height,e.getContext("2d").drawImage(this,0,0);var r=e.toDataURL("image/png");n.attr("xlink:href",r),t()},n.on("error",r),a.src=e.source}.bind(this));t._promises.push(a)}}function n(e){var n=r.select(this),o=i.getFromId(t,e.xref),s=i.getFromId(t,e.yref),l=c._size,u=o?Math.abs(o.l2p(e.sizex)-o.l2p(0)):e.sizex*l.w,d=s?Math.abs(s.l2p(e.sizey)-s.l2p(0)):e.sizey*l.h,f=u*g.x[e.xanchor].offset,p=d*g.y[e.yanchor].offset,h=g.x[e.xanchor].sizing+g.y[e.yanchor].sizing,v=(o?o.r2p(e.x)+o._offset:e.x*l.w+l.l)+f,m=(s?s.r2p(e.y)+s._offset:l.h-e.y*l.h+l.t)+p;switch(e.sizing){case"fill":h+=" slice";break;case"stretch":h="none"}n.attr({x:v,y:m,width:u,height:d,preserveAspectRatio:h,opacity:e.opacity});var y=o?o._id:"",b=s?s._id:"",x=y+b;n.call(a.setClipUrl,x?"clip"+c._uid+x:null)}var s,l,c=t._fullLayout,u=[],d={},f=[];for(l=0;l<c.images.length;l++){var p=c.images[l];if(p.visible)if("below"===p.layer&&"paper"!==p.xref&&"paper"!==p.yref){s=p.xref+p.yref;var h=c._plots[s];if(!h){f.push(p);continue}h.mainplot&&(s=h.mainplot.id),d[s]||(d[s]=[]),d[s].push(p)}else"above"===p.layer?u.push(p):f.push(p)}var g={x:{left:{sizing:"xMin",offset:0},center:{sizing:"xMid",offset:-.5},right:{sizing:"xMax",offset:-1}},y:{top:{sizing:"YMin",offset:0},middle:{sizing:"YMid",offset:-.5},bottom:{sizing:"YMax",offset:-1}}},v=c._imageLowerLayer.selectAll("image").data(f),m=c._imageUpperLayer.selectAll("image").data(u);v.enter().append("image"),m.enter().append("image"),v.exit().remove(),m.exit().remove(),v.each(function(t){e.bind(this)(t),n.bind(this)(t)}),m.each(function(t){e.bind(this)(t),n.bind(this)(t)});var y=Object.keys(c._plots);for(l=0;l<y.length;l++){s=y[l];var b=c._plots[s];if(b.imagelayer){var x=b.imagelayer.selectAll("image").data(d[s]||[]);x.enter().append("image"),x.exit().remove(),x.each(function(t){e.bind(this)(t),n.bind(this)(t)})}}}},{"../../constants/xmlns_namespaces":135,"../../plots/cartesian/axes":189,"../drawing":58,d3:7}],83:[function(t,e,n){"use strict";e.exports={moduleType:"component",name:"images",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),draw:t("./draw"),convertCoords:t("./convert_coords")}},{"./attributes":79,"./convert_coords":80,"./defaults":81,"./draw":82}],84:[function(t,e,n){"use strict";n.isRightAnchor=function(t){return"right"===t.xanchor||"auto"===t.xanchor&&t.x>=2/3},n.isCenterAnchor=function(t){return"center"===t.xanchor||"auto"===t.xanchor&&t.x>1/3&&t.x<2/3},n.isBottomAnchor=function(t){return"bottom"===t.yanchor||"auto"===t.yanchor&&t.y<=1/3},n.isMiddleAnchor=function(t){return"middle"===t.yanchor||"auto"===t.yanchor&&t.y>1/3&&t.y<2/3}},{}],85:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),a=t("../color/attributes");e.exports={bgcolor:{valType:"color",editType:"legend"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"legend"},borderwidth:{valType:"number",min:0,dflt:0,editType:"legend"},font:r({editType:"legend"}),orientation:{valType:"enumerated",values:["v","h"],dflt:"v",editType:"legend"},traceorder:{valType:"flaglist",flags:["reversed","grouped"],extras:["normal"],editType:"legend"},tracegroupgap:{valType:"number",min:0,dflt:10,editType:"legend"},x:{valType:"number",min:-2,max:3,dflt:1.02,editType:"legend"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"legend"},y:{valType:"number",min:-2,max:3,dflt:1,editType:"legend"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"auto",editType:"legend"},editType:"legend"}},{"../../plots/font_attributes":213,"../color/attributes":33}],86:[function(t,e,n){"use strict";e.exports={scrollBarWidth:4,scrollBarHeight:20,scrollBarColor:"#808BA4",scrollBarMargin:4}},{}],87:[function(t,e,n){"use strict";var r=t("../../registry"),a=t("../../lib"),i=t("./attributes"),o=t("../../plots/layout_attributes"),s=t("./helpers");e.exports=function(t,e,n){function l(t,e){return a.coerce(p,h,i,t,e)}for(var c,u,d,f,p=t.legend||{},h=e.legend={},g=0,v="normal",m=0;m<n.length;m++){var y=n[m];s.legendGetsTrace(y)&&(g++,r.traceIs(y,"pie")&&g++),(r.traceIs(y,"bar")&&"stack"===e.barmode||-1!==["tonextx","tonexty"].indexOf(y.fill))&&(v=s.isGrouped({traceorder:v})?"grouped+reversed":"reversed"),void 0!==y.legendgroup&&""!==y.legendgroup&&(v=s.isReversed({traceorder:v})?"reversed+grouped":"grouped")}if(!1!==a.coerce(t,e,o,"showlegend",g>1)){if(l("bgcolor",e.paper_bgcolor),l("bordercolor"),l("borderwidth"),a.coerceFont(l,"font",e.font),l("orientation"),"h"===h.orientation){var b=t.xaxis;b&&b.rangeslider&&b.rangeslider.visible?(c=0,d="left",u=1.1,f="bottom"):(c=0,d="left",u=-.1,f="top")}l("traceorder",v),s.isGrouped(e.legend)&&l("tracegroupgap"),l("x",c),l("xanchor",d),l("y",u),l("yanchor",f),a.noneOrAll(p,h,["x","y"])}}},{"../../lib":149,"../../plots/layout_attributes":216,"../../registry":225,"./attributes":85,"./helpers":91}],88:[function(t,e,n){"use strict";function r(t,e){function n(n){m.convertToTspans(n,e,function(){i(t,e)})}var r=t.data()[0][0],a=e._fullLayout,o=r.trace,s=p.traceIs(o,"pie"),l=o.index,c=s?r.label:o.name,f=t.selectAll("text.legendtext").data([0]);f.enter().append("text").classed("legendtext",!0),f.attr("text-anchor","start").classed("user-select-none",!0).call(g.font,a.legend.font).text(c),e._context.edits.legendText&&!s?f.call(m.makeEditable,{gd:e}).call(n).on("edit",function(t){this.text(t).call(n);var a=t;this.text()||(t="    ");var i,o,s=r.trace._fullInput||{},c={};if(-1!==["ohlc","candlestick"].indexOf(s.type))i=r.trace.transforms,o=i[i.length-1].direction,c[o+".name"]=t;else if(p.hasTransform(s,"groupby")){var f=p.getTransformIndices(s,"groupby"),h=f[f.length-1],g=d.keyedContainer(s,"transforms["+h+"].styles","target","value.name");""===a?g.remove(r.trace._group):g.set(r.trace._group,t),c=g.constructUpdate()}else c.name=t;return u.restyle(e,c,l)}):f.call(n)}function a(t,e){var n,r=1,a=t.selectAll("rect").data([0]);a.enter().append("rect").classed("legendtoggle",!0).style("cursor","pointer").attr("pointer-events","all").call(v.fill,"rgba(0,0,0,0)"),a.on("mousedown",function(){n=(new Date).getTime(),n-e._legendMouseDownTime<M?r+=1:(r=1,e._legendMouseDownTime=n)}),a.on("mouseup",function(){if(!e._dragged&&!e._editing){var n=e._fullLayout.legend;(new Date).getTime()-e._legendMouseDownTime>M&&(r=Math.max(r-1,1)),1===r?n._clickTimeout=setTimeout(function(){y(t,e,r)},M):2===r&&(n._clickTimeout&&clearTimeout(n._clickTimeout),e._legendMouseDownTime=0,y(t,e,r))}})}function i(t,e){var n=t.data()[0][0];if(!n.trace.showlegend)return void t.remove();var r,a,i=t.select("g[class*=math-group]"),o=i.node(),s=e._fullLayout.legend,l=s.font.size*_;if(o){var c=g.bBox(o);r=c.height,a=c.width,g.setTranslate(i,0,r/4)}else{var u=t.select(".legendtext"),d=m.lineCount(u),f=u.node();r=l*d,a=f?g.bBox(f).width:0;var p=l*(.3+(1-d)/2);m.positionText(u,40,p)}r=Math.max(r,16)+3,n.height=r,n.width=a}function o(t,e,n){var r=t._fullLayout,a=r.legend,i=a.borderwidth,o=k.isGrouped(a),s=0;if(a.width=0,a.height=0,k.isVertical(a))o&&e.each(function(t,e){g.setTranslate(this,0,e*a.tracegroupgap)}),n.each(function(t){var e=t[0],n=e.height,r=e.width;g.setTranslate(this,i,5+i+a.height+n/2),a.height+=n,a.width=Math.max(a.width,r)}),a.width+=45+2*i,a.height+=10+2*i,o&&(a.height+=(a._lgroupsLength-1)*a.tracegroupgap),s=40;else if(o){for(var l=[a.width],u=e.data(),d=0,f=u.length;d<f;d++){var p=u[d].map(function(t){return t[0].width}),h=40+Math.max.apply(null,p);a.width+=a.tracegroupgap+h,l.push(a.width)}e.each(function(t,e){g.setTranslate(this,l[e],0)}),e.each(function(){var t=c.select(this),e=t.selectAll("g.traces"),n=0;e.each(function(t){var e=t[0],r=e.height;g.setTranslate(this,0,5+i+n+r/2),n+=r}),a.height=Math.max(a.height,n)}),a.height+=10+2*i,a.width+=2*i}else{var v=0,m=0,y=0,b=0;n.each(function(t){y=Math.max(40+t[0].width,y)}),n.each(function(t){var e=t[0],n=y,o=a.tracegroupgap||5;i+b+o+n>r.width-(r.margin.r+r.margin.l)&&(b=0,v+=m,a.height=a.height+m,m=0),g.setTranslate(this,i+b,5+i+e.height/2+v),a.width+=o+n,a.height=Math.max(a.height,e.height),b+=o+n,m=Math.max(e.height,m)}),a.width+=2*i,a.height+=10+2*i}a.width=Math.ceil(a.width),a.height=Math.ceil(a.height),n.each(function(e){var n=e[0];c.select(this).select(".legendtoggle").call(g.setRect,0,-n.height/2,(t._context.edits.legendText?0:a.width)+s,n.height)})}function s(t){var e=t._fullLayout,n=e.legend,r="left";A.isRightAnchor(n)?r="right":A.isCenterAnchor(n)&&(r="center");var a="top";A.isBottomAnchor(n)?a="bottom":A.isMiddleAnchor(n)&&(a="middle"),f.autoMargin(t,"legend",{x:n.x,y:n.y,l:n.width*({right:1,center:.5}[r]||0),r:n.width*({left:1,center:.5}[r]||0),b:n.height*({top:1,middle:.5}[a]||0),t:n.height*({bottom:1,middle:.5}[a]||0)})}function l(t){var e=t._fullLayout,n=e.legend,r="left";A.isRightAnchor(n)?r="right":A.isCenterAnchor(n)&&(r="center"),f.autoMargin(t,"legend",{x:n.x,y:.5,l:n.width*({right:1,center:.5}[r]||0),r:n.width*({left:1,center:.5}[r]||0),b:0,t:0})}var c=t("d3"),u=t("../../plotly"),d=t("../../lib"),f=t("../../plots/plots"),p=t("../../registry"),h=t("../dragelement"),g=t("../drawing"),v=t("../color"),m=t("../../lib/svg_text_utils"),y=t("./handle_click"),b=t("./constants"),x=t("../../constants/interactions"),_=t("../../constants/alignment").LINE_SPACING,w=t("./get_legend_data"),T=t("./style"),k=t("./helpers"),A=t("./anchor_utils"),M=x.DBLCLICKDELAY;e.exports=function(t){function e(t,e){E.attr("data-scroll",e).call(g.setTranslate,0,e),L.call(g.setRect,j,t,b.scrollBarWidth,b.scrollBarHeight),C.select("rect").attr({y:m.borderwidth-e})}var n=t._fullLayout,i="legend"+n._uid;if(n._infolayer&&t.calcdata){t._legendMouseDownTime||(t._legendMouseDownTime=0);var m=n.legend,x=n.showlegend&&w(t.calcdata,m),_=n.hiddenlabels||[];if(!n.showlegend||!x.length)return n._infolayer.selectAll(".legend").remove(),n._topdefs.select("#"+i).remove(),void f.autoMargin(t,"legend");var k=n._infolayer.selectAll("g.legend").data([0]);k.enter().append("g").attr({class:"legend","pointer-events":"all"});var C=n._topdefs.selectAll("#"+i).data([0]);C.enter().append("clipPath").attr("id",i).append("rect");var S=k.selectAll("rect.bg").data([0]);S.enter().append("rect").attr({class:"bg","shape-rendering":"crispEdges"}),S.call(v.stroke,m.bordercolor),S.call(v.fill,m.bgcolor),S.style("stroke-width",m.borderwidth+"px");var E=k.selectAll("g.scrollbox").data([0]);E.enter().append("g").attr("class","scrollbox");var L=k.selectAll("rect.scrollbar").data([0]);L.enter().append("rect").attr({class:"scrollbar",rx:20,ry:2,width:0,height:0}).call(v.fill,"#808BA4");var O=E.selectAll("g.groups").data(x);O.enter().append("g").attr("class","groups"),O.exit().remove();var D=O.selectAll("g.traces").data(d.identity);D.enter().append("g").attr("class","traces"),D.exit().remove(),D.call(T,t).style("opacity",function(t){var e=t[0].trace;return p.traceIs(e,"pie")?-1!==_.indexOf(t[0].label)?.5:1:"legendonly"===e.visible?.5:1}).each(function(){c.select(this).call(r,t).call(a,t)});var I=0!==k.enter().size();I&&(o(t,O,D),s(t));var P=n.width,N=n.height;o(t,O,D),m.height>N?l(t):s(t);var z=n._size,R=z.l+z.w*m.x,F=z.t+z.h*(1-m.y);A.isRightAnchor(m)?R-=m.width:A.isCenterAnchor(m)&&(R-=m.width/2),A.isBottomAnchor(m)?F-=m.height:A.isMiddleAnchor(m)&&(F-=m.height/2);var j=m.width,H=z.w;j>H?(R=z.l,j=H):(R+j>P&&(R=P-j),R<0&&(R=0),j=Math.min(P-R,m.width));var B=m.height,V=z.h;B>V?(F=z.t,B=V):(F+B>N&&(F=N-B),F<0&&(F=0),B=Math.min(N-F,m.height)),g.setTranslate(k,R,F);var q,$,U=B-b.scrollBarHeight-2*b.scrollBarMargin,W=m.height-B;if(m.height<=B||t._context.staticPlot)S.attr({width:j-m.borderwidth,height:B-m.borderwidth,x:m.borderwidth/2,y:m.borderwidth/2}),g.setTranslate(E,0,0),C.select("rect").attr({width:j-2*m.borderwidth,height:B-2*m.borderwidth,x:m.borderwidth,y:m.borderwidth}),E.call(g.setClipUrl,i);else{q=b.scrollBarMargin,$=E.attr("data-scroll")||0,S.attr({width:j-2*m.borderwidth+b.scrollBarWidth+b.scrollBarMargin,height:B-m.borderwidth,x:m.borderwidth/2,y:m.borderwidth/2}),C.select("rect").attr({width:j-2*m.borderwidth+b.scrollBarWidth+b.scrollBarMargin,height:B-2*m.borderwidth,x:m.borderwidth,y:m.borderwidth-$}),E.call(g.setClipUrl,i),I&&e(q,$),k.on("wheel",null),k.on("wheel",function(){$=d.constrain(E.attr("data-scroll")-c.event.deltaY/U*W,-W,0),q=b.scrollBarMargin-$/W*U,e(q,$),0!==$&&$!==-W&&c.event.preventDefault()}),L.on(".drag",null),E.on(".drag",null);var G=c.behavior.drag().on("drag",function(){q=d.constrain(c.event.y-b.scrollBarHeight/2,b.scrollBarMargin,b.scrollBarMargin+U),$=-(q-b.scrollBarMargin)/U*W,e(q,$)});L.call(G),E.call(G)}if(t._context.edits.legendPosition){var Y,X,Z,Q;k.classed("cursor-move",!0),h.init({element:k.node(),gd:t,prepFn:function(){var t=g.getTranslate(k);Z=t.x,Q=t.y},moveFn:function(t,e){var n=Z+t,r=Q+e;g.setTranslate(k,n,r),Y=h.align(n,0,z.l,z.l+z.w,m.xanchor),X=h.align(r,0,z.t+z.h,z.t,m.yanchor)},doneFn:function(e,r,a){if(e&&void 0!==Y&&void 0!==X)u.relayout(t,{"legend.x":Y,"legend.y":X});else{var i=n._infolayer.selectAll("g.traces").filter(function(){var t=this.getBoundingClientRect();return a.clientX>=t.left&&a.clientX<=t.right&&a.clientY>=t.top&&a.clientY<=t.bottom});i.size()>0&&(1===r?k._clickTimeout=setTimeout(function(){y(i,t,r)},M):2===r&&(k._clickTimeout&&clearTimeout(k._clickTimeout),y(i,t,r)))}}})}}}},{"../../constants/alignment":131,"../../constants/interactions":132,"../../lib":149,"../../lib/svg_text_utils":169,"../../plotly":184,"../../plots/plots":218,"../../registry":225,"../color":34,"../dragelement":55,"../drawing":58,"./anchor_utils":84,"./constants":86,"./get_legend_data":89,"./handle_click":90,"./helpers":91,"./style":93,d3:7}],89:[function(t,e,n){"use strict";var r=t("../../registry"),a=t("./helpers");e.exports=function(t,e){function n(t,n){if(""!==t&&a.isGrouped(e))-1===l.indexOf(t)?(l.push(t),c=!0,s[t]=[[n]]):s[t].push([n]);else{var r="~~i"+d;l.push(r),s[r]=[[n]],d++}}var i,o,s={},l=[],c=!1,u={},d=0;for(i=0;i<t.length;i++){var f=t[i],p=f[0],h=p.trace,g=h.legendgroup;if(a.legendGetsTrace(h)&&h.showlegend)if(r.traceIs(h,"pie"))for(u[g]||(u[g]={}),o=0;o<f.length;o++){var v=f[o].label;u[g][v]||(n(g,{label:v,color:f[o].color,i:f[o].i,trace:h}),u[g][v]=!0)}else n(g,p)}if(!l.length)return[];var m,y,b=l.length;if(c&&a.isGrouped(e))for(y=new Array(b),i=0;i<b;i++)m=s[l[i]],y[i]=a.isReversed(e)?m.reverse():m;else{for(y=[new Array(b)],i=0;i<b;i++)m=s[l[i]][0],y[0][a.isReversed(e)?b-i-1:i]=m;b=1}return e._lgroupsLength=b,y}},{"../../registry":225,"./helpers":91}],90:[function(t,e,n){"use strict";var r=t("../../plotly"),a=t("../../lib"),i=t("../../registry"),o=!0;e.exports=function(t,e,n){function s(t,e,n){var r=_.indexOf(t),a=x[e];return a||(a=x[e]=[]),-1===_.indexOf(t)&&(_.push(t),r=_.length-1),a[r]=n,r}function l(t,e){var n=t._fullInput;if(i.hasTransform(n,"groupby")){var r=w[n.index];if(!r){var o=i.getTransformIndices(n,"groupby"),l=o[o.length-1];r=a.keyedContainer(n,"transforms["+l+"].styles","target","value.visible"),w[n.index]=r}var c=r.get(t._group);void 0===c&&(c=!0),!1!==c&&r.set(t._group,e),T[n.index]=s(n.index,"visible",!1!==n.visible)}else{var u=!1!==n.visible&&e;s(n.index,"visible",u)}}if(!e._dragged&&!e._editing){var c,u,d,f,p,h,g=e._fullLayout.hiddenlabels?e._fullLayout.hiddenlabels.slice():[],v=t.data()[0][0],m=e._fullData,y=v.trace,b=y.legendgroup,x={},_=[],w=[],T=[];if(1===n&&o&&e.data&&e._context.showTips?(a.notifier("Double click on legend to isolate individual trace","long"),o=!1):o=!1,i.traceIs(y,"pie")){var k=v.label,A=g.indexOf(k);1===n?-1===A?g.push(k):g.splice(A,1):2===n&&(g=[],e.calcdata[0].forEach(function(t){k!==t.label&&g.push(t.label)}),e._fullLayout.hiddenlabels&&e._fullLayout.hiddenlabels.length===g.length&&-1===A&&(g=[])),r.relayout(e,"hiddenlabels",g)}else{var M,C=b&&b.length,S=[];if(C)for(c=0;c<m.length;c++)M=m[c],M.visible&&M.legendgroup===b&&S.push(c);if(1===n){var E;switch(y.visible){case!0:E="legendonly";break;case!1:E=!1;break;case"legendonly":E=!0}if(C)for(c=0;c<m.length;c++)!1!==m[c].visible&&m[c].legendgroup===b&&l(m[c],E);else l(y,E)}else if(2===n){var L,O,D,I=!0;for(c=0;c<m.length;c++)if(!(L=m[c]===y)&&!(O=C&&m[c].legendgroup===b)&&!0===m[c].visible&&!i.traceIs(m[c],"notLegendIsolatable")){I=!1;break}for(c=0;c<m.length;c++)if(!1!==m[c].visible&&!i.traceIs(m[c],"notLegendIsolatable"))switch(y.visible){case"legendonly":l(m[c],!0);break;case!0:D=!!I||"legendonly",L=m[c]===y,O=L||C&&m[c].legendgroup===b,l(m[c],!!O||D)}}for(c=0;c<w.length;c++)if(d=w[c]){var P=d.constructUpdate(),N=Object.keys(P);for(u=0;u<N.length;u++)f=N[u],h=x[f]=x[f]||[],h[T[c]]=P[f]}for(p=Object.keys(x),c=0;c<p.length;c++)for(f=p[c],u=0;u<_.length;u++)x[f].hasOwnProperty(u)||(x[f][u]=void 0);r.restyle(e,x,_)}}}},{"../../lib":149,"../../plotly":184,"../../registry":225}],91:[function(t,e,n){"use strict";var r=t("../../registry");n.legendGetsTrace=function(t){return t.visible&&r.traceIs(t,"showLegend")},n.isGrouped=function(t){return-1!==(t.traceorder||"").indexOf("grouped")},n.isVertical=function(t){return"h"!==t.orientation},n.isReversed=function(t){return-1!==(t.traceorder||"").indexOf("reversed")}},{"../../registry":225}],92:[function(t,e,n){"use strict";e.exports={moduleType:"component",name:"legend",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),draw:t("./draw"),style:t("./style")}},{"./attributes":85,"./defaults":87,"./draw":88,"./style":93}],93:[function(t,e,n){"use strict";var r=t("d3"),a=t("../../registry"),i=t("../../lib"),o=t("../drawing"),s=t("../color"),l=t("../../traces/scatter/subtypes"),c=t("../../traces/pie/style_one");e.exports=function(t,e){function n(t){var e=t[0].trace,n=e.visible&&e.fill&&"none"!==e.fill,a=l.hasLines(e);e&&e._module&&"contourcarpet"===e._module.name&&(a=e.contours.showlines,n="fill"===e.contours.coloring);var i=r.select(this).select(".legendfill").selectAll("path").data(n?[t]:[]);i.enter().append("path").classed("js-fill",!0),i.exit().remove(),i.attr("d","M5,0h30v6h-30z").call(o.fillGroupStyle);var s=r.select(this).select(".legendlines").selectAll("path").data(a?[t]:[])
;s.enter().append("path").classed("js-line",!0).attr("d","M5,0h30"),s.exit().remove(),s.call(o.lineGroupStyle)}function u(t){function n(t,e,n){var r=i.nestedProperty(d,t).get(),a=Array.isArray(r)&&e?e(r):r;if(n){if(a<n[0])return n[0];if(a>n[1])return n[1]}return a}function a(t){return t[0]}var s,c,u=t[0],d=u.trace,f=l.hasMarkers(d),p=l.hasText(d),h=l.hasLines(d);if(f||p||h){var g={},v={};f&&(g.mc=n("marker.color",a),g.mo=n("marker.opacity",i.mean,[.2,1]),g.ms=n("marker.size",i.mean,[2,16]),g.mlc=n("marker.line.color",a),g.mlw=n("marker.line.width",i.mean,[0,5]),v.marker={sizeref:1,sizemin:1,sizemode:"diameter"}),h&&(v.line={width:n("line.width",a,[0,10])}),p&&(g.tx="Aa",g.tp=n("textposition",a),g.ts=10,g.tc=n("textfont.color",a),g.tf=n("textfont.family",a)),s=[i.minExtend(u,g)],c=i.minExtend(d,v)}var m=r.select(this).select("g.legendpoints"),y=m.selectAll("path.scatterpts").data(f?s:[]);y.enter().append("path").classed("scatterpts",!0).attr("transform","translate(20,0)"),y.exit().remove(),y.call(o.pointStyle,c,e),f&&(s[0].mrc=3);var b=m.selectAll("g.pointtext").data(p?s:[]);b.enter().append("g").classed("pointtext",!0).append("text").attr("transform","translate(20,0)"),b.exit().remove(),b.selectAll("text").call(o.textPointStyle,c,e)}function d(t){var e=t[0].trace,n=e.marker||{},i=n.line||{},o=r.select(this).select("g.legendpoints").selectAll("path.legendbar").data(a.traceIs(e,"bar")?[t]:[]);o.enter().append("path").classed("legendbar",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),o.exit().remove(),o.each(function(t){var e=r.select(this),a=t[0],o=(a.mlw+1||i.width+1)-1;e.style("stroke-width",o+"px").call(s.fill,a.mc||n.color),o&&e.call(s.stroke,a.mlc||i.color)})}function f(t){var e=t[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendbox").data(a.traceIs(e,"box")&&e.visible?[t]:[]);n.enter().append("path").classed("legendbox",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.each(function(){var t=e.line.width,n=r.select(this);n.style("stroke-width",t+"px").call(s.fill,e.fillcolor),t&&n.call(s.stroke,e.line.color)})}function p(t){var e=t[0].trace,n=r.select(this).select("g.legendpoints").selectAll("path.legendpie").data(a.traceIs(e,"pie")&&e.visible?[t]:[]);n.enter().append("path").classed("legendpie",!0).attr("d","M6,6H-6V-6H6Z").attr("transform","translate(20,0)"),n.exit().remove(),n.size()&&n.call(c,t[0],e)}t.each(function(t){var e=r.select(this),n=e.selectAll("g.layers").data([0]);n.enter().append("g").classed("layers",!0),n.style("opacity",t[0].trace.opacity),n.selectAll("g.legendfill").data([t]).enter().append("g").classed("legendfill",!0),n.selectAll("g.legendlines").data([t]).enter().append("g").classed("legendlines",!0);var a=n.selectAll("g.legendsymbols").data([t]);a.enter().append("g").classed("legendsymbols",!0),a.selectAll("g.legendpoints").data([t]).enter().append("g").classed("legendpoints",!0)}).each(d).each(f).each(p).each(n).each(u)}},{"../../lib":149,"../../registry":225,"../../traces/pie/style_one":258,"../../traces/scatter/subtypes":281,"../color":34,"../drawing":58,d3:7}],94:[function(t,e,n){"use strict";function r(t,e){var n,r,a=e.currentTarget,i=a.getAttribute("data-attr"),o=a.getAttribute("data-val")||!0,s=t._fullLayout,l={},c=p.list(t,null,!0),u="on";if("zoom"===i){var f,h="in"===o?.5:2,g=(1+h)/2,v=(1-h)/2;for(r=0;r<c.length;r++)if(n=c[r],!n.fixedrange)if(f=n._name,"auto"===o)l[f+".autorange"]=!0;else if("reset"===o){if(void 0===n._rangeInitial)l[f+".autorange"]=!0;else{var m=n._rangeInitial.slice();l[f+".range[0]"]=m[0],l[f+".range[1]"]=m[1]}void 0!==n._showSpikeInitial&&(l[f+".showspikes"]=n._showSpikeInitial,"on"!==u||n._showSpikeInitial||(u="off"))}else{var y=[n.r2l(n.range[0]),n.r2l(n.range[1])],b=[g*y[0]+v*y[1],g*y[1]+v*y[0]];l[f+".range[0]"]=n.l2r(b[0]),l[f+".range[1]"]=n.l2r(b[1])}s._cartesianSpikesEnabled=u}else{if("hovermode"!==i||"x"!==o&&"y"!==o){if("hovermode"===i&&"closest"===o){for(r=0;r<c.length;r++)n=c[r],"on"!==u||n.showspikes||(u="off");s._cartesianSpikesEnabled=u}}else o=s._isHoriz?"y":"x",a.setAttribute("data-val",o),"closest"!==o&&(s._cartesianSpikesEnabled="off");l[i]=o}d.relayout(t,l)}function a(t,e){for(var n=e.currentTarget,r=n.getAttribute("data-attr"),a=n.getAttribute("data-val")||!0,i=t._fullLayout,o=f.getSubplotIds(i,"gl3d"),s={},l=r.split("."),c=0;c<o.length;c++)s[o[c]+"."+l[1]]=a;d.relayout(t,s)}function i(t,e){for(var n=e.currentTarget,r=n.getAttribute("data-attr"),a=t._fullLayout,i=f.getSubplotIds(a,"gl3d"),o={},s=0;s<i.length;s++){var l=i[s],c=l+".camera",u=a[l]._scene;"resetDefault"===r?o[c]=null:"resetLastSave"===r&&(o[c]=h.extendDeep({},u.cameraInitial))}d.relayout(t,o)}function o(t,e){var n=e.currentTarget,r=n._previousVal||!1,a=t.layout,i=t._fullLayout,o=f.getSubplotIds(i,"gl3d"),s=["xaxis","yaxis","zaxis"],l=["showspikes","spikesides","spikethickness","spikecolor"],c={},u={},p={};if(r)p=h.extendDeep(a,r),n._previousVal=null;else{p={"allaxes.showspikes":!1};for(var g=0;g<o.length;g++){var v=o[g],m=i[v],y=c[v]={};y.hovermode=m.hovermode,p[v+".hovermode"]=!1;for(var b=0;b<3;b++){var x=s[b];u=y[x]={};for(var _=0;_<l.length;_++){var w=l[_];u[w]=m[x][w]}}}n._previousVal=h.extendDeep({},c)}d.relayout(t,p)}function s(t,e){for(var n=e.currentTarget,r=n.getAttribute("data-attr"),a=n.getAttribute("data-val")||!0,i=t._fullLayout,o=f.getSubplotIds(i,"geo"),s=0;s<o.length;s++){var l=o[s],c=i[l];if("zoom"===r){var p=c.projection.scale,h="in"===a?2*p:.5*p;d.relayout(t,l+".projection.scale",h)}else"reset"===r&&u(t,"geo")}}function l(t){var e,n=t._fullLayout;e=n._has("cartesian")?n._isHoriz?"y":"x":"closest";var r=!t._fullLayout.hovermode&&e;d.relayout(t,"hovermode",r)}function c(t){for(var e,n,r=t._fullLayout,a=p.list(t,null,!0),i={},o=0;o<a.length;o++)e=a[o],n=e._name,i[n+".showspikes"]="on"===r._cartesianSpikesEnabled;return i}function u(t,e){for(var n=t._fullLayout,r=f.getSubplotIds(n,e),a={},i=0;i<r.length;i++)for(var o=r[i],s=n[o]._subplot,l=s.viewInitial,c=Object.keys(l),u=0;u<c.length;u++){var p=c[u];a[o+"."+p]=l[p]}d.relayout(t,a)}var d=t("../../plotly"),f=t("../../plots/plots"),p=t("../../plots/cartesian/axes"),h=t("../../lib"),g=t("../../snapshot/download"),v=t("../../../build/ploticon"),m=e.exports={};m.toImage={name:"toImage",title:"Download plot as a png",icon:v.camera,click:function(t){var e="png";h.notifier("Taking snapshot - this may take a few seconds","long"),h.isIE()&&(h.notifier("IE only supports svg.  Changing format to svg.","long"),e="svg"),g(t,{format:e}).then(function(t){h.notifier("Snapshot succeeded - "+t,"long")}).catch(function(){h.notifier("Sorry there was a problem downloading your snapshot!","long")})}},m.sendDataToCloud={name:"sendDataToCloud",title:"Save and edit plot in cloud",icon:v.disk,click:function(t){f.sendDataToCloud(t)}},m.zoom2d={name:"zoom2d",title:"Zoom",attr:"dragmode",val:"zoom",icon:v.zoombox,click:r},m.pan2d={name:"pan2d",title:"Pan",attr:"dragmode",val:"pan",icon:v.pan,click:r},m.select2d={name:"select2d",title:"Box Select",attr:"dragmode",val:"select",icon:v.selectbox,click:r},m.lasso2d={name:"lasso2d",title:"Lasso Select",attr:"dragmode",val:"lasso",icon:v.lasso,click:r},m.zoomIn2d={name:"zoomIn2d",title:"Zoom in",attr:"zoom",val:"in",icon:v.zoom_plus,click:r},m.zoomOut2d={name:"zoomOut2d",title:"Zoom out",attr:"zoom",val:"out",icon:v.zoom_minus,click:r},m.autoScale2d={name:"autoScale2d",title:"Autoscale",attr:"zoom",val:"auto",icon:v.autoscale,click:r},m.resetScale2d={name:"resetScale2d",title:"Reset axes",attr:"zoom",val:"reset",icon:v.home,click:r},m.hoverClosestCartesian={name:"hoverClosestCartesian",title:"Show closest data on hover",attr:"hovermode",val:"closest",icon:v.tooltip_basic,gravity:"ne",click:r},m.hoverCompareCartesian={name:"hoverCompareCartesian",title:"Compare data on hover",attr:"hovermode",val:function(t){return t._fullLayout._isHoriz?"y":"x"},icon:v.tooltip_compare,gravity:"ne",click:r},m.zoom3d={name:"zoom3d",title:"Zoom",attr:"scene.dragmode",val:"zoom",icon:v.zoombox,click:a},m.pan3d={name:"pan3d",title:"Pan",attr:"scene.dragmode",val:"pan",icon:v.pan,click:a},m.orbitRotation={name:"orbitRotation",title:"orbital rotation",attr:"scene.dragmode",val:"orbit",icon:v["3d_rotate"],click:a},m.tableRotation={name:"tableRotation",title:"turntable rotation",attr:"scene.dragmode",val:"turntable",icon:v["z-axis"],click:a},m.resetCameraDefault3d={name:"resetCameraDefault3d",title:"Reset camera to default",attr:"resetDefault",icon:v.home,click:i},m.resetCameraLastSave3d={name:"resetCameraLastSave3d",title:"Reset camera to last save",attr:"resetLastSave",icon:v.movie,click:i},m.hoverClosest3d={name:"hoverClosest3d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:v.tooltip_basic,gravity:"ne",click:o},m.zoomInGeo={name:"zoomInGeo",title:"Zoom in",attr:"zoom",val:"in",icon:v.zoom_plus,click:s},m.zoomOutGeo={name:"zoomOutGeo",title:"Zoom out",attr:"zoom",val:"out",icon:v.zoom_minus,click:s},m.resetGeo={name:"resetGeo",title:"Reset",attr:"reset",val:null,icon:v.autoscale,click:s},m.hoverClosestGeo={name:"hoverClosestGeo",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:v.tooltip_basic,gravity:"ne",click:l},m.hoverClosestGl2d={name:"hoverClosestGl2d",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:v.tooltip_basic,gravity:"ne",click:l},m.hoverClosestPie={name:"hoverClosestPie",title:"Toggle show closest data on hover",attr:"hovermode",val:"closest",icon:v.tooltip_basic,gravity:"ne",click:l},m.toggleHover={name:"toggleHover",title:"Toggle show closest data on hover",attr:"hovermode",val:null,toggle:!0,icon:v.tooltip_basic,gravity:"ne",click:function(t,e){l(t),o(t,e)}},m.resetViews={name:"resetViews",title:"Reset views",icon:v.home,click:function(t,e){var n=e.currentTarget;n.setAttribute("data-attr","zoom"),n.setAttribute("data-val","reset"),r(t,e),n.setAttribute("data-attr","resetLastSave"),i(t,e),u(t,"geo"),u(t,"mapbox")}},m.toggleSpikelines={name:"toggleSpikelines",title:"Toggle Spike Lines",icon:v.spikeline,attr:"_cartesianSpikesEnabled",val:"on",click:function(t){var e=t._fullLayout;e._cartesianSpikesEnabled="closest"===e.hovermode&&"on"===e._cartesianSpikesEnabled?"off":"on";var n=c(t);n.hovermode="closest",d.relayout(t,n)}},m.resetViewMapbox={name:"resetViewMapbox",title:"Reset view",attr:"reset",icon:v.home,click:function(t){u(t,"mapbox")}}},{"../../../build/ploticon":2,"../../lib":149,"../../plotly":184,"../../plots/cartesian/axes":189,"../../plots/plots":218,"../../snapshot/download":227}],95:[function(t,e,n){"use strict";n.manage=t("./manage")},{"./manage":96}],96:[function(t,e,n){"use strict";function r(t,e,n){function r(t){for(var n=[],r=0;r<t.length;r++){var a=t[r];-1===e.indexOf(a)&&n.push(f[a])}m.push(n)}var s=t._fullLayout,l=t._fullData,c=s._has("cartesian"),u=s._has("gl3d"),d=s._has("geo"),p=s._has("pie"),h=s._has("gl2d"),g=s._has("ternary"),v=s._has("mapbox"),m=[];if(r(["toImage","sendDataToCloud"]),(c||h||p||g)+d+u>1)return r(["resetViews","toggleHover"]),o(m,n);u&&(r(["zoom3d","pan3d","orbitRotation","tableRotation"]),r(["resetCameraDefault3d","resetCameraLastSave3d"]),r(["hoverClosest3d"]));var y=a(s),b=[];return((c||h)&&!y||g)&&(b=["zoom2d","pan2d"]),(v||d)&&(b=["pan2d"]),i(l)&&(b.push("select2d"),b.push("lasso2d")),b.length&&r(b),!c&&!h||y||g||r(["zoomIn2d","zoomOut2d","autoScale2d","resetScale2d"]),c&&p?r(["toggleHover"]):h?r(["hoverClosestGl2d"]):c?r(["toggleSpikelines","hoverClosestCartesian","hoverCompareCartesian"]):p?r(["hoverClosestPie"]):v?r(["resetViewMapbox","toggleHover"]):d&&(r(["zoomInGeo","zoomOutGeo","resetGeo"]),r(["hoverClosestGeo"])),o(m,n)}function a(t){for(var e=l.list({_fullLayout:t},null,!0),n=!0,r=0;r<e.length;r++)if(!e[r].fixedrange){n=!1;break}return n}function i(t){for(var e=!1,n=0;n<t.length&&!e;n++){var r=t[n];r._module&&r._module.selectPoints&&(u.traceIs(r,"scatter-like")?(c.hasMarkers(r)||c.hasText(r))&&(e=!0):e=!0)}return e}function o(t,e){if(e.length)if(Array.isArray(e[0]))for(var n=0;n<e.length;n++)t.push(e[n]);else t.push(e);return t}function s(t){for(var e=0;e<t.length;e++)for(var n=t[e],r=0;r<n.length;r++){var a=n[r];if("string"==typeof a){if(void 0===f[a])throw new Error(["*modeBarButtons* configuration options","invalid button name"].join(" "));t[e][r]=f[a]}}return t}var l=t("../../plots/cartesian/axes"),c=t("../../traces/scatter/subtypes"),u=t("../../registry"),d=t("./modebar"),f=t("./buttons");e.exports=function(t){var e=t._fullLayout,n=t._context,a=e._modeBar;if(!n.displayModeBar)return void(a&&(a.destroy(),delete e._modeBar));if(!Array.isArray(n.modeBarButtonsToRemove))throw new Error(["*modeBarButtonsToRemove* configuration options","must be an array."].join(" "));if(!Array.isArray(n.modeBarButtonsToAdd))throw new Error(["*modeBarButtonsToAdd* configuration options","must be an array."].join(" "));var i,o=n.modeBarButtons;i=Array.isArray(o)&&o.length?s(o):r(t,n.modeBarButtonsToRemove,n.modeBarButtonsToAdd),a?a.update(t,i):e._modeBar=d(t,i)}},{"../../plots/cartesian/axes":189,"../../registry":225,"../../traces/scatter/subtypes":281,"./buttons":94,"./modebar":97}],97:[function(t,e,n){"use strict";function r(t){this.container=t.container,this.element=document.createElement("div"),this.update(t.graphInfo,t.buttons),this.container.appendChild(this.element)}function a(t,e){var n=t._fullLayout,a=new r({graphInfo:t,container:n._paperdiv.node(),buttons:e});return n._privateplot&&i.select(a.element).append("span").classed("badge-private float--left",!0).text("PRIVATE"),a}var i=t("d3"),o=t("../../lib"),s=t("../../../build/ploticon"),l=r.prototype;l.update=function(t,e){this.graphInfo=t;var n=this.graphInfo._context;"hover"===n.displayModeBar?this.element.className="modebar modebar--hover":this.element.className="modebar";var r=!this.hasButtons(e),a=this.hasLogo!==n.displaylogo;(r||a)&&(this.removeAllButtons(),this.updateButtons(e),n.displaylogo&&(this.element.appendChild(this.getLogo()),this.hasLogo=!0)),this.updateActiveButton()},l.updateButtons=function(t){var e=this;this.buttons=t,this.buttonElements=[],this.buttonsNames=[],this.buttons.forEach(function(t){var n=e.createGroup();t.forEach(function(t){var r=t.name;if(!r)throw new Error("must provide button 'name' in button config");if(-1!==e.buttonsNames.indexOf(r))throw new Error("button name '"+r+"' is taken");e.buttonsNames.push(r);var a=e.createButton(t);e.buttonElements.push(a),n.appendChild(a)}),e.element.appendChild(n)})},l.createGroup=function(){var t=document.createElement("div");return t.className="modebar-group",t},l.createButton=function(t){var e=this,n=document.createElement("a");n.setAttribute("rel","tooltip"),n.className="modebar-btn";var r=t.title;void 0===r&&(r=t.name),(r||0===r)&&n.setAttribute("data-title",r),void 0!==t.attr&&n.setAttribute("data-attr",t.attr);var a=t.val;if(void 0!==a&&("function"==typeof a&&(a=a(this.graphInfo)),n.setAttribute("data-val",a)),"function"!=typeof t.click)throw new Error("must provide button 'click' function in button config");return n.addEventListener("click",function(n){t.click(e.graphInfo,n),e.updateActiveButton(n.currentTarget)}),n.setAttribute("data-toggle",t.toggle||!1),t.toggle&&i.select(n).classed("active",!0),n.appendChild(this.createIcon(t.icon||s.question,t.name)),n.setAttribute("data-gravity",t.gravity||"n"),n},l.createIcon=function(t,e){var n=t.ascent-t.descent,r="http://www.w3.org/2000/svg",a=document.createElementNS(r,"svg"),i=document.createElementNS(r,"path");a.setAttribute("height","1em"),a.setAttribute("width",t.width/n+"em"),a.setAttribute("viewBox",[0,0,t.width,n].join(" "));var o="toggleSpikelines"===e?"matrix(1.5 0 0 -1.5 0 "+t.ascent+")":"matrix(1 0 0 -1 0 "+t.ascent+")";return i.setAttribute("d",t.path),i.setAttribute("transform",o),a.appendChild(i),a},l.updateActiveButton=function(t){var e=this.graphInfo._fullLayout,n=void 0!==t?t.getAttribute("data-attr"):null;this.buttonElements.forEach(function(t){var r=t.getAttribute("data-val")||!0,a=t.getAttribute("data-attr"),s="true"===t.getAttribute("data-toggle"),l=i.select(t);if(s)a===n&&l.classed("active",!l.classed("active"));else{var c=null===a?a:o.nestedProperty(e,a).get();l.classed("active",c===r)}})},l.hasButtons=function(t){var e=this.buttons;if(!e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n){if(t[n].length!==e[n].length)return!1;for(var r=0;r<t[n].length;r++)if(t[n][r].name!==e[n][r].name)return!1}return!0},l.getLogo=function(){var t=this.createGroup(),e=document.createElement("a");return e.href="https://plot.ly/",e.target="_blank",e.setAttribute("data-title","Produced with Plotly"),e.className="modebar-btn plotlyjsicon modebar-btn--logo",e.appendChild(this.createIcon(s.plotlylogo)),t.appendChild(e),t},l.removeAllButtons=function(){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.hasLogo=!1},l.destroy=function(){o.removeElement(this.container.querySelector(".modebar"))},e.exports=a},{"../../../build/ploticon":2,"../../lib":149,d3:7}],98:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),a=t("../color/attributes"),i=t("../../lib/extend").extendFlat,o=t("./button_attributes");o=i(o,{_isLinkedToArray:"button"}),e.exports={visible:{valType:"boolean",editType:"plot"},buttons:o,x:{valType:"number",min:-2,max:3,editType:"plot"},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left",editType:"plot"},y:{valType:"number",min:-2,max:3,editType:"plot"},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"bottom",editType:"plot"},font:r({editType:"plot"}),bgcolor:{valType:"color",dflt:a.lightLine,editType:"plot"},activecolor:{valType:"color",editType:"plot"},bordercolor:{valType:"color",dflt:a.defaultLine,editType:"plot"},borderwidth:{valType:"number",min:0,dflt:0,editType:"plot"},editType:"plot"}},{"../../lib/extend":143,"../../plots/font_attributes":213,"../color/attributes":33,"./button_attributes":99}],99:[function(t,e,n){"use strict";e.exports={step:{valType:"enumerated",values:["month","year","day","hour","minute","second","all"],dflt:"month",editType:"plot"},stepmode:{valType:"enumerated",values:["backward","todate"],dflt:"backward",editType:"plot"},count:{valType:"number",min:0,dflt:1,editType:"plot"},label:{valType:"string",editType:"plot"},editType:"plot"}},{}],100:[function(t,e,n){"use strict";e.exports={yPad:.02,minButtonWidth:30,rx:3,ry:3,lightAmount:25,darkAmount:10}},{}],101:[function(t,e,n){"use strict";function r(t,e,n){function r(t,e){return i.coerce(a,o,l,t,e)}for(var a,o,s=t.buttons||[],c=e.buttons=[],u=0;u<s.length;u++)if(a=s[u],o={},i.isPlainObject(a)){var d=r("step");"all"!==d&&(!n||"gregorian"===n||"month"!==d&&"year"!==d?r("stepmode"):o.stepmode="backward",r("count")),r("label"),o._index=u,c.push(o)}return c}function a(t,e,n){for(var r=n.filter(function(n){return e[n].anchor===t._id}),a=0,i=0;i<r.length;i++){var o=e[r[i]].domain;o&&(a=Math.max(o[1],a))}return[t.domain[0],a+c.yPad]}var i=t("../../lib"),o=t("../color"),s=t("./attributes"),l=t("./button_attributes"),c=t("./constants");e.exports=function(t,e,n,l,u){function d(t,e){return i.coerce(f,p,s,t,e)}var f=t.rangeselector||{},p=e.rangeselector={};if(d("visible",r(f,p,u).length>0)){var h=a(e,n,l);d("x",h[0]),d("y",h[1]),i.noneOrAll(t,e,["x","y"]),d("xanchor"),d("yanchor"),i.coerceFont(d,"font",n.font);var g=d("bgcolor");d("activecolor",o.contrast(g,c.lightAmount,c.darkAmount)),d("bordercolor"),d("borderwidth")}}},{"../../lib":149,"../color":34,"./attributes":98,"./button_attributes":99,"./constants":100}],102:[function(t,e,n){"use strict";function r(t){for(var e=m.list(t,"x",!0),n=[],r=0;r<e.length;r++){var a=e[r];a.rangeselector&&a.rangeselector.visible&&n.push(a)}return n}function a(t){return t._id}function i(t,e,n){if("all"===e.step)return!0===t.autorange;var r=Object.keys(n);return t.range[0]===n[r[0]]&&t.range[1]===n[r[1]]}function o(t,e,n){var r=t.selectAll("rect").data([0]);r.enter().append("rect").classed("selector-rect",!0),r.attr("shape-rendering","crispEdges"),r.attr({rx:x.rx,ry:x.ry}),r.call(h.stroke,e.bordercolor).call(h.fill,s(e,n)).style("stroke-width",e.borderwidth+"px")}function s(t,e){return e.isActive||e.isHovered?t.activecolor:t.bgcolor}function l(t,e,n,r){function a(t){v.convertToTspans(t,r)}var i=t.selectAll("text").data([0]);i.enter().append("text").classed("selector-text",!0).classed("user-select-none",!0),i.attr("text-anchor","middle"),i.call(g.font,e.font).text(c(n)).call(a)}function c(t){return t.label?t.label:"all"===t.step?"all":t.count+t.step.charAt(0)}function u(t,e,n,r){n.width=0,n.height=0;var a=n.borderwidth;e.each(function(){var t=d.select(this),e=t.select(".selector-text"),r=n.font.size*b,a=Math.max(r*v.lineCount(e),16)+3;n.height=Math.max(n.height,a)}),e.each(function(){var t=d.select(this),e=t.select(".selector-rect"),r=t.select(".selector-text"),i=r.node()&&g.bBox(r.node()).width,o=n.font.size*b,s=v.lineCount(r),l=Math.max(i+10,x.minButtonWidth);t.attr("transform","translate("+(a+n.width)+","+a+")"),e.attr({x:0,y:0,width:l,height:n.height}),v.positionText(r,l/2,n.height/2-(s-1)*o/2+3),n.width+=l+5}),e.selectAll("rect").attr("height",n.height);var i=t._fullLayout._size;n.lx=i.l+i.w*n.x,n.ly=i.t+i.h*(1-n.y);var o="left";y.isRightAnchor(n)&&(n.lx-=n.width,o="right"),y.isCenterAnchor(n)&&(n.lx-=n.width/2,o="center");var s="top";y.isBottomAnchor(n)&&(n.ly-=n.height,s="bottom"),y.isMiddleAnchor(n)&&(n.ly-=n.height/2,s="middle"),n.width=Math.ceil(n.width),n.height=Math.ceil(n.height),n.lx=Math.round(n.lx),n.ly=Math.round(n.ly),p.autoMargin(t,r+"-range-selector",{x:n.x,y:n.y,l:n.width*({right:1,center:.5}[o]||0),r:n.width*({left:1,center:.5}[o]||0),b:n.height*({top:1,middle:.5}[s]||0),t:n.height*({bottom:1,middle:.5}[s]||0)})}var d=t("d3"),f=t("../../plotly"),p=t("../../plots/plots"),h=t("../color"),g=t("../drawing"),v=t("../../lib/svg_text_utils"),m=t("../../plots/cartesian/axis_ids"),y=t("../legend/anchor_utils"),b=t("../../constants/alignment").LINE_SPACING,x=t("./constants"),_=t("./get_update_object");e.exports=function(t){var e=t._fullLayout,n=e._infolayer.selectAll(".rangeselector").data(r(t),a);n.enter().append("g").classed("rangeselector",!0),n.exit().remove(),n.style({cursor:"pointer","pointer-events":"all"}),n.each(function(e){var n=d.select(this),r=e,a=r.rangeselector,s=n.selectAll("g.button").data(a.buttons);s.enter().append("g").classed("button",!0),s.exit().remove(),s.each(function(e){var n=d.select(this),s=_(r,e);e.isActive=i(r,e,s),n.call(o,a,e),n.call(l,a,e,t),n.on("click",function(){t._dragged||f.relayout(t,s)}),n.on("mouseover",function(){e.isHovered=!0,n.call(o,a,e)}),n.on("mouseout",function(){e.isHovered=!1,n.call(o,a,e)})}),u(t,s,a,r._name),n.attr("transform","translate("+a.lx+","+a.ly+")")})}},{"../../constants/alignment":131,"../../lib/svg_text_utils":169,"../../plotly":184,"../../plots/cartesian/axis_ids":192,"../../plots/plots":218,"../color":34,"../drawing":58,"../legend/anchor_utils":84,"./constants":100,"./get_update_object":103,d3:7}],103:[function(t,e,n){"use strict";function r(t,e){var n,r=t.range,i=new Date(t.r2l(r[1])),o=e.step,s=e.count;switch(e.stepmode){case"backward":n=t.l2r(+a.time[o].utc.offset(i,-s));break;case"todate":var l=a.time[o].utc.offset(i,-s);n=t.l2r(+a.time[o].utc.ceil(l))}return[n,r[1]]}var a=t("d3");e.exports=function(t,e){var n=t._name,a={};if("all"===e.step)a[n+".autorange"]=!0;else{var i=r(t,e);a[n+".range[0]"]=i[0],a[n+".range[1]"]=i[1]}return a}},{d3:7}],104:[function(t,e,n){"use strict";e.exports={moduleType:"component",name:"rangeselector",schema:{subplots:{xaxis:{rangeselector:t("./attributes")}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),draw:t("./draw")}},{"./attributes":98,"./defaults":101,"./draw":102}],105:[function(t,e,n){"use strict";var r=t("../color/attributes");e.exports={bgcolor:{valType:"color",dflt:r.background,editType:"calc"},bordercolor:{valType:"color",dflt:r.defaultLine,editType:"calc"},borderwidth:{valType:"integer",dflt:0,min:0,editType:"calc"},autorange:{valType:"boolean",dflt:!0,editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"calc"},{valType:"any",editType:"calc"}],editType:"calc"},thickness:{valType:"number",dflt:.15,min:0,max:1,editType:"calc"},visible:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"}},{"../color/attributes":33}],106:[function(t,e,n){"use strict";var r=t("../../plots/cartesian/axes"),a=t("./constants");e.exports=function(t){for(var e=r.list(t,"x",!0),n=0;n<e.length;n++){var i=e[n],o=i[a.name];o&&o.visible&&o.autorange&&i._min.length&&i._max.length&&(o._input.autorange=!0,o._input.range=o.range=r.getAutoRange(i))}}},{"../../plots/cartesian/axes":189,"./constants":107}],107:[function(t,e,n){"use strict";e.exports={name:"rangeslider",containerClassName:"rangeslider-container",bgClassName:"rangeslider-bg",rangePlotClassName:"rangeslider-rangeplot",maskMinClassName:"rangeslider-mask-min",maskMaxClassName:"rangeslider-mask-max",slideBoxClassName:"rangeslider-slidebox",grabberMinClassName:"rangeslider-grabber-min",grabAreaMinClassName:"rangeslider-grabarea-min",handleMinClassName:"rangeslider-handle-min",grabberMaxClassName:"rangeslider-grabber-max",grabAreaMaxClassName:"rangeslider-grabarea-max",handleMaxClassName:"rangeslider-handle-max",maskColor:"rgba(0,0,0,0.4)",slideBoxFill:"transparent",slideBoxCursor:"ew-resize",grabAreaFill:"transparent",grabAreaCursor:"col-resize",grabAreaWidth:10,handleWidth:4,handleRadius:1,handleStrokeWidth:1,extraPad:15}},{}],108:[function(t,e,n){"use strict";var r=t("../../lib"),a=t("./attributes");e.exports=function(t,e,n){function i(t,e){return r.coerce(o,l,a,t,e)}if(t[n].rangeslider){r.isPlainObject(t[n].rangeslider)||(t[n].rangeslider={});var o=t[n].rangeslider,s=e[n],l=s.rangeslider={};if(i("visible")){if(i("bgcolor",e.plot_bgcolor),i("bordercolor"),i("borderwidth"),i("thickness"),i("autorange",!s.isValidRange(o.range)),i("range"),l.range){var c=l.range,u=s.range;c[0]=s.l2r(Math.min(s.r2l(c[0]),s.r2l(u[0]))),c[1]=s.l2r(Math.max(s.r2l(c[1]),s.r2l(u[1])))}s.cleanRange("rangeslider.range"),l._input=o}}}},{"../../lib":149,"./attributes":105}],109:[function(t,e,n){"use strict";function r(t){var e=w.list({_fullLayout:t},"x",!0),n=A.name,r=[];if(t._has("gl2d"))return r;for(var a=0;a<e.length;a++){var i=e[a];i[n]&&i[n].visible&&r.push(i)}return r}function a(t,e,n,r){var a=t.select("rect."+A.slideBoxClassName).node(),o=t.select("rect."+A.grabAreaMinClassName).node(),s=t.select("rect."+A.grabAreaMaxClassName).node();t.on("mousedown",function(){function l(l){var c,u,y,b=+l.clientX-f;switch(d){case a:y="ew-resize",c=h+b,u=v+b;break;case o:y="col-resize",c=h+b,u=v;break;case s:y="col-resize",c=h,u=v+b;break;default:y="ew-resize",c=p,u=p+b}if(u<c){var x=u;u=c,c=x}r._pixelMin=c,r._pixelMax=u,k(g.select(m),y),i(t,e,n,r)}function c(){m.removeEventListener("mousemove",l),m.removeEventListener("mouseup",c),y.removeElement(m)}var u=g.event,d=u.target,f=u.clientX,p=f-t.node().getBoundingClientRect().left,h=r.d2p(n._rl[0]),v=r.d2p(n._rl[1]),m=T.coverSlip();m.addEventListener("mousemove",l),m.addEventListener("mouseup",c)})}function i(t,e,n,r){function a(t){return n.l2r(y.constrain(t,r._rl[0],r._rl[1]))}var i=a(r.p2d(r._pixelMin)),o=a(r.p2d(r._pixelMax));window.requestAnimationFrame(function(){v.relayout(e,n._name+".range",[i,o])})}function o(t,e,n,r){function a(t){return y.constrain(t,0,r._width)}function i(t){return y.constrain(t,-o,r._width+o)}var o=A.handleWidth/2,s=a(r.d2p(n._rl[0])),l=a(r.d2p(n._rl[1]));t.select("rect."+A.slideBoxClassName).attr("x",s).attr("width",l-s),t.select("rect."+A.maskMinClassName).attr("width",s),t.select("rect."+A.maskMaxClassName).attr("x",l).attr("width",r._width-l);var c=Math.round(i(s-o))-.5,u=Math.round(i(l-o))+.5;t.select("g."+A.grabberMinClassName).attr("transform","translate("+c+",0.5)"),t.select("g."+A.grabberMaxClassName).attr("transform","translate("+u+",0.5)")}function s(t,e,n,r){var a=t.selectAll("rect."+A.bgClassName).data([0]);a.enter().append("rect").classed(A.bgClassName,!0).attr({x:0,y:0,"shape-rendering":"crispEdges"});var i=r.borderwidth%2==0?r.borderwidth:r.borderwidth-1,o=-r._offsetShift,s=b.crispRound(e,r.borderwidth);a.attr({width:r._width+i,height:r._height+i,transform:"translate("+o+","+o+")",fill:r.bgcolor,stroke:r.bordercolor,"stroke-width":s})}function l(t,e,n,r){var a=e._fullLayout,i=a._topdefs.selectAll("#"+r._clipId).data([0]);i.enter().append("clipPath").attr("id",r._clipId).append("rect").attr({x:0,y:0}),i.select("rect").attr({width:r._width,height:r._height})}function c(t,e,n,r){var a=w.getSubplots(e,n),i=e.calcdata,o=t.selectAll("g."+A.rangePlotClassName).data(a,y.identity);o.enter().append("g").attr("class",function(t){return A.rangePlotClassName+" "+t}).call(b.setClipUrl,r._clipId),o.order(),o.exit().remove();var s;o.each(function(t,a){var o=g.select(this),l=0===a,c=w.getFromId(e,t,"y"),d=c._name,f={data:[],layout:{xaxis:{type:n.type,domain:[0,1],range:r.range.slice(),calendar:n.calendar},width:r._width,height:r._height,margin:{t:0,b:0,l:0,r:0}}};f.layout[d]={type:c.type,domain:[0,1],range:c.range.slice(),calendar:c.calendar},m.supplyDefaults(f);var p=f._fullLayout.xaxis,h=f._fullLayout[d],v={id:t,plotgroup:o,xaxis:p,yaxis:h};l?s=v:(v.mainplot="xy",v.mainplotinfo=s),_.rangePlot(e,v,u(i,t))})}function u(t,e){for(var n=[],r=0;r<t.length;r++){var a=t[r],i=a[0].trace;i.xaxis+i.yaxis===e&&n.push(a)}return n}function d(t,e,n,r){var a=t.selectAll("rect."+A.maskMinClassName).data([0]);a.enter().append("rect").classed(A.maskMinClassName,!0).attr({x:0,y:0}).attr("shape-rendering","crispEdges"),a.attr("height",r._height).call(x.fill,A.maskColor);var i=t.selectAll("rect."+A.maskMaxClassName).data([0]);i.enter().append("rect").classed(A.maskMaxClassName,!0).attr("y",0).attr("shape-rendering","crispEdges"),i.attr("height",r._height).call(x.fill,A.maskColor)}function f(t,e,n,r){if(!e._context.staticPlot){var a=t.selectAll("rect."+A.slideBoxClassName).data([0]);a.enter().append("rect").classed(A.slideBoxClassName,!0).attr("y",0).attr("cursor",A.slideBoxCursor).attr("shape-rendering","crispEdges"),a.attr({height:r._height,fill:A.slideBoxFill})}}function p(t,e,n,r){var a=t.selectAll("g."+A.grabberMinClassName).data([0]);a.enter().append("g").classed(A.grabberMinClassName,!0);var i=t.selectAll("g."+A.grabberMaxClassName).data([0]);i.enter().append("g").classed(A.grabberMaxClassName,!0);var o={x:0,width:A.handleWidth,rx:A.handleRadius,fill:x.background,stroke:x.defaultLine,"stroke-width":A.handleStrokeWidth,"shape-rendering":"crispEdges"},s={y:Math.round(r._height/4),height:Math.round(r._height/2)},l=a.selectAll("rect."+A.handleMinClassName).data([0]);l.enter().append("rect").classed(A.handleMinClassName,!0).attr(o),l.attr(s);var c=i.selectAll("rect."+A.handleMaxClassName).data([0]);if(c.enter().append("rect").classed(A.handleMaxClassName,!0).attr(o),c.attr(s),!e._context.staticPlot){var u={width:A.grabAreaWidth,x:0,y:0,fill:A.grabAreaFill,cursor:A.grabAreaCursor},d=a.selectAll("rect."+A.grabAreaMinClassName).data([0]);d.enter().append("rect").classed(A.grabAreaMinClassName,!0).attr(u),d.attr("height",r._height);var f=i.selectAll("rect."+A.grabAreaMaxClassName).data([0]);f.enter().append("rect").classed(A.grabAreaMaxClassName,!0).attr(u),f.attr("height",r._height)}}function h(t){for(var e=t._fullLayout._pushmargin||{},n=Object.keys(e),r=0;r<n.length;r++){var a=n[r];-1!==a.indexOf(A.name)&&m.autoMargin(t,a)}}var g=t("d3"),v=t("../../plotly"),m=t("../../plots/plots"),y=t("../../lib"),b=t("../drawing"),x=t("../color"),_=t("../../plots/cartesian"),w=t("../../plots/cartesian/axes"),T=t("../dragelement"),k=t("../../lib/setcursor"),A=t("./constants");e.exports=function(t){function e(t){return t._name}var n=t._fullLayout,i=r(n),u=n._infolayer.selectAll("g."+A.containerClassName).data(i,e);u.enter().append("g").classed(A.containerClassName,!0).attr("pointer-events","all"),u.exit().each(function(t){var e=g.select(this),r=t[A.name]
;e.remove(),n._topdefs.select("#"+r._clipId).remove()}),u.exit().size()&&h(t),0!==i.length&&u.each(function(e){var r=g.select(this),i=e[A.name],u=n[w.id2name(e.anchor)],h=n.margin,v=n._size,y=e.domain,b=u.domain,x=(e._boundingBox||{}).height||0;i._id=A.name+e._id,i._clipId=i._id+"-"+n._uid,i._width=v.w*(y[1]-y[0]),i._height=(n.height-h.b-h.t)*i.thickness,i._offsetShift=Math.floor(i.borderwidth/2);var _=Math.round(h.l+v.w*y[0]),T=Math.round(h.t+v.h*(1-b[0])+x+i._offsetShift+A.extraPad);r.attr("transform","translate("+_+","+T+")");var k=e.r2l(i.range[0]),M=e.r2l(i.range[1]),C=M-k;i.p2d=function(t){return t/i._width*C+k},i.d2p=function(t){return(t-k)/C*i._width},i._rl=[k,M],r.call(s,t,e,i).call(l,t,e,i).call(c,t,e,i).call(d,t,e,i).call(f,t,e,i).call(p,t,e,i),a(r,t,e,i),o(r,t,e,i),m.autoMargin(t,i._id,{x:y[0],y:b[0],l:0,r:0,t:0,b:i._height+h.b+x,pad:A.extraPad+2*i._offsetShift})})}},{"../../lib":149,"../../lib/setcursor":167,"../../plotly":184,"../../plots/cartesian":199,"../../plots/cartesian/axes":189,"../../plots/plots":218,"../color":34,"../dragelement":55,"../drawing":58,"./constants":107,d3:7}],110:[function(t,e,n){"use strict";e.exports={moduleType:"component",name:"rangeslider",schema:{subplots:{xaxis:{rangeslider:t("./attributes")}}},layoutAttributes:t("./attributes"),handleDefaults:t("./defaults"),calcAutorange:t("./calc_autorange"),draw:t("./draw")}},{"./attributes":105,"./calc_autorange":106,"./defaults":108,"./draw":109}],111:[function(t,e,n){"use strict";var r=t("../annotations/attributes"),a=t("../../traces/scatter/attributes").line,i=t("../drawing/attributes").dash,o=t("../../lib/extend").extendFlat;e.exports={_isLinkedToArray:"shape",visible:{valType:"boolean",dflt:!0,editType:"calcIfAutorange"},type:{valType:"enumerated",values:["circle","rect","path","line"],editType:"calcIfAutorange"},layer:{valType:"enumerated",values:["below","above"],dflt:"above",editType:"arraydraw"},xref:o({},r.xref,{}),x0:{valType:"any",editType:"calcIfAutorange"},x1:{valType:"any",editType:"calcIfAutorange"},yref:o({},r.yref,{}),y0:{valType:"any",editType:"calcIfAutorange"},y1:{valType:"any",editType:"calcIfAutorange"},path:{valType:"string",editType:"calcIfAutorange"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"arraydraw"},line:{color:o({},a.color,{editType:"arraydraw"}),width:o({},a.width,{editType:"calcIfAutorange"}),dash:o({},i,{editType:"arraydraw"}),editType:"calcIfAutorange"},fillcolor:{valType:"color",dflt:"rgba(0,0,0,0)",editType:"arraydraw"},editType:"arraydraw"}},{"../../lib/extend":143,"../../traces/scatter/attributes":260,"../annotations/attributes":19,"../drawing/attributes":57}],112:[function(t,e,n){"use strict";function r(t,e,n,r,a){var i="category"===t.type?t.r2c:t.d2c;if(void 0!==e)return[i(e),i(n)];if(r){var l,c,u,d,f,p=1/0,h=-1/0,g=r.match(o.segmentRE);for("date"===t.type&&(i=s.decodeDate(i)),l=0;l<g.length;l++)c=g[l],void 0!==(u=a[c.charAt(0)].drawn)&&(!(d=g[l].substr(1).match(o.paramRE))||d.length<u||(f=i(d[u]),f<p&&(p=f),f>h&&(h=f)));return h>=p?[p,h]:void 0}}var a=t("../../lib"),i=t("../../plots/cartesian/axes"),o=t("./constants"),s=t("./helpers");e.exports=function(t){var e=t._fullLayout,n=a.filterVisible(e.shapes);if(n.length&&t._fullData.length)for(var s=0;s<n.length;s++){var l,c,u=n[s],d=u.line.width/2;"paper"!==u.xref&&(l=i.getFromId(t,u.xref),(c=r(l,u.x0,u.x1,u.path,o.paramIsX))&&i.expand(l,c,{ppad:d})),"paper"!==u.yref&&(l=i.getFromId(t,u.yref),(c=r(l,u.y0,u.y1,u.path,o.paramIsY))&&i.expand(l,c,{ppad:d}))}}},{"../../lib":149,"../../plots/cartesian/axes":189,"./constants":113,"./helpers":116}],113:[function(t,e,n){"use strict";e.exports={segmentRE:/[MLHVQCTSZ][^MLHVQCTSZ]*/g,paramRE:/[^\s,]+/g,paramIsX:{M:{0:!0,drawn:0},L:{0:!0,drawn:0},H:{0:!0,drawn:0},V:{},Q:{0:!0,2:!0,drawn:2},C:{0:!0,2:!0,4:!0,drawn:4},T:{0:!0,drawn:0},S:{0:!0,2:!0,drawn:2},Z:{}},paramIsY:{M:{1:!0,drawn:1},L:{1:!0,drawn:1},H:{},V:{0:!0,drawn:0},Q:{1:!0,3:!0,drawn:3},C:{1:!0,3:!0,5:!0,drawn:5},T:{1:!0,drawn:1},S:{1:!0,3:!0,drawn:5},Z:{}},numParams:{M:2,L:2,H:1,V:1,Q:4,C:6,T:2,S:4,Z:0}}},{}],114:[function(t,e,n){"use strict";var r=t("../../plots/array_container_defaults"),a=t("./shape_defaults");e.exports=function(t,e){r(t,e,{name:"shapes",handleItemDefaults:a})}},{"../../plots/array_container_defaults":186,"./shape_defaults":118}],115:[function(t,e,n){"use strict";function r(t){var e=t._fullLayout;e._shapeUpperLayer.selectAll("path").remove(),e._shapeLowerLayer.selectAll("path").remove(),e._shapeSubplotLayers.selectAll("path").remove();for(var n=0;n<e.shapes.length;n++)e.shapes[n].visible&&a(t,n)}function a(t,e){function n(n){var r={"data-index":e,"fill-rule":"evenodd",d:o(t,a)},s=a.line.width?a.line.color:"rgba(0,0,0,0)",l=n.append("path").attr(r).style("opacity",a.opacity).call(f.stroke,s).call(f.fill,a.fillcolor).call(p.dashLine,a.line.dash,a.line.width),c=(a.xref+a.yref).replace(/paper/g,"");l.call(p.setClipUrl,c?"clip"+t._fullLayout._uid+c:null),t._context.edits.shapePosition&&i(t,l,a,e)}t._fullLayout._paper.selectAll('.shapelayer [data-index="'+e+'"]').remove();var r=(t.layout.shapes||[])[e],a=t._fullLayout.shapes[e];if(r&&!1!==a.visible)if("below"!==a.layer)n(t._fullLayout._shapeUpperLayer);else if("paper"===a.xref||"paper"===a.yref)n(t._fullLayout._shapeLowerLayer);else{var s=t._fullLayout._plots[a.xref+a.yref];if(s){var l=s.mainplotinfo||s;n(l.shapelayer)}else n(t._fullLayout._shapeLowerLayer)}}function i(t,e,n,r){function a(t){var n=X.right-X.left,r=X.bottom-X.top,a=t.clientX-X.left,i=t.clientY-X.top,o=n>W&&r>G&&!t.shiftKey?h.getCursor(a/n,1-i/r):"move";g(e,o),U=o.split("-")[0]}function i(e){j=d.getFromId(t,n.xref),H=d.getFromId(t,n.yref),B=m.getDataToPixel(t,j),V=m.getDataToPixel(t,H,!0),q=m.getPixelToData(t,j),$=m.getPixelToData(t,H,!0);var i="shapes["+r+"]";"path"===n.type?(R=n.path,F=i+".path"):(v=B(n.x0),y=V(n.y0),b=B(n.x1),x=V(n.y1),_=i+".x0",w=i+".y0",T=i+".x1",k=i+".y1"),v<b?(C=v,O=i+".x0",N="x0",S=b,D=i+".x1",z="x1"):(C=b,O=i+".x1",N="x1",S=v,D=i+".x0",z="x0"),y<x?(A=y,E=i+".y0",I="y0",M=x,L=i+".y1",P="y1"):(A=x,E=i+".y1",I="y1",M=y,L=i+".y0",P="y0"),p={},a(e),Y.moveFn="move"===U?u:f}function s(n){g(e),n&&c.relayout(t,p)}function u(r,a){if("path"===n.type){var i=function(t){return q(B(t)+r)};j&&"date"===j.type&&(i=m.encodeDate(i));var s=function(t){return $(V(t)+a)};H&&"date"===H.type&&(s=m.encodeDate(s)),n.path=l(R,i,s),p[F]=n.path}else p[_]=n.x0=q(v+r),p[w]=n.y0=$(y+a),p[T]=n.x1=q(b+r),p[k]=n.y1=$(x+a);e.attr("d",o(t,n))}function f(r,a){if("path"===n.type){var i=function(t){return q(B(t)+r)};j&&"date"===j.type&&(i=m.encodeDate(i));var s=function(t){return $(V(t)+a)};H&&"date"===H.type&&(s=m.encodeDate(s)),n.path=l(R,i,s),p[F]=n.path}else{var c=~U.indexOf("n")?A+a:A,u=~U.indexOf("s")?M+a:M,d=~U.indexOf("w")?C+r:C,f=~U.indexOf("e")?S+r:S;u-c>G&&(p[E]=n[I]=$(c),p[L]=n[P]=$(u)),f-d>W&&(p[O]=n[N]=q(d),p[D]=n[z]=q(f))}e.attr("d",o(t,n))}var p,v,y,b,x,_,w,T,k,A,M,C,S,E,L,O,D,I,P,N,z,R,F,j,H,B,V,q,$,U,W=10,G=10,Y={element:e.node(),gd:t,prepFn:i,doneFn:s},X=Y.element.getBoundingClientRect();h.init(Y),e.node().onmousemove=a}function o(t,e){var n,r,a,i,o=e.type,l=d.getFromId(t,e.xref),c=d.getFromId(t,e.yref),u=t._fullLayout._size;if(l?(n=m.shapePositionToRange(l),r=function(t){return l._offset+l.r2p(n(t,!0))}):r=function(t){return u.l+u.w*t},c?(a=m.shapePositionToRange(c),i=function(t){return c._offset+c.r2p(a(t,!0))}):i=function(t){return u.t+u.h*(1-t)},"path"===o)return l&&"date"===l.type&&(r=m.decodeDate(r)),c&&"date"===c.type&&(i=m.decodeDate(i)),s(e.path,r,i);var f=r(e.x0),p=r(e.x1),h=i(e.y0),g=i(e.y1);if("line"===o)return"M"+f+","+h+"L"+p+","+g;if("rect"===o)return"M"+f+","+h+"H"+p+"V"+g+"H"+f+"Z";var v=(f+p)/2,y=(h+g)/2,b=Math.abs(v-f),x=Math.abs(y-h),_="A"+b+","+x,w=v+b+","+y;return"M"+w+_+" 0 1,1 "+v+","+(y-x)+_+" 0 0,1 "+w+"Z"}function s(t,e,n){return t.replace(v.segmentRE,function(t){var r=0,a=t.charAt(0),i=v.paramIsX[a],o=v.paramIsY[a],s=v.numParams[a],l=t.substr(1).replace(v.paramRE,function(t){return i[r]?t=e(t):o[r]&&(t=n(t)),r++,r>s&&(t="X"),t});return r>s&&(l=l.replace(/[\s,]*X.*/,""),u.log("Ignoring extra params in segment "+t)),a+l})}function l(t,e,n){return t.replace(v.segmentRE,function(t){var r=0,a=t.charAt(0),i=v.paramIsX[a],o=v.paramIsY[a],s=v.numParams[a];return a+t.substr(1).replace(v.paramRE,function(t){return r>=s?t:(i[r]?t=e(t):o[r]&&(t=n(t)),r++,t)})})}var c=t("../../plotly"),u=t("../../lib"),d=t("../../plots/cartesian/axes"),f=t("../color"),p=t("../drawing"),h=t("../dragelement"),g=t("../../lib/setcursor"),v=t("./constants"),m=t("./helpers");e.exports={draw:r,drawOne:a}},{"../../lib":149,"../../lib/setcursor":167,"../../plotly":184,"../../plots/cartesian/axes":189,"../color":34,"../dragelement":55,"../drawing":58,"./constants":113,"./helpers":116}],116:[function(t,e,n){"use strict";n.rangeToShapePosition=function(t){return"log"===t.type?t.r2d:function(t){return t}},n.shapePositionToRange=function(t){return"log"===t.type?t.d2r:function(t){return t}},n.decodeDate=function(t){return function(e){return e.replace&&(e=e.replace("_"," ")),t(e)}},n.encodeDate=function(t){return function(e){return t(e).replace(" ","_")}},n.getDataToPixel=function(t,e,r){var a,i=t._fullLayout._size;if(e){var o=n.shapePositionToRange(e);a=function(t){return e._offset+e.r2p(o(t,!0))},"date"===e.type&&(a=n.decodeDate(a))}else a=r?function(t){return i.t+i.h*(1-t)}:function(t){return i.l+i.w*t};return a},n.getPixelToData=function(t,e,r){var a,i=t._fullLayout._size;if(e){var o=n.rangeToShapePosition(e);a=function(t){return o(e.p2r(t-e._offset))}}else a=r?function(t){return 1-(t-i.t)/i.h}:function(t){return(t-i.l)/i.w};return a}},{}],117:[function(t,e,n){"use strict";var r=t("./draw");e.exports={moduleType:"component",name:"shapes",layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),calcAutorange:t("./calc_autorange"),draw:r.draw,drawOne:r.drawOne}},{"./attributes":111,"./calc_autorange":112,"./defaults":114,"./draw":115}],118:[function(t,e,n){"use strict";var r=t("../../lib"),a=t("../../plots/cartesian/axes"),i=t("./attributes"),o=t("./helpers");e.exports=function(t,e,n,s,l){function c(n,a){return r.coerce(t,e,i,n,a)}if(s=s||{},l=l||{},!c("visible",!l.itemIsNotPlainObject))return e;c("layer"),c("opacity"),c("fillcolor"),c("line.color"),c("line.width"),c("line.dash");for(var u=t.path?"path":"rect",d=c("type",u),f=["x","y"],p=0;p<2;p++){var h=f[p],g={_fullLayout:n},v=a.coerceRef(t,e,g,h,"","paper");if("path"!==d){var m,y,b;"paper"!==v?(m=a.getFromId(g,v),b=o.rangeToShapePosition(m),y=o.shapePositionToRange(m)):y=b=r.identity;var x=h+"0",_=h+"1",w=t[x],T=t[_];t[x]=y(t[x],!0),t[_]=y(t[_],!0),a.coercePosition(e,g,c,v,x,.25),a.coercePosition(e,g,c,v,_,.75),e[x]=b(e[x]),e[_]=b(e[_]),t[x]=w,t[_]=T}}return"path"===d?c("path"):r.noneOrAll(t,e,["x0","x1","y0","y1"]),e}},{"../../lib":149,"../../plots/cartesian/axes":189,"./attributes":111,"./helpers":116}],119:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),a=t("../../plots/pad_attributes"),i=t("../../lib/extend").extendDeepAll,o=t("../../plot_api/edit_types").overrideAll,s=t("../../plots/animation_attributes"),l=t("./constants"),c={_isLinkedToArray:"step",method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string"},value:{valType:"string"},execute:{valType:"boolean",dflt:!0}};e.exports=o({_isLinkedToArray:"slider",visible:{valType:"boolean",dflt:!0},active:{valType:"number",min:0,dflt:0},steps:c,lenmode:{valType:"enumerated",values:["fraction","pixels"],dflt:"fraction"},len:{valType:"number",min:0,dflt:1},x:{valType:"number",min:-2,max:3,dflt:0},pad:i({},a,{},{t:{dflt:20}}),xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"left"},y:{valType:"number",min:-2,max:3,dflt:0},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},transition:{duration:{valType:"number",min:0,dflt:150},easing:{valType:"enumerated",values:s.transition.easing.values,dflt:"cubic-in-out"}},currentvalue:{visible:{valType:"boolean",dflt:!0},xanchor:{valType:"enumerated",values:["left","center","right"],dflt:"left"},offset:{valType:"number",dflt:10},prefix:{valType:"string"},suffix:{valType:"string"},font:r({})},font:r({}),activebgcolor:{valType:"color",dflt:l.gripBgActiveColor},bgcolor:{valType:"color",dflt:l.railBgColor},bordercolor:{valType:"color",dflt:l.railBorderColor},borderwidth:{valType:"number",min:0,dflt:l.railBorderWidth},ticklen:{valType:"number",min:0,dflt:l.tickLength},tickcolor:{valType:"color",dflt:l.tickColor},tickwidth:{valType:"number",min:0,dflt:1},minorticklen:{valType:"number",min:0,dflt:l.minorTickLength}},"arraydraw","from-root")},{"../../lib/extend":143,"../../plot_api/edit_types":173,"../../plots/animation_attributes":185,"../../plots/font_attributes":213,"../../plots/pad_attributes":217,"./constants":120}],120:[function(t,e,n){"use strict";e.exports={name:"sliders",containerClassName:"slider-container",groupClassName:"slider-group",inputAreaClass:"slider-input-area",railRectClass:"slider-rail-rect",railTouchRectClass:"slider-rail-touch-rect",gripRectClass:"slider-grip-rect",tickRectClass:"slider-tick-rect",inputProxyClass:"slider-input-proxy",labelsClass:"slider-labels",labelGroupClass:"slider-label-group",labelClass:"slider-label",currentValueClass:"slider-current-value",railHeight:5,menuIndexAttrName:"slider-active-index",autoMarginIdRoot:"slider-",minWidth:30,minHeight:30,textPadX:40,arrowOffsetX:4,railRadius:2,railWidth:5,railBorder:4,railBorderWidth:1,railBorderColor:"#bec8d9",railBgColor:"#f8fafc",railInset:8,stepInset:10,gripRadius:10,gripWidth:20,gripHeight:20,gripBorder:20,gripBorderWidth:1,gripBorderColor:"#bec8d9",gripBgColor:"#f6f8fa",gripBgActiveColor:"#dbdde0",labelPadding:8,labelOffset:0,tickWidth:1,tickColor:"#333",tickOffset:25,tickLength:7,minorTickOffset:25,minorTickColor:"#333",minorTickLength:4,currentValuePadding:8,currentValueInset:0}},{}],121:[function(t,e,n){"use strict";function r(t,e,n){function r(n,r){return i.coerce(t,e,s,n,r)}r("visible",a(t,e).length>0)&&(r("active"),r("x"),r("y"),i.noneOrAll(t,e,["x","y"]),r("xanchor"),r("yanchor"),r("len"),r("lenmode"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),i.coerceFont(r,"font",n.font),r("currentvalue.visible")&&(r("currentvalue.xanchor"),r("currentvalue.prefix"),r("currentvalue.suffix"),r("currentvalue.offset"),i.coerceFont(r,"currentvalue.font",e.font)),r("transition.duration"),r("transition.easing"),r("bgcolor"),r("activebgcolor"),r("bordercolor"),r("borderwidth"),r("ticklen"),r("tickwidth"),r("tickcolor"),r("minorticklen"))}function a(t,e){function n(t,e){return i.coerce(r,a,u,t,e)}for(var r,a,o=t.steps||[],s=e.steps=[],l=0;l<o.length;l++)r=o[l],a={},n("method"),i.isPlainObject(r)&&("skip"===a.method||Array.isArray(r.args))&&(n("args"),n("label","step-"+l),n("value",a.label),n("execute"),s.push(a));return s}var i=t("../../lib"),o=t("../../plots/array_container_defaults"),s=t("./attributes"),l=t("./constants"),c=l.name,u=s.steps;e.exports=function(t,e){o(t,e,{name:c,handleItemDefaults:r})}},{"../../lib":149,"../../plots/array_container_defaults":186,"./attributes":119,"./constants":120}],122:[function(t,e,n){"use strict";function r(t,e){for(var n=t[S.name],r=[],a=0;a<n.length;a++){var i=n[a];i.visible&&i.steps.length&&(i.gd=e,r.push(i))}return r}function a(t){return t._index}function i(t,e){var n=A.tester.selectAll("g."+S.labelGroupClass).data(e.steps);n.enter().append("g").classed(S.labelGroupClass,!0);var r=0,a=0;n.each(function(t){var n=w.select(this),i=c(n,{step:t},e),o=i.node();if(o){var s=A.bBox(o);a=Math.max(a,s.height),r=Math.max(r,s.width)}}),n.remove(),e.inputAreaWidth=Math.max(S.railWidth,S.gripHeight);var i=t._fullLayout._size;e.lx=i.l+i.w*e.x,e.ly=i.t+i.h*(1-e.y),"fraction"===e.lenmode?e.outerLength=Math.round(i.w*e.len):e.outerLength=e.len,e.lenPad=Math.round(.5*S.gripWidth),e.inputAreaStart=0,e.inputAreaLength=Math.round(e.outerLength-e.pad.l-e.pad.r);var o=e.inputAreaLength-2*S.stepInset,l=o/(e.steps.length-1),u=r+S.labelPadding;if(e.labelStride=Math.max(1,Math.ceil(u/l)),e.labelHeight=a,e.currentValueMaxWidth=0,e.currentValueHeight=0,e.currentValueTotalHeight=0,e.currentValueMaxLines=1,e.currentvalue.visible){var d=A.tester.append("g");n.each(function(t){var n=s(d,e,t.label),r=n.node()&&A.bBox(n.node())||{width:0,height:0},a=M.lineCount(n);e.currentValueMaxWidth=Math.max(e.currentValueMaxWidth,Math.ceil(r.width)),e.currentValueHeight=Math.max(e.currentValueHeight,Math.ceil(r.height)),e.currentValueMaxLines=Math.max(e.currentValueMaxLines,a)}),e.currentValueTotalHeight=e.currentValueHeight+e.currentvalue.offset,d.remove()}e.height=e.currentValueTotalHeight+S.tickOffset+e.ticklen+S.labelOffset+e.labelHeight+e.pad.t+e.pad.b;var f="left";C.isRightAnchor(e)&&(e.lx-=e.outerLength,f="right"),C.isCenterAnchor(e)&&(e.lx-=e.outerLength/2,f="center");var p="top";C.isBottomAnchor(e)&&(e.ly-=e.height,p="bottom"),C.isMiddleAnchor(e)&&(e.ly-=e.height/2,p="middle"),e.outerLength=Math.ceil(e.outerLength),e.height=Math.ceil(e.height),e.lx=Math.round(e.lx),e.ly=Math.round(e.ly),T.autoMargin(t,S.autoMarginIdRoot+e._index,{x:e.x,y:e.y,l:e.outerLength*({right:1,center:.5}[f]||0),r:e.outerLength*({left:1,center:.5}[f]||0),b:e.height*({top:1,middle:.5}[p]||0),t:e.height*({bottom:1,middle:.5}[p]||0)})}function o(t,e,n){n.active>=n.steps.length&&(n.active=0),e.call(s,n).call(x,n).call(u,n).call(h,n).call(b,t,n).call(l,t,n),A.setTranslate(e,n.lx+n.pad.l,n.ly+n.pad.t),e.call(v,n,n.active/(n.steps.length-1),!1),e.call(s,n)}function s(t,e,n){if(e.currentvalue.visible){var r,a,i=t.selectAll("text").data([0]);switch(e.currentvalue.xanchor){case"right":r=e.inputAreaLength-S.currentValueInset-e.currentValueMaxWidth,a="left";break;case"center":r=.5*e.inputAreaLength,a="middle";break;default:r=S.currentValueInset,a="left"}i.enter().append("text").classed(S.labelClass,!0).classed("user-select-none",!0).attr({"text-anchor":a,"data-notex":1});var o=e.currentvalue.prefix?e.currentvalue.prefix:"";o+="string"==typeof n?n:e.steps[e.active].label,e.currentvalue.suffix&&(o+=e.currentvalue.suffix),i.call(A.font,e.currentvalue.font).text(o).call(M.convertToTspans,e.gd);var s=M.lineCount(i),l=(e.currentValueMaxLines+1-s)*e.currentvalue.font.size*E;return M.positionText(i,r,l),i}}function l(t,e,n){var r=t.selectAll("rect."+S.gripRectClass).data([0]);r.enter().append("rect").classed(S.gripRectClass,!0).call(p,e,t,n).style("pointer-events","all"),r.attr({width:S.gripWidth,height:S.gripHeight,rx:S.gripRadius,ry:S.gripRadius}).call(k.stroke,n.bordercolor).call(k.fill,n.bgcolor).style("stroke-width",n.borderwidth+"px")}function c(t,e,n){var r=t.selectAll("text").data([0]);return r.enter().append("text").classed(S.labelClass,!0).classed("user-select-none",!0).attr({"text-anchor":"middle","data-notex":1}),r.call(A.font,n.font).text(e.step.label).call(M.convertToTspans,n.gd),r}function u(t,e){var n=t.selectAll("g."+S.labelsClass).data([0]);n.enter().append("g").classed(S.labelsClass,!0);var r=n.selectAll("g."+S.labelGroupClass).data(e.labelSteps);r.enter().append("g").classed(S.labelGroupClass,!0),r.exit().remove(),r.each(function(t){var n=w.select(this);n.call(c,t,e),A.setTranslate(n,m(e,t.fraction),S.tickOffset+e.ticklen+e.font.size*E+S.labelOffset+e.currentValueTotalHeight)})}function d(t,e,n,r,a){var i=Math.round(r*(n.steps.length-1));i!==n.active&&f(t,e,n,i,!0,a)}function f(t,e,n,r,a,i){var o=n.active;n._input.active=n.active=r;var l=n.steps[n.active];e.call(v,n,n.active/(n.steps.length-1),i),e.call(s,n),t.emit("plotly_sliderchange",{slider:n,step:n.steps[n.active],interaction:a,previousActive:o}),l&&l.method&&a&&(e._nextMethod?(e._nextMethod.step=l,e._nextMethod.doCallback=a,e._nextMethod.doTransition=i):(e._nextMethod={step:l,doCallback:a,doTransition:i},e._nextMethodRaf=window.requestAnimationFrame(function(){var n=e._nextMethod.step;n.method&&(n.execute&&T.executeAPICommand(t,n.method,n.args),e._nextMethod=null,e._nextMethodRaf=null)})))}function p(t,e,n){function r(){return n.data()[0]}var a=n.node(),i=w.select(e);t.on("mousedown",function(){var t=r();e.emit("plotly_sliderstart",{slider:t});var o=n.select("."+S.gripRectClass);w.event.stopPropagation(),w.event.preventDefault(),o.call(k.fill,t.activebgcolor);var s=y(t,w.mouse(a)[0]);d(e,n,t,s,!0),t._dragging=!0,i.on("mousemove",function(){var t=r(),i=y(t,w.mouse(a)[0]);d(e,n,t,i,!1)}),i.on("mouseup",function(){var t=r();t._dragging=!1,o.call(k.fill,t.bgcolor),i.on("mouseup",null),i.on("mousemove",null),e.emit("plotly_sliderend",{slider:t,step:t.steps[t.active]})})})}function h(t,e){var n=t.selectAll("rect."+S.tickRectClass).data(e.steps);n.enter().append("rect").classed(S.tickRectClass,!0),n.exit().remove(),n.attr({width:e.tickwidth+"px","shape-rendering":"crispEdges"}),n.each(function(t,n){var r=n%e.labelStride==0,a=w.select(this);a.attr({height:r?e.ticklen:e.minorticklen}).call(k.fill,e.tickcolor),A.setTranslate(a,m(e,n/(e.steps.length-1))-.5*e.tickwidth,(r?S.tickOffset:S.minorTickOffset)+e.currentValueTotalHeight)})}function g(t){t.labelSteps=[];for(var e=t.steps.length,n=0;n<e;n+=t.labelStride)t.labelSteps.push({fraction:n/(e-1),step:t.steps[n]})}function v(t,e,n,r){var a=t.select("rect."+S.gripRectClass),i=m(e,n);if(!e._invokingCommand){var o=a;r&&e.transition.duration>0&&(o=o.transition().duration(e.transition.duration).ease(e.transition.easing)),o.attr("transform","translate("+(i-.5*S.gripWidth)+","+e.currentValueTotalHeight+")")}}function m(t,e){return t.inputAreaStart+S.stepInset+(t.inputAreaLength-2*S.stepInset)*Math.min(1,Math.max(0,e))}function y(t,e){return Math.min(1,Math.max(0,(e-S.stepInset-t.inputAreaStart)/(t.inputAreaLength-2*S.stepInset-2*t.inputAreaStart)))}function b(t,e,n){var r=t.selectAll("rect."+S.railTouchRectClass).data([0]);r.enter().append("rect").classed(S.railTouchRectClass,!0).call(p,e,t,n).style("pointer-events","all"),r.attr({width:n.inputAreaLength,height:Math.max(n.inputAreaWidth,S.tickOffset+n.ticklen+n.labelHeight)}).call(k.fill,n.bgcolor).attr("opacity",0),A.setTranslate(r,0,n.currentValueTotalHeight)}function x(t,e){var n=t.selectAll("rect."+S.railRectClass).data([0]);n.enter().append("rect").classed(S.railRectClass,!0);var r=e.inputAreaLength-2*S.railInset;n.attr({width:r,height:S.railWidth,rx:S.railRadius,ry:S.railRadius,"shape-rendering":"crispEdges"}).call(k.stroke,e.bordercolor).call(k.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px"),A.setTranslate(n,S.railInset,.5*(e.inputAreaWidth-S.railWidth)+e.currentValueTotalHeight)}function _(t){for(var e=t._fullLayout._pushmargin||{},n=Object.keys(e),r=0;r<n.length;r++){var a=n[r];-1!==a.indexOf(S.autoMarginIdRoot)&&T.autoMargin(t,a)}}var w=t("d3"),T=t("../../plots/plots"),k=t("../color"),A=t("../drawing"),M=t("../../lib/svg_text_utils"),C=t("../legend/anchor_utils"),S=t("./constants"),E=t("../../constants/alignment").LINE_SPACING;e.exports=function(t){var e=t._fullLayout,n=r(e,t),s=e._infolayer.selectAll("g."+S.containerClassName).data(n.length>0?[0]:[]);if(s.enter().append("g").classed(S.containerClassName,!0).style("cursor","ew-resize"),s.exit().remove(),s.exit().size()&&_(t),0!==n.length){var l=s.selectAll("g."+S.groupClassName).data(n,a);l.enter().append("g").classed(S.groupClassName,!0),l.exit().each(function(e){w.select(this).remove(),e._commandObserver.remove(),delete e._commandObserver,T.autoMargin(t,S.autoMarginIdRoot+e._index)});for(var c=0;c<n.length;c++){var u=n[c];i(t,u)}l.each(function(e){if(!(e.steps.length<2)){var n=w.select(this);g(e),T.manageCommandObserver(t,e,e.steps,function(e){var r=n.data()[0];r.active!==e.index&&(r._dragging||f(t,n,r,e.index,!1,!0))}),o(t,w.select(this),e)}})}}},{"../../constants/alignment":131,"../../lib/svg_text_utils":169,"../../plots/plots":218,"../color":34,"../drawing":58,"../legend/anchor_utils":84,"./constants":120,d3:7}],123:[function(t,e,n){"use strict";var r=t("./constants");e.exports={moduleType:"component",name:r.name,layoutAttributes:t("./attributes"),supplyLayoutDefaults:t("./defaults"),draw:t("./draw")}},{"./attributes":119,"./constants":120,"./defaults":121,"./draw":122}],124:[function(t,e,n){"use strict";var r=t("d3"),a=t("fast-isnumeric"),i=t("../../plotly"),o=t("../../plots/plots"),s=t("../../lib"),l=t("../drawing"),c=t("../color"),u=t("../../lib/svg_text_utils"),d=t("../../constants/interactions"),f=/Click to enter .+ title/;(e.exports={}).draw=function(t,e,n){function p(t){s.syncOrAsync([h,g],t)}function h(e){return e.attr("transform",T?"rotate("+[T.rotate,w.x,w.y]+") translate(0, "+T.offset+")":null),e.style({"font-family":M,"font-size":r.round(C,2)+"px",fill:c.rgb(S),opacity:E*c.opacity(S),"font-weight":o.fontWeight}).attr(w).call(u.convertToTspans,t),o.previousPromises(t)}function g(t){var e=r.select(t.node().parentNode);if(_&&_.selection&&_.side&&O){e.attr("transform",null);var n=0,i={left:"right",right:"left",top:"bottom",bottom:"top"}[_.side],o=-1!==["left","top"].indexOf(_.side)?-1:1,c=a(_.pad)?_.pad:2,u=l.bBox(e.node()),d={left:0,top:0,right:A.width,bottom:A.height},f=_.maxShift||(d[_.side]-u[_.side])*("left"===_.side||"top"===_.side?-1:1);if(f<0)n=f;else{var p=_.offsetLeft||0,h=_.offsetTop||0;u.left-=p,u.right-=p,u.top-=h,u.bottom-=h,_.selection.each(function(){var t=l.bBox(this);s.bBoxIntersect(u,t,c)&&(n=Math.max(n,o*(t[_.side]-u[i])+c))}),n=Math.min(f,n)}if(n>0||f<0){var g={left:[-n,0],right:[n,0],top:[0,-n],bottom:[0,n]}[_.side];e.attr("transform","translate("+g+")")}}}var v,m=n.propContainer,y=n.propName,b=n.traceIndex,x=n.dfltName,_=n.avoid||{},w=n.attributes,T=n.transform,k=n.containerGroup,A=t._fullLayout,M=m.titlefont.family,C=m.titlefont.size,S=m.titlefont.color,E=1,L=!1,O=m.title.trim();"title"===y?v="titleText":-1!==y.indexOf("axis")?v="axisTitleText":y.indexOf(!0)&&(v="colorbarTitleText");var D=t._context.edits[v];""===O&&(E=0),O.match(f)&&(E=.2,L=!0,D||(O=""));var I=O||D;k||(k=A._infolayer.selectAll(".g-"+e).data([0]),k.enter().append("g").classed("g-"+e,!0));var P=k.selectAll("text").data(I?[0]:[]);if(P.enter().append("text"),P.text(O).attr("class",e),P.exit().remove(),I){P.call(p);var N="Click to enter "+x+" title";D&&(O?P.on(".opacity",null):function(){E=0,L=!0,O=N,P.text(O).on("mouseover.opacity",function(){r.select(this).transition().duration(d.SHOW_PLACEHOLDER).style("opacity",1)}).on("mouseout.opacity",function(){r.select(this).transition().duration(d.HIDE_PLACEHOLDER).style("opacity",0)})}(),P.call(u.makeEditable,{gd:t}).on("edit",function(e){void 0!==b?i.restyle(t,y,e,b):i.relayout(t,y,e)}).on("cancel",function(){this.text(this.attr("data-unformatted")).call(p)}).on("input",function(t){this.text(t||" ").call(u.positionText,w.x,w.y)})),P.classed("js-placeholder",L)}}},{"../../constants/interactions":132,"../../lib":149,"../../lib/svg_text_utils":169,"../../plotly":184,"../../plots/plots":218,"../color":34,"../drawing":58,d3:7,"fast-isnumeric":10}],125:[function(t,e,n){"use strict";var r=t("../../plots/font_attributes"),a=t("../color/attributes"),i=t("../../lib/extend").extendFlat,o=t("../../plot_api/edit_types").overrideAll,s=t("../../plots/pad_attributes"),l={_isLinkedToArray:"button",method:{valType:"enumerated",values:["restyle","relayout","animate","update","skip"],dflt:"restyle"},args:{valType:"info_array",freeLength:!0,items:[{valType:"any"},{valType:"any"},{valType:"any"}]},label:{valType:"string",dflt:""},execute:{valType:"boolean",dflt:!0}};e.exports=o({_isLinkedToArray:"updatemenu",_arrayAttrRegexps:[/^updatemenus\[(0|[1-9][0-9]+)\]\.buttons/],visible:{valType:"boolean"},type:{valType:"enumerated",values:["dropdown","buttons"],dflt:"dropdown"},direction:{valType:"enumerated",values:["left","right","up","down"],dflt:"down"},active:{valType:"integer",min:-1,dflt:0},showactive:{valType:"boolean",dflt:!0},buttons:l,x:{valType:"number",min:-2,max:3,dflt:-.05},xanchor:{valType:"enumerated",values:["auto","left","center","right"],dflt:"right"},y:{valType:"number",min:-2,max:3,dflt:1},yanchor:{valType:"enumerated",values:["auto","top","middle","bottom"],dflt:"top"},pad:i({},s,{}),font:r({}),bgcolor:{valType:"color"},bordercolor:{valType:"color",dflt:a.borderLine},borderwidth:{valType:"number",min:0,dflt:1,editType:"arraydraw"}},"arraydraw","from-root")},{"../../lib/extend":143,"../../plot_api/edit_types":173,"../../plots/font_attributes":213,"../../plots/pad_attributes":217,"../color/attributes":33}],126:[function(t,e,n){"use strict";e.exports={name:"updatemenus",containerClassName:"updatemenu-container",headerGroupClassName:"updatemenu-header-group",headerClassName:"updatemenu-header",headerArrowClassName:"updatemenu-header-arrow",dropdownButtonGroupClassName:"updatemenu-dropdown-button-group",dropdownButtonClassName:"updatemenu-dropdown-button",buttonClassName:"updatemenu-button",itemRectClassName:"updatemenu-item-rect",itemTextClassName:"updatemenu-item-text",menuIndexAttrName:"updatemenu-active-index",autoMarginIdRoot:"updatemenu-",blankHeaderOpts:{label:"  "},minWidth:30,minHeight:30,textPadX:24,arrowPadX:16,rx:2,ry:2,textOffsetX:12,textOffsetY:3,arrowOffsetX:4,gapButtonHeader:5,gapButton:2,activeColor:"#F4FAFF",hoverColor:"#F4FAFF",arrowSymbol:{left:"",right:"",up:"",down:""}}},{}],127:[function(t,e,n){"use strict";function r(t,e,n){function r(n,r){return i.coerce(t,e,s,n,r)}r("visible",a(t,e).length>0)&&(r("active"),r("direction"),r("type"),r("showactive"),r("x"),r("y"),i.noneOrAll(t,e,["x","y"]),r("xanchor"),r("yanchor"),r("pad.t"),r("pad.r"),r("pad.b"),r("pad.l"),i.coerceFont(r,"font",n.font),r("bgcolor",n.paper_bgcolor),r("bordercolor"),r("borderwidth"))}function a(t,e){function n(t,e){return i.coerce(r,a,u,t,e)}for(var r,a,o=t.buttons||[],s=e.buttons=[],l=0;l<o.length;l++)r=o[l],a={},n("method"),i.isPlainObject(r)&&("skip"===a.method||Array.isArray(r.args))&&(n("args"),n("label"),n("execute"),a._index=l,s.push(a));return s}var i=t("../../lib"),o=t("../../plots/array_container_defaults"),s=t("./attributes"),l=t("./constants"),c=l.name,u=s.buttons;e.exports=function(t,e){o(t,e,{name:c,handleItemDefaults:r})}},{"../../lib":149,"../../plots/array_container_defaults":186,"./attributes":125,"./constants":126}],128:[function(t,e,n){"use strict";function r(t){for(var e=t[E.name],n=[],r=0;r<e.length;r++){var a=e[r];a.visible&&n.push(a)}return n}function a(t){return t._index}function i(t){return-1==+t.attr(E.menuIndexAttrName)}function o(t,e){return+t.attr(E.menuIndexAttrName)===e._index}function s(t,e,n,r,a,i,o,s){e._input.active=e.active=o,"buttons"===e.type?c(t,r,null,null,e):"dropdown"===e.type&&(a.attr(E.menuIndexAttrName,"-1"),l(t,r,a,i,e),s||c(t,r,a,i,e))}function l(t,e,n,r,a){var i=e.selectAll("g."+E.headerClassName).data([0]);i.enter().append("g").classed(E.headerClassName,!0).style("pointer-events","all");var s=a.active,l=a.buttons[s]||E.blankHeaderOpts,u={y:a.pad.t,yPad:0,x:a.pad.l,xPad:0,index:0},d={width:a.headerWidth,height:a.headerHeight};i.call(f,a,l,t).call(b,a,u,d);var p=e.selectAll("text."+E.headerArrowClassName).data([0]);p.enter().append("text").classed(E.headerArrowClassName,!0).classed("user-select-none",!0).attr("text-anchor","end").call(A.font,a.font).text(E.arrowSymbol[a.direction]),p.attr({x:a.headerWidth-E.arrowOffsetX+a.pad.l,y:a.headerHeight/2+E.textOffsetY+a.pad.t}),i.on("click",function(){n.call(x),n.attr(E.menuIndexAttrName,o(n,a)?-1:String(a._index)),c(t,e,n,r,a)}),i.on("mouseover",function(){i.call(v)}),i.on("mouseout",function(){i.call(m,a)}),A.setTranslate(e,a.lx,a.ly)}function c(t,e,n,r,a){n||(n=e,n.attr("pointer-events","all"));var o=i(n)&&"buttons"!==a.type?[]:a.buttons,l="dropdown"===a.type?E.dropdownButtonClassName:E.buttonClassName,c=n.selectAll("g."+l).data(o),p=c.enter().append("g").classed(l,!0),h=c.exit();"dropdown"===a.type?(p.attr("opacity","0").transition().attr("opacity","1"),h.transition().attr("opacity","0").remove()):h.remove();var y=0,x=0,_=-1!==["up","down"].indexOf(a.direction)
;"dropdown"===a.type&&(_?x=a.headerHeight+E.gapButtonHeader:y=a.headerWidth+E.gapButtonHeader),"dropdown"===a.type&&"up"===a.direction&&(x=-E.gapButtonHeader+E.gapButton-a.openHeight),"dropdown"===a.type&&"left"===a.direction&&(y=-E.gapButtonHeader+E.gapButton-a.openWidth);var k={x:a.lx+y+a.pad.l,y:a.ly+x+a.pad.t,yPad:E.gapButton,xPad:E.gapButton,index:0},A={l:k.x+a.borderwidth,t:k.y+a.borderwidth};c.each(function(i,o){var l=w.select(this);l.call(f,a,i,t).call(b,a,k),l.on("click",function(){w.event.defaultPrevented||(s(t,a,i,e,n,r,o),i.execute&&T.executeAPICommand(t,i.method,i.args),t.emit("plotly_buttonclicked",{menu:a,button:i,active:a.active}))}),l.on("mouseover",function(){l.call(v)}),l.on("mouseout",function(){l.call(m,a),c.call(g,a)})}),c.call(g,a),_?(A.w=Math.max(a.openWidth,a.headerWidth),A.h=k.y-A.t):(A.w=k.x-A.l,A.h=Math.max(a.openHeight,a.headerHeight)),A.direction=a.direction,r&&(c.size()?u(t,e,n,r,a,A):d(r))}function u(t,e,n,r,a,i){var o,s,l,c=a.direction,u="up"===c||"down"===c,d=a.active;if(u)for(s=0,l=0;l<d;l++)s+=a.heights[l]+E.gapButton;else for(o=0,l=0;l<d;l++)o+=a.widths[l]+E.gapButton;r.enable(i,o,s),r.hbar&&r.hbar.attr("opacity","0").transition().attr("opacity","1"),r.vbar&&r.vbar.attr("opacity","0").transition().attr("opacity","1")}function d(t){var e=!!t.hbar,n=!!t.vbar;e&&t.hbar.transition().attr("opacity","0").each("end",function(){e=!1,n||t.disable()}),n&&t.vbar.transition().attr("opacity","0").each("end",function(){n=!1,e||t.disable()})}function f(t,e,n,r){t.call(p,e).call(h,e,n,r)}function p(t,e){var n=t.selectAll("rect").data([0]);n.enter().append("rect").classed(E.itemRectClassName,!0).attr({rx:E.rx,ry:E.ry,"shape-rendering":"crispEdges"}),n.call(k.stroke,e.bordercolor).call(k.fill,e.bgcolor).style("stroke-width",e.borderwidth+"px")}function h(t,e,n,r){var a=t.selectAll("text").data([0]);a.enter().append("text").classed(E.itemTextClassName,!0).classed("user-select-none",!0).attr({"text-anchor":"start","data-notex":1}),a.call(A.font,e.font).text(n.label).call(M.convertToTspans,r)}function g(t,e){var n=e.active;t.each(function(t,r){var a=w.select(this);r===n&&e.showactive&&a.select("rect."+E.itemRectClassName).call(k.fill,E.activeColor)})}function v(t){t.select("rect."+E.itemRectClassName).call(k.fill,E.hoverColor)}function m(t,e){t.select("rect."+E.itemRectClassName).call(k.fill,e.bgcolor)}function y(t,e){e.width1=0,e.height1=0,e.heights=[],e.widths=[],e.totalWidth=0,e.totalHeight=0,e.openWidth=0,e.openHeight=0,e.lx=0,e.ly=0;var n=A.tester.selectAll("g."+E.dropdownButtonClassName).data(e.buttons);n.enter().append("g").classed(E.dropdownButtonClassName,!0);var r=-1!==["up","down"].indexOf(e.direction);n.each(function(n,a){var i=w.select(this);i.call(f,e,n,t);var o=i.select("."+E.itemTextClassName),s=o.node()&&A.bBox(o.node()).width,l=Math.max(s+E.textPadX,E.minWidth),c=e.font.size*S,u=M.lineCount(o),d=Math.max(c*u,E.minHeight)+E.textOffsetY;d=Math.ceil(d),l=Math.ceil(l),e.widths[a]=l,e.heights[a]=d,e.height1=Math.max(e.height1,d),e.width1=Math.max(e.width1,l),r?(e.totalWidth=Math.max(e.totalWidth,l),e.openWidth=e.totalWidth,e.totalHeight+=d+E.gapButton,e.openHeight+=d+E.gapButton):(e.totalWidth+=l+E.gapButton,e.openWidth+=l+E.gapButton,e.totalHeight=Math.max(e.totalHeight,d),e.openHeight=e.totalHeight)}),r?e.totalHeight-=E.gapButton:e.totalWidth-=E.gapButton,e.headerWidth=e.width1+E.arrowPadX,e.headerHeight=e.height1,"dropdown"===e.type&&(r?(e.width1+=E.arrowPadX,e.totalHeight=e.height1):e.totalWidth=e.width1,e.totalWidth+=E.arrowPadX),n.remove();var a=e.totalWidth+e.pad.l+e.pad.r,i=e.totalHeight+e.pad.t+e.pad.b,o=t._fullLayout._size;e.lx=o.l+o.w*e.x,e.ly=o.t+o.h*(1-e.y);var s="left";C.isRightAnchor(e)&&(e.lx-=a,s="right"),C.isCenterAnchor(e)&&(e.lx-=a/2,s="center");var l="top";C.isBottomAnchor(e)&&(e.ly-=i,l="bottom"),C.isMiddleAnchor(e)&&(e.ly-=i/2,l="middle"),e.totalWidth=Math.ceil(e.totalWidth),e.totalHeight=Math.ceil(e.totalHeight),e.lx=Math.round(e.lx),e.ly=Math.round(e.ly),T.autoMargin(t,E.autoMarginIdRoot+e._index,{x:e.x,y:e.y,l:a*({right:1,center:.5}[s]||0),r:a*({left:1,center:.5}[s]||0),b:i*({top:1,middle:.5}[l]||0),t:i*({bottom:1,middle:.5}[l]||0)})}function b(t,e,n,r){r=r||{};var a=t.select("."+E.itemRectClassName),i=t.select("."+E.itemTextClassName),o=e.borderwidth,s=n.index;A.setTranslate(t,o+n.x,o+n.y);var l=-1!==["up","down"].indexOf(e.direction),c=r.height||(l?e.heights[s]:e.height1);a.attr({x:0,y:0,width:r.width||(l?e.width1:e.widths[s]),height:c});var u=e.font.size*S,d=M.lineCount(i),f=(d-1)*u/2;M.positionText(i,E.textOffsetX,c/2-f+E.textOffsetY),l?n.y+=e.heights[s]+n.yPad:n.x+=e.widths[s]+n.xPad,n.index++}function x(t){t.selectAll("g."+E.dropdownButtonClassName).remove()}function _(t){for(var e=t._fullLayout._pushmargin||{},n=Object.keys(e),r=0;r<n.length;r++){var a=n[r];-1!==a.indexOf(E.autoMarginIdRoot)&&T.autoMargin(t,a)}}var w=t("d3"),T=t("../../plots/plots"),k=t("../color"),A=t("../drawing"),M=t("../../lib/svg_text_utils"),C=t("../legend/anchor_utils"),S=t("../../constants/alignment").LINE_SPACING,E=t("./constants"),L=t("./scrollbox");e.exports=function(t){var e=t._fullLayout,n=r(e),i=e._infolayer.selectAll("g."+E.containerClassName).data(n.length>0?[0]:[]);if(i.enter().append("g").classed(E.containerClassName,!0).style("cursor","pointer"),i.exit().remove(),i.exit().size()&&_(t),0!==n.length){var u=i.selectAll("g."+E.headerGroupClassName).data(n,a);u.enter().append("g").classed(E.headerGroupClassName,!0);var d=i.selectAll("g."+E.dropdownButtonGroupClassName).data([0]);d.enter().append("g").classed(E.dropdownButtonGroupClassName,!0).style("pointer-events","all");for(var f=0;f<n.length;f++){var p=n[f];y(t,p)}var h="updatemenus"+e._uid,g=new L(t,d,h);u.enter().size()&&d.call(x).attr(E.menuIndexAttrName,"-1"),u.exit().each(function(e){w.select(this).remove(),d.call(x).attr(E.menuIndexAttrName,"-1"),T.autoMargin(t,E.autoMarginIdRoot+e._index)}),u.each(function(e){var n=w.select(this),r="dropdown"===e.type?d:null;T.manageCommandObserver(t,e,e.buttons,function(a){s(t,e,e.buttons[a.index],n,r,g,a.index,!0)}),"dropdown"===e.type?(l(t,n,d,g,e),o(d,e)&&c(t,n,d,g,e)):c(t,n,null,null,e)})}}},{"../../constants/alignment":131,"../../lib/svg_text_utils":169,"../../plots/plots":218,"../color":34,"../drawing":58,"../legend/anchor_utils":84,"./constants":126,"./scrollbox":130,d3:7}],129:[function(t,e,n){arguments[4][123][0].apply(n,arguments)},{"./attributes":125,"./constants":126,"./defaults":127,"./draw":128,dup:123}],130:[function(t,e,n){"use strict";function r(t,e,n){this.gd=t,this.container=e,this.id=n,this.position=null,this.translateX=null,this.translateY=null,this.hbar=null,this.vbar=null,this.bg=this.container.selectAll("rect.scrollbox-bg").data([0]),this.bg.exit().on(".drag",null).on("wheel",null).remove(),this.bg.enter().append("rect").classed("scrollbox-bg",!0).style("pointer-events","all").attr({opacity:0,x:0,y:0,width:0,height:0})}e.exports=r;var a=t("d3"),i=t("../color"),o=t("../drawing"),s=t("../../lib");r.barWidth=2,r.barLength=20,r.barRadius=2,r.barPad=1,r.barColor="#808BA4",r.prototype.enable=function(t,e,n){var s=this.gd._fullLayout,l=s.width,c=s.height;this.position=t;var u,d,f,p,h=this.position.l,g=this.position.w,v=this.position.t,m=this.position.h,y=this.position.direction,b="down"===y,x="left"===y,_="right"===y,w="up"===y,T=g,k=m;b||x||_||w||(this.position.direction="down",b=!0),b||w?(u=h,d=u+T,b?(f=v,p=Math.min(f+k,c),k=p-f):(p=v+k,f=Math.max(p-k,0),k=p-f)):(f=v,p=f+k,x?(d=h+T,u=Math.max(d-T,0),T=d-u):(u=h,d=Math.min(u+T,l),T=d-u)),this._box={l:u,t:f,w:T,h:k};var A=g>T,M=r.barLength+2*r.barPad,C=r.barWidth+2*r.barPad,S=h,E=v+m;E+C>c&&(E=c-C);var L=this.container.selectAll("rect.scrollbar-horizontal").data(A?[0]:[]);L.exit().on(".drag",null).remove(),L.enter().append("rect").classed("scrollbar-horizontal",!0).call(i.fill,r.barColor),A?(this.hbar=L.attr({rx:r.barRadius,ry:r.barRadius,x:S,y:E,width:M,height:C}),this._hbarXMin=S+M/2,this._hbarTranslateMax=T-M):(delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax);var O=m>k,D=r.barWidth+2*r.barPad,I=r.barLength+2*r.barPad,P=h+g,N=v;P+D>l&&(P=l-D);var z=this.container.selectAll("rect.scrollbar-vertical").data(O?[0]:[]);z.exit().on(".drag",null).remove(),z.enter().append("rect").classed("scrollbar-vertical",!0).call(i.fill,r.barColor),O?(this.vbar=z.attr({rx:r.barRadius,ry:r.barRadius,x:P,y:N,width:D,height:I}),this._vbarYMin=N+I/2,this._vbarTranslateMax=k-I):(delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax);var R=this.id,F=u-.5,j=O?d+D+.5:d+.5,H=f-.5,B=A?p+C+.5:p+.5,V=s._topdefs.selectAll("#"+R).data(A||O?[0]:[]);if(V.exit().remove(),V.enter().append("clipPath").attr("id",R).append("rect"),A||O?(this._clipRect=V.select("rect").attr({x:Math.floor(F),y:Math.floor(H),width:Math.ceil(j)-Math.floor(F),height:Math.ceil(B)-Math.floor(H)}),this.container.call(o.setClipUrl,R),this.bg.attr({x:h,y:v,width:g,height:m})):(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),A||O){var q=a.behavior.drag().on("dragstart",function(){a.event.sourceEvent.preventDefault()}).on("drag",this._onBoxDrag.bind(this));this.container.on("wheel",null).on("wheel",this._onBoxWheel.bind(this)).on(".drag",null).call(q);var $=a.behavior.drag().on("dragstart",function(){a.event.sourceEvent.preventDefault(),a.event.sourceEvent.stopPropagation()}).on("drag",this._onBarDrag.bind(this));A&&this.hbar.on(".drag",null).call($),O&&this.vbar.on(".drag",null).call($)}this.setTranslate(e,n)},r.prototype.disable=function(){(this.hbar||this.vbar)&&(this.bg.attr({width:0,height:0}),this.container.on("wheel",null).on(".drag",null).call(o.setClipUrl,null),delete this._clipRect),this.hbar&&(this.hbar.on(".drag",null),this.hbar.remove(),delete this.hbar,delete this._hbarXMin,delete this._hbarTranslateMax),this.vbar&&(this.vbar.on(".drag",null),this.vbar.remove(),delete this.vbar,delete this._vbarYMin,delete this._vbarTranslateMax)},r.prototype._onBoxDrag=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t-=a.event.dx),this.vbar&&(e-=a.event.dy),this.setTranslate(t,e)},r.prototype._onBoxWheel=function(){var t=this.translateX,e=this.translateY;this.hbar&&(t+=a.event.deltaY),this.vbar&&(e+=a.event.deltaY),this.setTranslate(t,e)},r.prototype._onBarDrag=function(){var t=this.translateX,e=this.translateY;if(this.hbar){var n=t+this._hbarXMin,r=n+this._hbarTranslateMax;t=(s.constrain(a.event.x,n,r)-n)/(r-n)*(this.position.w-this._box.w)}if(this.vbar){var i=e+this._vbarYMin,o=i+this._vbarTranslateMax;e=(s.constrain(a.event.y,i,o)-i)/(o-i)*(this.position.h-this._box.h)}this.setTranslate(t,e)},r.prototype.setTranslate=function(t,e){var n=this.position.w-this._box.w,r=this.position.h-this._box.h;if(t=s.constrain(t||0,0,n),e=s.constrain(e||0,0,r),this.translateX=t,this.translateY=e,this.container.call(o.setTranslate,this._box.l-this.position.l-t,this._box.t-this.position.t-e),this._clipRect&&this._clipRect.attr({x:Math.floor(this.position.l+t-.5),y:Math.floor(this.position.t+e-.5)}),this.hbar){var a=t/n;this.hbar.call(o.setTranslate,t+a*this._hbarTranslateMax,e)}if(this.vbar){var i=e/r;this.vbar.call(o.setTranslate,t,e+i*this._vbarTranslateMax)}}},{"../../lib":149,"../color":34,"../drawing":58,d3:7}],131:[function(t,e,n){"use strict";e.exports={FROM_BL:{left:0,center:.5,right:1,bottom:0,middle:.5,top:1},FROM_TL:{left:0,center:.5,right:1,bottom:1,middle:.5,top:0},LINE_SPACING:1.3,MID_SHIFT:.35}},{}],132:[function(t,e,n){"use strict";e.exports={SHOW_PLACEHOLDER:100,HIDE_PLACEHOLDER:1e3,DBLCLICKDELAY:300,DESELECTDIM:.2}},{}],133:[function(t,e,n){"use strict";e.exports={BADNUM:void 0,FP_SAFE:Number.MAX_VALUE/1e4,ONEAVGYEAR:315576e5,ONEAVGMONTH:26298e5,ONEDAY:864e5,ONEHOUR:36e5,ONEMIN:6e4,ONESEC:1e3,EPOCHJD:2440587.5,ALMOST_EQUAL:1-1e-6,MINUS_SIGN:""}},{}],134:[function(t,e,n){"use strict";e.exports={entityToUnicode:{mu:"","#956":"",amp:"&","#28":"&",lt:"<","#60":"<",gt:">","#62":">",nbsp:"","#160":"",times:"","#215":"",plusmn:"","#177":"",deg:"","#176":""}}},{}],135:[function(t,e,n){"use strict";n.xmlns="http://www.w3.org/2000/xmlns/",n.svg="http://www.w3.org/2000/svg",n.xlink="http://www.w3.org/1999/xlink",n.svgAttrs={xmlns:n.svg,"xmlns:xlink":n.xlink}},{}],136:[function(t,e,n){"use strict";var r=t("./plotly");n.version="1.31.2",t("es6-promise").polyfill(),t("../build/plotcss"),t("./fonts/mathjax_config"),n.plot=r.plot,n.newPlot=r.newPlot,n.restyle=r.restyle,n.relayout=r.relayout,n.redraw=r.redraw,n.update=r.update,n.extendTraces=r.extendTraces,n.prependTraces=r.prependTraces,n.addTraces=r.addTraces,n.deleteTraces=r.deleteTraces,n.moveTraces=r.moveTraces,n.purge=r.purge,n.setPlotConfig=t("./plot_api/set_plot_config"),n.register=t("./plot_api/register"),n.toImage=t("./plot_api/to_image"),n.downloadImage=t("./snapshot/download"),n.validate=t("./plot_api/validate"),n.addFrames=r.addFrames,n.deleteFrames=r.deleteFrames,n.animate=r.animate,n.register(t("./traces/scatter")),n.register([t("./components/fx"),t("./components/legend"),t("./components/annotations"),t("./components/annotations3d"),t("./components/shapes"),t("./components/images"),t("./components/updatemenus"),t("./components/sliders"),t("./components/rangeslider"),t("./components/rangeselector")]),n.Icons=t("../build/ploticon"),n.Plots=r.Plots,n.Fx=t("./components/fx"),n.Snapshot=t("./snapshot"),n.PlotSchema=t("./plot_api/plot_schema"),n.Queue=t("./lib/queue"),n.d3=t("d3")},{"../build/plotcss":1,"../build/ploticon":2,"./components/annotations":27,"./components/annotations3d":32,"./components/fx":75,"./components/images":83,"./components/legend":92,"./components/rangeselector":104,"./components/rangeslider":110,"./components/shapes":117,"./components/sliders":123,"./components/updatemenus":129,"./fonts/mathjax_config":137,"./lib/queue":162,"./plot_api/plot_schema":178,"./plot_api/register":179,"./plot_api/set_plot_config":180,"./plot_api/to_image":182,"./plot_api/validate":183,"./plotly":184,"./snapshot":230,"./snapshot/download":227,"./traces/scatter":271,d3:7,"es6-promise":8}],137:[function(t,e,n){"use strict";"undefined"!=typeof MathJax?(n.MathJax=!0,MathJax.Hub.Config({messageStyle:"none",skipStartupTypeset:!0,displayAlign:"left",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]}}),MathJax.Hub.Configured()):n.MathJax=!1},{}],138:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),a=t("../constants/numerical").BADNUM,i=/^['"%,$#\s']+|[, ]|['"%,$#\s']+$/g;e.exports=function(t){return"string"==typeof t&&(t=t.replace(i,"")),r(t)?Number(t):a}},{"../constants/numerical":133,"fast-isnumeric":10}],139:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),a=t("tinycolor2"),i=t("../plots/attributes"),o=t("../components/colorscale/get_scale"),s=(Object.keys(t("../components/colorscale/scales")),t("./nested_property")),l=t("./regex").counter;n.valObjectMeta={data_array:{coerceFunction:function(t,e,n){Array.isArray(t)?e.set(t):void 0!==n&&e.set(n)}},enumerated:{coerceFunction:function(t,e,n,r){r.coerceNumber&&(t=+t),-1===r.values.indexOf(t)?e.set(n):e.set(t)},validateFunction:function(t,e){e.coerceNumber&&(t=+t);for(var n=e.values,r=0;r<n.length;r++){var a=String(n[r]);if("/"===a.charAt(0)&&"/"===a.charAt(a.length-1)){if(new RegExp(a.substr(1,a.length-2)).test(t))return!0}else if(t===n[r])return!0}return!1}},boolean:{coerceFunction:function(t,e,n){!0===t||!1===t?e.set(t):e.set(n)}},number:{coerceFunction:function(t,e,n,a){!r(t)||void 0!==a.min&&t<a.min||void 0!==a.max&&t>a.max?e.set(n):e.set(+t)}},integer:{coerceFunction:function(t,e,n,a){t%1||!r(t)||void 0!==a.min&&t<a.min||void 0!==a.max&&t>a.max?e.set(n):e.set(+t)}},string:{coerceFunction:function(t,e,n,r){if("string"!=typeof t){var a="number"==typeof t;!0!==r.strict&&a?e.set(String(t)):e.set(n)}else r.noBlank&&!t?e.set(n):e.set(t)}},color:{coerceFunction:function(t,e,n){a(t).isValid()?e.set(t):e.set(n)}},colorscale:{coerceFunction:function(t,e,n){e.set(o(t,n))}},angle:{coerceFunction:function(t,e,n){"auto"===t?e.set("auto"):r(t)?(Math.abs(t)>180&&(t-=360*Math.round(t/360)),e.set(+t)):e.set(n)}},subplotid:{coerceFunction:function(t,e,n){if("string"==typeof t&&l(n).test(t))return void e.set(t);e.set(n)},validateFunction:function(t,e){var n=e.dflt;return t===n||"string"==typeof t&&!!l(n).test(t)}},flaglist:{coerceFunction:function(t,e,n,r){if("string"!=typeof t)return void e.set(n);if(-1!==(r.extras||[]).indexOf(t))return void e.set(t);for(var a=t.split("+"),i=0;i<a.length;){var o=a[i];-1===r.flags.indexOf(o)||a.indexOf(o)<i?a.splice(i,1):i++}a.length?e.set(a.join("+")):e.set(n)}},any:{coerceFunction:function(t,e,n){void 0===t?e.set(n):e.set(t)}},info_array:{coerceFunction:function(t,e,r,a){if(!Array.isArray(t))return void e.set(r);var i=a.items,o=[];r=Array.isArray(r)?r:[];for(var s=0;s<i.length;s++)n.coerce(t,o,i,"["+s+"]",r[s]);e.set(o)},validateFunction:function(t,e){if(!Array.isArray(t))return!1;var r=e.items;if(!e.freeLength&&t.length!==r.length)return!1;for(var a=0;a<t.length;a++)if(!n.validate(t[a],e.items[a]))return!1;return!0}}},n.coerce=function(t,e,r,a,i){var o=s(r,a).get(),l=s(t,a),c=s(e,a),u=l.get();return void 0===i&&(i=o.dflt),o.arrayOk&&Array.isArray(u)?(c.set(u),u):(n.valObjectMeta[o.valType].coerceFunction(u,c,i,o),c.get())},n.coerce2=function(t,e,r,a,i){var o=s(t,a),l=n.coerce(t,e,r,a,i),c=o.get();return void 0!==c&&null!==c&&l},n.coerceFont=function(t,e,n){var r={};return n=n||{},r.family=t(e+".family",n.family),r.size=t(e+".size",n.size),r.color=t(e+".color",n.color),r},n.coerceHoverinfo=function(t,e,r){var a,o=e._module.attributes,s=o.hoverinfo?{hoverinfo:o.hoverinfo}:i,l=s.hoverinfo;if(1===r._dataLength){var c="all"===l.dflt?l.flags.slice():l.dflt.split("+");c.splice(c.indexOf("name"),1),a=c.join("+")}return n.coerce(t,e,s,"hoverinfo",a)},n.validate=function(t,e){var r=n.valObjectMeta[e.valType];if(e.arrayOk&&Array.isArray(t))return!0;if(r.validateFunction)return r.validateFunction(t,e);var a={},i=a,o={set:function(t){i=t}};return r.coerceFunction(t,o,a,e),i!==a}},{"../components/colorscale/get_scale":46,"../components/colorscale/scales":52,"../plots/attributes":187,"./nested_property":156,"./regex":163,"fast-isnumeric":10,tinycolor2:16}],140:[function(t,e,n){"use strict";function r(t){return t&&T.componentsRegistry.calendars&&"string"==typeof t&&"gregorian"!==t}function a(t,e){return String(t+Math.pow(10,e)).substr(1)}function i(t,e,n,r,i){if((e||n||r||i)&&(t+=" "+a(e,2)+":"+a(n,2),(r||i)&&(t+=":"+a(r,2),i))){for(var o=4;i%10==0;)o-=1,i/=10;t+="."+a(i,o)}return t}function o(t,e,n){t=t.replace(I,function(t){var n=Math.min(+t.charAt(1)||6,6);return(e/1e3%1+2).toFixed(n).substr(2).replace(/0+$/,"")||"0"});var a=new Date(Math.floor(e+.05));if(r(n))try{t=T.getComponentMethod("calendars","worldCalFmt")(t,e,n)}catch(t){return"Invalid"}return k(t)(a)}function s(t,e){var n=g(t+.05,y),r=a(Math.floor(n/b),2)+":"+a(g(Math.floor(n/x),60),2);if("M"!==e){p(e)||(e=0);var i=Math.min(g(t/_,60),P[e]),o=(100+i).toFixed(e).substr(1);e>0&&(o=o.replace(/0+$/,"").replace(/[\.]$/,"")),r+=":"+o}return r}function l(t){return t.formatDate("yyyy")}function c(t){return t.formatDate("M yyyy")}function u(t){return t.formatDate("M d")}function d(t){return t.formatDate("M d, yyyy")}var f=t("d3"),p=t("fast-isnumeric"),h=t("./loggers").error,g=t("./mod"),v=t("../constants/numerical"),m=v.BADNUM,y=v.ONEDAY,b=v.ONEHOUR,x=v.ONEMIN,_=v.ONESEC,w=v.EPOCHJD,T=t("../registry"),k=f.time.format.utc,A=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\d)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,M=/^\s*(-?\d\d\d\d|\d\d)(-(\d?\di?)(-(\d?\d)([ Tt]([01]?\d|2[0-3])(:([0-5]\d)(:([0-5]\d(\.\d+)?))?(Z|z|[+\-]\d\d:?\d\d)?)?)?)?)?\s*$/m,C=(new Date).getFullYear()-70;n.dateTick0=function(t,e){return r(t)?e?T.getComponentMethod("calendars","CANONICAL_SUNDAY")[t]:T.getComponentMethod("calendars","CANONICAL_TICK")[t]:e?"2000-01-02":"2000-01-01"},n.dfltRange=function(t){return r(t)?T.getComponentMethod("calendars","DFLTRANGE")[t]:["2000-01-01","2001-01-01"]},n.isJSDate=function(t){return"object"==typeof t&&null!==t&&"function"==typeof t.getTime};var S,E;n.dateTime2ms=function(t,e){if(n.isJSDate(t))return t=Number(t)-t.getTimezoneOffset()*x,t>=S&&t<=E?t:m;if("string"!=typeof t&&"number"!=typeof t)return m;t=String(t);var a=r(e),i=t.charAt(0);!a||"G"!==i&&"g"!==i||(t=t.substr(1),e="");var o=a&&"chinese"===e.substr(0,7),s=t.match(o?M:A);if(!s)return m;var l=s[1],c=s[3]||"1",u=Number(s[5]||1),d=Number(s[7]||0),f=Number(s[9]||0),p=Number(s[11]||0);if(a){if(2===l.length)return m;l=Number(l);var h;try{var g=T.getComponentMethod("calendars","getCal")(e);if(o){var v="i"===c.charAt(c.length-1);c=parseInt(c,10),h=g.newDate(l,g.toMonthIndex(l,c,v),u)}else h=g.newDate(l,Number(c),u)}catch(t){return m}return h?(h.toJD()-w)*y+d*b+f*x+p*_:m}l=2===l.length?(Number(l)+2e3-C)%100+C:Number(l),c-=1;var k=new Date(Date.UTC(2e3,c,u,d,f));return k.setUTCFullYear(l),k.getUTCMonth()!==c?m:k.getUTCDate()!==u?m:k.getTime()+p*_},S=n.MIN_MS=n.dateTime2ms("-9999"),E=n.MAX_MS=n.dateTime2ms("9999-12-31 23:59:59.9999"),n.isDateTime=function(t,e){return n.dateTime2ms(t,e)!==m};var L=90*y,O=3*b,D=5*x;n.ms2DateTime=function(t,e,n){if("number"!=typeof t||!(t>=S&&t<=E))return m;e||(e=0);var a,o,s,l,c,u,d=Math.floor(10*g(t+.05,1)),f=Math.round(t-d/10);if(r(n)){var p=Math.floor(f/y)+w,h=Math.floor(g(t,y));try{a=T.getComponentMethod("calendars","getCal")(n).fromJD(p).formatDate("yyyy-mm-dd")}catch(t){a=k("G%Y-%m-%d")(new Date(f))}if("-"===a.charAt(0))for(;a.length<11;)a="-0"+a.substr(1);else for(;a.length<10;)a="0"+a;o=e<L?Math.floor(h/b):0,s=e<L?Math.floor(h%b/x):0,l=e<O?Math.floor(h%x/_):0,c=e<D?h%_*10+d:0}else u=new Date(f),a=k("%Y-%m-%d")(u),o=e<L?u.getUTCHours():0,s=e<L?u.getUTCMinutes():0,l=e<O?u.getUTCSeconds():0,c=e<D?10*u.getUTCMilliseconds()+d:0;return i(a,o,s,l,c)},n.ms2DateTimeLocal=function(t){if(!(t>=S+y&&t<=E-y))return m;var e=Math.floor(10*g(t+.05,1)),n=new Date(Math.round(t-e/10));return i(f.time.format("%Y-%m-%d")(n),n.getHours(),n.getMinutes(),n.getSeconds(),10*n.getUTCMilliseconds()+e)},n.cleanDate=function(t,e,a){if(n.isJSDate(t)||"number"==typeof t){if(r(a))return h("JS Dates and milliseconds are incompatible with world calendars",t),e;if(!(t=n.ms2DateTimeLocal(+t))&&void 0!==e)return e}else if(!n.isDateTime(t,a))return h("unrecognized date",t),e;return t};var I=/%\d?f/g,P=[59,59.9,59.99,59.999,59.9999],N=k("%Y"),z=k("%b %Y"),R=k("%b %-d"),F=k("%b %-d, %Y");n.formatDate=function(t,e,n,a){var i,f;if(a=r(a)&&a,e)return o(e,t,a);if(a)try{var p=Math.floor((t+.05)/y)+w,h=T.getComponentMethod("calendars","getCal")(a).fromJD(p);"y"===n?f=l(h):"m"===n?f=c(h):"d"===n?(i=l(h),f=u(h)):(i=d(h),f=s(t,n))}catch(t){return"Invalid"}else{var g=new Date(Math.floor(t+.05));"y"===n?f=N(g):"m"===n?f=z(g):"d"===n?(i=N(g),f=R(g)):(i=F(g),f=s(t,n))}return f+(i?"\n"+i:"")};var j=3*y;n.incrementMonth=function(t,e,n){n=r(n)&&n;var a=g(t,y);if(t=Math.round(t-a),n)try{var i=Math.round(t/y)+w,o=T.getComponentMethod("calendars","getCal")(n),s=o.fromJD(i);return e%12?o.add(s,e,"m"):o.add(s,e/12,"y"),(s.toJD()-w)*y+a}catch(e){h("invalid ms "+t+" in calendar "+n)}var l=new Date(t+j);return l.setUTCMonth(l.getUTCMonth()+e)+a-j},n.findExactDates=function(t,e){for(var n,a,i=0,o=0,s=0,l=0,c=r(e)&&T.getComponentMethod("calendars","getCal")(e),u=0;u<t.length;u++)if(a=t[u],p(a)){if(!(a%y))if(c)try{n=c.fromJD(a/y+w),1===n.day()?1===n.month()?i++:o++:s++}catch(t){}else n=new Date(a),1===n.getUTCDate()?0===n.getUTCMonth()?i++:o++:s++}else l++;o+=i,s+=o;var d=t.length-l;return{exactYears:i/d,exactMonths:o/d,exactDays:s/d}}},{"../constants/numerical":133,"../registry":225,"./loggers":153,"./mod":155,d3:7,"fast-isnumeric":10}],141:[function(t,e,n){"use strict";e.exports=function(t,e){return Array.isArray(t)||(t=[]),t.length=e,t}},{}],142:[function(t,e,n){"use strict";var r=t("events").EventEmitter,a={init:function(t){if(t._ev instanceof r)return t;var e=new r,n=new r;return t._ev=e,t._internalEv=n,t.on=e.on.bind(e),t.once=e.once.bind(e),t.removeListener=e.removeListener.bind(e),t.removeAllListeners=e.removeAllListeners.bind(e),t._internalOn=n.on.bind(n),t._internalOnce=n.once.bind(n),t._removeInternalListener=n.removeListener.bind(n),t._removeAllInternalListeners=n.removeAllListeners.bind(n),t.emit=function(r,a){"undefined"!=typeof jQuery&&jQuery(t).trigger(r,a),e.emit(r,a),n.emit(r,a)},t},triggerHandler:function(t,e,n){var r,a;"undefined"!=typeof jQuery&&(r=jQuery(t).triggerHandler(e,n));var i=t._ev;if(!i)return r;var o=i._events[e];if(!o)return r;"function"==typeof o&&(o=[o]);for(var s=o.pop(),l=0;l<o.length;l++)o[l](n);return a=s(n),void 0!==r?r:a},purge:function(t){return delete t._ev,delete t.on,delete t.once,delete t.removeListener,delete t.removeAllListeners,delete t.emit,delete t._ev,delete t._internalEv,delete t._internalOn,delete t._internalOnce,delete t._removeInternalListener,delete t._removeAllInternalListeners,t}};e.exports=a},{events:9}],143:[function(t,e,n){"use strict";function r(t,e){var n,r;for(n=0;n<t.length;n++){if(null!==(r=t[n])&&"object"==typeof r)return!1;void 0!==r&&(e[n]=r)}return!0}function a(t,e,n,s){var l,c,u,d,f,p,h=t[0],g=t.length;if(2===g&&o(h)&&o(t[1])&&0===h.length){if(r(t[1],h))return h;h.splice(0,h.length)}for(var v=1;v<g;v++){l=t[v];for(c in l)u=h[c],d=l[c],s&&o(d)?h[c]=d:e&&d&&(i(d)||(f=o(d)))?(f?(f=!1,p=u&&o(u)?u:[]):p=u&&i(u)?u:{},h[c]=a([p,d],e,n,s)):(void 0!==d||n)&&(h[c]=d)}return h}var i=t("./is_plain_object.js"),o=Array.isArray;n.extendFlat=function(){return a(arguments,!1,!1,!1)},n.extendDeep=function(){return a(arguments,!0,!1,!1)},n.extendDeepAll=function(){return a(arguments,!0,!0,!1)},n.extendDeepNoArrays=function(){return a(arguments,!0,!1,!0)}},{"./is_plain_object.js":151}],144:[function(t,e,n){"use strict";e.exports=function(t){for(var e={},n=[],r=0,a=0;a<t.length;a++){var i=t[a];1!==e[i]&&(e[i]=1,n[r++]=i)}return n}},{}],145:[function(t,e,n){"use strict";e.exports=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];!0===r.visible&&e.push(r)}return e}},{}],146:[function(t,e,n){"use strict";function r(t,e,n,r,a,i,o,s){var l=n-t,c=a-t,u=o-a,d=r-e,f=i-e,p=s-i,h=l*p-u*d;if(0===h)return null;var g=(c*p-u*f)/h,v=(c*d-l*f)/h;return v<0||v>1||g<0||g>1?null:{x:t+l*g,y:e+d*g}}function a(t,e,n,r,a){var i=r*t+a*e;if(i<0)return r*r+a*a;if(i>n){var o=r-t,s=a-e;return o*o+s*s}var l=r*e-a*t;return l*l/n}var i=t("./mod");n.segmentsIntersect=r,n.segmentDistance=function(t,e,n,i,o,s,l,c){if(r(t,e,n,i,o,s,l,c))return 0;var u=n-t,d=i-e,f=l-o,p=c-s,h=u*u+d*d,g=f*f+p*p,v=Math.min(a(u,d,h,o-t,s-e),a(u,d,h,l-t,c-e),a(f,p,g,t-o,e-s),a(f,p,g,n-o,i-s));return Math.sqrt(v)};var o,s,l;n.getTextLocation=function(t,e,n,r){if(t===s&&r===l||(o={},s=t,l=r),o[n])return o[n];var a=t.getPointAtLength(i(n-r/2,e)),c=t.getPointAtLength(i(n+r/2,e)),u=Math.atan((c.y-a.y)/(c.x-a.x)),d=t.getPointAtLength(i(n,e)),f=(4*d.x+a.x+c.x)/6,p=(4*d.y+a.y+c.y)/6,h={x:f,y:p,theta:u};return o[n]=h,h},n.clearLocationCache=function(){s=null},n.getVisibleSegment=function(t,e,n){function r(e){var n=t.getPointAtLength(e);0===e?a=n:e===d&&(i=n);var r=n.x<o?o-n.x:n.x>s?n.x-s:0,u=n.y<l?l-n.y:n.y>c?n.y-c:0;return Math.sqrt(r*r+u*u)}for(var a,i,o=e.left,s=e.right,l=e.top,c=e.bottom,u=0,d=t.getTotalLength(),f=d,p=r(u);p;){if((u+=p+n)>f)return;p=r(u)}for(p=r(f);p;){if(f-=p+n,u>f)return;p=r(f)}return{min:u,max:f,len:f-u,total:d,isClosed:0===u&&f===d&&Math.abs(a.x-i.x)<.1&&Math.abs(a.y-i.y)<.1}}},{"./mod":155}],147:[function(t,e,n){"use strict";e.exports=function(t){var e;if("string"==typeof t){if(null===(e=document.getElementById(t)))throw new Error("No DOM element with id '"+t+"' exists on the page.");return e}if(null===t||void 0===t)throw new Error("DOM element provided is null or undefined");return t}},{}],148:[function(t,e,n){"use strict";e.exports=function(t){return t}},{}],149:[function(t,e,n){"use strict";var r=t("d3"),a=t("fast-isnumeric"),i=t("../constants/numerical"),o=i.FP_SAFE,s=i.BADNUM,l=e.exports={};l.nestedProperty=t("./nested_property"),l.keyedContainer=t("./keyed_container"),l.relativeAttr=t("./relative_attr"),l.isPlainObject=t("./is_plain_object"),l.isArray=t("./is_array"),l.mod=t("./mod"),l.toLogRange=t("./to_log_range"),l.relinkPrivateKeys=t("./relink_private"),l.ensureArray=t("./ensure_array");var c=t("./coerce");l.valObjectMeta=c.valObjectMeta,l.coerce=c.coerce,l.coerce2=c.coerce2,l.coerceFont=c.coerceFont,l.coerceHoverinfo=c.coerceHoverinfo,l.validate=c.validate;var u=t("./dates");l.dateTime2ms=u.dateTime2ms,l.isDateTime=u.isDateTime,l.ms2DateTime=u.ms2DateTime,l.ms2DateTimeLocal=u.ms2DateTimeLocal,l.cleanDate=u.cleanDate,l.isJSDate=u.isJSDate,l.formatDate=u.formatDate,l.incrementMonth=u.incrementMonth,l.dateTick0=u.dateTick0,l.dfltRange=u.dfltRange,l.findExactDates=u.findExactDates,l.MIN_MS=u.MIN_MS,l.MAX_MS=u.MAX_MS;var d=t("./search");l.findBin=d.findBin,l.sorterAsc=d.sorterAsc,l.sorterDes=d.sorterDes,l.distinctVals=d.distinctVals,l.roundUp=d.roundUp;var f=t("./stats");l.aggNums=f.aggNums,l.len=f.len,l.mean=f.mean,l.variance=f.variance,l.stdev=f.stdev,l.interp=f.interp;var p=t("./matrix");l.init2dArray=p.init2dArray,l.transposeRagged=p.transposeRagged,l.dot=p.dot,l.translationMatrix=p.translationMatrix,l.rotationMatrix=p.rotationMatrix,l.rotationXYMatrix=p.rotationXYMatrix,l.apply2DTransform=p.apply2DTransform,l.apply2DTransform2=p.apply2DTransform2;var h=t("./geometry2d");l.segmentsIntersect=h.segmentsIntersect,l.segmentDistance=h.segmentDistance,l.getTextLocation=h.getTextLocation,l.clearLocationCache=h.clearLocationCache,l.getVisibleSegment=h.getVisibleSegment;var g=t("./extend");l.extendFlat=g.extendFlat,l.extendDeep=g.extendDeep,l.extendDeepAll=g.extendDeepAll,l.extendDeepNoArrays=g.extendDeepNoArrays;var v=t("./loggers");l.log=v.log,l.warn=v.warn,l.error=v.error;var m=t("./regex");l.counterRegex=m.counter;var y=t("./throttle");l.throttle=y.throttle,l.throttleDone=y.done,l.clearThrottle=y.clear,l.getGraphDiv=t("./get_graph_div"),l.notifier=t("./notifier"),l.filterUnique=t("./filter_unique"),l.filterVisible=t("./filter_visible"),l.pushUnique=t("./push_unique"),l.cleanNumber=t("./clean_number"),l.ensureNumber=function(t){return a(t)?(t=Number(t),t<-o||t>o?s:a(t)?Number(t):s):s},l.noop=t("./noop"),l.identity=t("./identity"),l.swapAttrs=function(t,e,n,r){n||(n="x"),r||(r="y");for(var a=0;a<e.length;a++){var i=e[a],o=l.nestedProperty(t,i.replace("?",n)),s=l.nestedProperty(t,i.replace("?",r)),c=o.get();o.set(s.get()),s.set(c)}},l.pauseEvent=function(t){return t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),t.cancelBubble=!0,!1},l.raiseToTop=function(t){t.parentNode.appendChild(t)},l.cancelTransition=function(t){return t.transition().duration(0)},l.constrain=function(t,e,n){return e>n?Math.max(n,Math.min(e,t)):Math.max(e,Math.min(n,t))},l.bBoxIntersect=function(t,e,n){return n=n||0,t.left<=e.right+n&&e.left<=t.right+n&&t.top<=e.bottom+n&&e.top<=t.bottom+n},l.simpleMap=function(t,e,n,r){for(var a=t.length,i=new Array(a),o=0;o<a;o++)i[o]=e(t[o],n,r);return i},l.randstr=function t(e,n,r){if(r||(r=16),void 0===n&&(n=24),n<=0)return"0";var a,i,o,s=Math.log(Math.pow(2,n))/Math.log(r),l="";for(a=2;s===1/0;a*=2)s=Math.log(Math.pow(2,n/a))/Math.log(r)*a;var c=s-Math.floor(s);for(a=0;a<Math.floor(s);a++)o=Math.floor(Math.random()*r).toString(r),l=o+l;c&&(i=Math.pow(r,c),o=Math.floor(Math.random()*i).toString(r),l=o+l);var u=parseInt(l,r);return e&&e.indexOf(l)>-1||u!==1/0&&u>=Math.pow(2,n)?t(e,n,r):l},l.OptionControl=function(t,e){t||(t={}),e||(e="opt");var n={};return n.optionList=[],n._newoption=function(r){r[e]=t,n[r.name]=r,n.optionList.push(r)},n["_"+e]=t,n},l.smooth=function(t,e){if((e=Math.round(e)||0)<2)return t;var n,r,a,i,o=t.length,s=2*o,l=2*e-1,c=new Array(l),u=new Array(o);for(n=0;n<l;n++)c[n]=(1-Math.cos(Math.PI*(n+1)/e))/(2*e);for(n=0;n<o;n++){for(i=0,r=0;r<l;r++)a=n+r+1-e,a<-o?a-=s*Math.round(a/s):a>=s&&(a-=s*Math.floor(a/s)),a<0?a=-1-a:a>=o&&(a=s-1-a),i+=t[a]*c[r];u[n]=i}return u},l.syncOrAsync=function(t,e,n){function r(){
return l.syncOrAsync(t,e,n)}for(var a,i;t.length;)if(i=t.splice(0,1)[0],(a=i(e))&&a.then)return a.then(r).then(void 0,l.promiseError);return n&&n(e)},l.stripTrailingSlash=function(t){return"/"===t.substr(-1)?t.substr(0,t.length-1):t},l.noneOrAll=function(t,e,n){if(t){var r,a,i=!1,o=!0;for(r=0;r<n.length;r++)a=t[n[r]],void 0!==a&&null!==a?i=!0:o=!1;if(i&&!o)for(r=0;r<n.length;r++)t[n[r]]=e[n[r]]}},l.mergeArray=function(t,e,n){if(Array.isArray(t))for(var r=Math.min(t.length,e.length),a=0;a<r;a++)e[a][n]=t[a]},l.fillArray=function(t,e,n,r){if(r=r||l.identity,Array.isArray(t))for(var a=0;a<e.length;a++)e[a][n]=r(t[a])},l.castOption=function(t,e,n,r){r=r||l.identity;var a=l.nestedProperty(t,n).get();return Array.isArray(a)?r(Array.isArray(e)&&Array.isArray(a[e[0]])?a[e[0]][e[1]]:a[e]):a},l.extractOption=function(t,e,n,r){if(n in t)return t[n];var a=l.nestedProperty(e,r).get();return Array.isArray(a)?void 0:a},l.getTargetArray=function(t,e){var n=e.target;if("string"==typeof n&&n){var r=l.nestedProperty(t,n).get();return!!Array.isArray(r)&&r}return!!Array.isArray(n)&&n},l.minExtend=function(t,e){var n={};"object"!=typeof e&&(e={});var r,a,i,o=Object.keys(t);for(r=0;r<o.length;r++)a=o[r],i=t[a],"_"!==a.charAt(0)&&"function"!=typeof i&&("module"===a?n[a]=i:Array.isArray(i)?n[a]=i.slice(0,3):n[a]=i&&"object"==typeof i?l.minExtend(t[a],e[a]):i);for(o=Object.keys(e),r=0;r<o.length;r++)a=o[r],"object"==typeof(i=e[a])&&a in n&&"object"==typeof n[a]||(n[a]=i);return n},l.titleCase=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},l.containsAny=function(t,e){for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1},l.isPlotDiv=function(t){var e=r.select(t);return e.node()instanceof HTMLElement&&e.size()&&e.classed("js-plotly-plot")},l.removeElement=function(t){var e=t&&t.parentNode;e&&e.removeChild(t)},l.addStyleRule=function(t,e){if(!l.styleSheet){var n=document.createElement("style");n.appendChild(document.createTextNode("")),document.head.appendChild(n),l.styleSheet=n.sheet}var r=l.styleSheet;r.insertRule?r.insertRule(t+"{"+e+"}",0):r.addRule?r.addRule(t,e,0):l.warn("addStyleRule failed")},l.isIE=function(){return void 0!==window.navigator.msSaveBlob},l.isD3Selection=function(t){return t&&"function"==typeof t.classed},l.objectFromPath=function(t,e){for(var n,r=t.split("."),a=n={},i=0;i<r.length;i++){var o=r[i],s=null,l=r[i].match(/(.*)\[([0-9]+)\]/);l?(o=l[1],s=l[2],n=n[o]=[],i===r.length-1?n[s]=e:n[s]={},n=n[s]):(i===r.length-1?n[o]=e:n[o]={},n=n[o])}return a};var b=/^([^\[\.]+)\.(.+)?/,x=/^([^\.]+)\[([0-9]+)\](\.)?(.+)?/;l.expandObjectPaths=function(t){var e,n,r,a,i,o,s;if("object"==typeof t&&!Array.isArray(t))for(n in t)t.hasOwnProperty(n)&&((e=n.match(b))?(a=t[n],r=e[1],delete t[n],t[r]=l.extendDeepNoArrays(t[r]||{},l.objectFromPath(n,l.expandObjectPaths(a))[r])):(e=n.match(x))?(a=t[n],r=e[1],i=parseInt(e[2]),delete t[n],t[r]=t[r]||[],"."===e[3]?(s=e[4],o=t[r][i]=t[r][i]||{},l.extendDeepNoArrays(o,l.objectFromPath(s,l.expandObjectPaths(a)))):t[r][i]=l.expandObjectPaths(a)):t[n]=l.expandObjectPaths(t[n]));return t},l.numSeparate=function(t,e,n){if(n||(n=!1),"string"!=typeof e||0===e.length)throw new Error("Separator string required for formatting!");"number"==typeof t&&(t=String(t));var r=/(\d+)(\d{3})/,a=e.charAt(0),i=e.charAt(1),o=t.split("."),s=o[0],l=o.length>1?a+o[1]:"";if(i&&(o.length>1||s.length>4||n))for(;r.test(s);)s=s.replace(r,"$1"+i+"$2");return s+l};var _=/%{([^\s%{}]*)}/g,w=/^\w*$/;l.templateString=function(t,e){var n={};return t.replace(_,function(t,r){return w.test(r)?e[r]||"":(n[r]=n[r]||l.nestedProperty(e,r).get,n[r]()||"")})}},{"../constants/numerical":133,"./clean_number":138,"./coerce":139,"./dates":140,"./ensure_array":141,"./extend":143,"./filter_unique":144,"./filter_visible":145,"./geometry2d":146,"./get_graph_div":147,"./identity":148,"./is_array":150,"./is_plain_object":151,"./keyed_container":152,"./loggers":153,"./matrix":154,"./mod":155,"./nested_property":156,"./noop":157,"./notifier":158,"./push_unique":161,"./regex":163,"./relative_attr":164,"./relink_private":165,"./search":166,"./stats":168,"./throttle":170,"./to_log_range":171,d3:7,"fast-isnumeric":10}],150:[function(t,e,n){"use strict";var r="undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer:{isView:function(){return!1}};e.exports=function(t){return Array.isArray(t)||r.isView(t)}},{}],151:[function(t,e,n){"use strict";e.exports=function(t){return window&&window.process&&window.process.versions?"[object Object]"===Object.prototype.toString.call(t):"[object Object]"===Object.prototype.toString.call(t)&&Object.getPrototypeOf(t)===Object.prototype}},{}],152:[function(t,e,n){"use strict";var r=t("./nested_property"),a=/^\w*$/;e.exports=function(t,e,n,i){n=n||"name",i=i||"value";var o,s,l={};s=e&&e.length?r(t,e).get():t,e=e||"",s=s||[];var c={};for(o=0;o<s.length;o++)c[s[o][n]]=o;var u=a.test(i),d={set:function(t,e){var a=null===e?4:0,o=c[t];void 0===o?(a|=3,o=s.length,c[t]=o):e!==(u?s[o][i]:r(s[o],i).get())&&(a|=2);var f=s[o]=s[o]||{};return f[n]=t,u?f[i]=e:r(f,i).set(e),null!==e&&(a&=-5),l[o]=l[o]|a,d},get:function(t){var e=c[t];return void 0===e?void 0:u?s[e][i]:r(s[e],i).get()},rename:function(t,e){var r=c[t];return void 0===r?d:(l[r]=1|l[r],c[e]=r,delete c[t],s[r][n]=e,d)},remove:function(t){var e=c[t];if(void 0===e)return d;var a=s[e];if(Object.keys(a).length>2)return l[e]=2|l[e],d.set(t,null);if(u){for(o=e;o<s.length;o++)l[o]=3|l[o];for(o=e;o<s.length;o++)c[s[o][n]]--;s.splice(e,1),delete c[t]}else r(a,i).set(null),l[e]=6|l[e];return d},constructUpdate:function(){for(var t,a,o={},c=Object.keys(l),d=0;d<c.length;d++)a=c[d],t=e+"["+a+"]",s[a]?(1&l[a]&&(o[t+"."+n]=s[a][n]),2&l[a]&&(o[t+"."+i]=u?4&l[a]?null:s[a][i]:4&l[a]?null:r(s[a],i).get())):o[t]=null;return o}};return d}},{"./nested_property":156}],153:[function(t,e,n){"use strict";function r(t,e){if(t.apply)t.apply(t,e);else for(var n=0;n<e.length;n++)t(e[n])}var a=t("../plot_api/plot_config"),i=e.exports={};i.log=function(){if(a.logging>1){for(var t=["LOG:"],e=0;e<arguments.length;e++)t.push(arguments[e]);r(console.trace||console.log,t)}},i.warn=function(){if(a.logging>0){for(var t=["WARN:"],e=0;e<arguments.length;e++)t.push(arguments[e]);r(console.trace||console.log,t)}},i.error=function(){if(a.logging>0){for(var t=["ERROR:"],e=0;e<arguments.length;e++)t.push(arguments[e]);r(console.error,t)}}},{"../plot_api/plot_config":177}],154:[function(t,e,n){"use strict";n.init2dArray=function(t,e){for(var n=new Array(t),r=0;r<t;r++)n[r]=new Array(e);return n},n.transposeRagged=function(t){var e,n,r=0,a=t.length;for(e=0;e<a;e++)r=Math.max(r,t[e].length);var i=new Array(r);for(e=0;e<r;e++)for(i[e]=new Array(a),n=0;n<a;n++)i[e][n]=t[n][e];return i},n.dot=function(t,e){if(!t.length||!e.length||t.length!==e.length)return null;var r,a,i=t.length;if(t[0].length)for(r=new Array(i),a=0;a<i;a++)r[a]=n.dot(t[a],e);else if(e[0].length){var o=n.transposeRagged(e);for(r=new Array(o.length),a=0;a<o.length;a++)r[a]=n.dot(t,o[a])}else for(r=0,a=0;a<i;a++)r+=t[a]*e[a];return r},n.translationMatrix=function(t,e){return[[1,0,t],[0,1,e],[0,0,1]]},n.rotationMatrix=function(t){var e=t*Math.PI/180;return[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]]},n.rotationXYMatrix=function(t,e,r){return n.dot(n.dot(n.translationMatrix(e,r),n.rotationMatrix(t)),n.translationMatrix(-e,-r))},n.apply2DTransform=function(t){return function(){var e=arguments;3===e.length&&(e=e[0]);var r=1===arguments.length?e[0]:[e[0],e[1]];return n.dot(t,[r[0],r[1],1]).slice(0,2)}},n.apply2DTransform2=function(t){var e=n.apply2DTransform(t);return function(t){return e(t.slice(0,2)).concat(e(t.slice(2,4)))}}},{}],155:[function(t,e,n){"use strict";e.exports=function(t,e){var n=t%e;return n<0?n+e:n}},{}],156:[function(t,e,n){"use strict";function r(t,e){return function(){var n,a,i,o,s,l=t;for(o=0;o<e.length-1;o++){if(-1===(n=e[o])){for(a=!0,i=[],s=0;s<l.length;s++)i[s]=r(l[s],e.slice(o+1))(),i[s]!==i[0]&&(a=!1);return a?i[0]:i}if("number"==typeof n&&!p(l))return;if("object"!=typeof(l=l[n])||null===l)return}if("object"==typeof l&&null!==l&&null!==(i=l[e[o]]))return i}}function a(t,e){if(!u(t)||h(t)&&"]"===e.charAt(e.length-1)||e.match(m)&&void 0!==t)return!1;if(!p(t))return!0;if(e.match(v))return!0;var n=g(e);return n&&""===n.index}function i(t,e,n){return function(r){var i,u,d=t,f="",h=[[t,f]],g=a(r,n);for(u=0;u<e.length-1;u++){if("number"==typeof(i=e[u])&&!p(d))throw"array index but container is not an array";if(-1===i){if(g=!s(d,e.slice(u+1),r,n))break;return}if(!l(d,i,e[u+1],g))break;if("object"!=typeof(d=d[i])||null===d)throw"container is not an object";f=o(f,i),h.push([d,f])}g?(u===e.length-1&&delete d[e[u]],c(h)):d[e[u]]=r}}function o(t,e){var n=e;return f(e)?n="["+e+"]":t&&(n="."+e),t+n}function s(t,e,n,r){var o,s=p(n),c=!0,u=n,d=r.replace("-1",0),f=!s&&a(n,d),h=e[0];for(o=0;o<t.length;o++)d=r.replace("-1",o),s&&(u=n[o%n.length],f=a(u,d)),f&&(c=!1),l(t,o,h,f)&&i(t[o],e,r.replace("-1",o))(u);return c}function l(t,e,n,r){if(void 0===t[e]){if(r)return!1;t[e]="number"==typeof n?[]:{}}return!0}function c(t){var e,n,r,i,s,l;for(e=t.length-1;e>=0;e--){if(r=t[e][0],i=t[e][1],l=!1,p(r))for(n=r.length-1;n>=0;n--)a(r[n],o(i,n))?l?r[n]=void 0:r.pop():l=!0;else if("object"==typeof r&&null!==r)for(s=Object.keys(r),l=!1,n=s.length-1;n>=0;n--)a(r[s[n]],o(i,s[n]))?delete r[s[n]]:l=!0;if(l)return}}function u(t){return void 0===t||null===t||"object"==typeof t&&(p(t)?!t.length:!Object.keys(t).length)}function d(t,e,n){return{set:function(){throw"bad container"},get:function(){},astr:e,parts:n,obj:t}}var f=t("fast-isnumeric"),p=t("./is_array"),h=t("./is_plain_object"),g=t("../plot_api/container_array_match");e.exports=function(t,e){if(f(e))e=String(e);else if("string"!=typeof e||"[-1]"===e.substr(e.length-4))throw"bad property string";for(var n,a,o,s=0,l=e.split(".");s<l.length;){if(n=String(l[s]).match(/^([^\[\]]*)((\[\-?[0-9]*\])+)$/)){if(n[1])l[s]=n[1];else{if(0!==s)throw"bad property string";l.splice(0,1)}for(a=n[2].substr(1,n[2].length-2).split("]["),o=0;o<a.length;o++)s++,l.splice(s,0,Number(a[o]))}s++}return"object"!=typeof t?d(t,e,l):{set:i(t,l,e),get:r(t,l),astr:e,parts:l,obj:t}};var v=/(^|\.)((domain|range)(\.[xy])?|args|parallels)$/,m=/(^|\.)args\[/},{"../plot_api/container_array_match":172,"./is_array":150,"./is_plain_object":151,"fast-isnumeric":10}],157:[function(t,e,n){"use strict";e.exports=function(){}},{}],158:[function(t,e,n){"use strict";var r=t("d3"),a=t("fast-isnumeric"),i=[];e.exports=function(t,e){function n(t){t.duration(700).style("opacity",0).each("end",function(t){var e=i.indexOf(t);-1!==e&&i.splice(e,1),r.select(this).remove()})}if(-1===i.indexOf(t)){i.push(t);var o=1e3;a(e)?o=e:"long"===e&&(o=3e3);var s=r.select("body").selectAll(".plotly-notifier").data([0]);s.enter().append("div").classed("plotly-notifier",!0),s.selectAll(".notifier-note").data(i).enter().append("div").classed("notifier-note",!0).style("opacity",0).each(function(t){var e=r.select(this);e.append("button").classed("notifier-close",!0).html("&times;").on("click",function(){e.transition().call(n)});for(var a=e.append("p"),i=t.split(/<br\s*\/?>/g),s=0;s<i.length;s++)s&&a.append("br"),a.append("span").text(i[s]);e.transition().duration(700).style("opacity",1).transition().delay(o).call(n)})}}},{d3:7,"fast-isnumeric":10}],159:[function(t,e,n){"use strict";var r=t("./setcursor"),a="data-savedcursor";e.exports=function(t,e){var n=t.attr(a);if(e){if(!n){for(var i=(t.attr("class")||"").split(" "),o=0;o<i.length;o++){var s=i[o];0===s.indexOf("cursor-")&&t.attr(a,s.substr(7)).classed(s,!1)}t.attr(a)||t.attr(a,"!!")}r(t,e)}else n&&(t.attr(a,null),"!!"===n?r(t):r(t,n))}},{"./setcursor":167}],160:[function(t,e,n){"use strict";var r=t("./matrix").dot,a=t("../constants/numerical").BADNUM,i=e.exports={};i.tester=function(t){function e(t,e){var n=t[0],r=t[1];return!(n===a||n<i||n>o||r===a||r<s||r>l||e&&u(t))}function n(t,e){var n=t[0],c=t[1];if(n===a||n<i||n>o||c===a||c<s||c>l)return!1;var u,d,f,p,h,g=r.length,v=r[0][0],m=r[0][1],y=0;for(u=1;u<g;u++)if(d=v,f=m,v=r[u][0],m=r[u][1],p=Math.min(d,v),!(n<p||n>Math.max(d,v)||c>Math.max(f,m)))if(c<Math.min(f,m))n!==p&&y++;else{if(h=v===d?c:f+(n-d)*(m-f)/(v-d),c===h)return 1!==u||!e;c<=h&&n!==p&&y++}return y%2==1}var r=t.slice(),i=r[0][0],o=i,s=r[0][1],l=s;r.push(r[0]);for(var c=1;c<r.length;c++)i=Math.min(i,r[c][0]),o=Math.max(o,r[c][0]),s=Math.min(s,r[c][1]),l=Math.max(l,r[c][1]);var u,d=!1;return 5===r.length&&(r[0][0]===r[1][0]?r[2][0]===r[3][0]&&r[0][1]===r[3][1]&&r[1][1]===r[2][1]&&(d=!0,u=function(t){return t[0]===r[0][0]}):r[0][1]===r[1][1]&&r[2][1]===r[3][1]&&r[0][0]===r[3][0]&&r[1][0]===r[2][0]&&(d=!0,u=function(t){return t[1]===r[0][1]})),{xmin:i,xmax:o,ymin:s,ymax:l,pts:r,contains:d?e:n,isRect:d}};var o=i.isSegmentBent=function(t,e,n,a){var i,o,s,l=t[e],c=[t[n][0]-l[0],t[n][1]-l[1]],u=r(c,c),d=Math.sqrt(u),f=[-c[1]/d,c[0]/d];for(i=e+1;i<n;i++)if(o=[t[i][0]-l[0],t[i][1]-l[1]],(s=r(o,c))<0||s>u||Math.abs(r(o,f))>a)return!0;return!1};i.filter=function(t,e){function n(n){t.push(n);var s=r.length,l=a;r.splice(i+1);for(var c=l+1;c<t.length;c++)(c===t.length-1||o(t,l,c+1,e))&&(r.push(t[c]),r.length<s-2&&(a=c,i=r.length-1),l=c)}var r=[t[0]],a=0,i=0;return t.length>1&&n(t.pop()),{addPt:n,raw:t,filtered:r}}},{"../constants/numerical":133,"./matrix":154}],161:[function(t,e,n){"use strict";e.exports=function(t,e){if(e instanceof RegExp){var n,r=e.toString();for(n=0;n<t.length;n++)if(t[n]instanceof RegExp&&t[n].toString()===r)return t;t.push(e)}else e&&-1===t.indexOf(e)&&t.push(e);return t}},{}],162:[function(t,e,n){"use strict";function r(t,e){for(var n,r=[],i=0;i<e.length;i++)n=e[i],r[i]=n===t?n:"object"==typeof n?Array.isArray(n)?a.extendDeep([],n):a.extendDeepAll({},n):n;return r}var a=t("../lib"),i=t("../plot_api/plot_config"),o={};o.add=function(t,e,n,r,a){var o,s;if(t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},s=t.undoQueue.index,t.autoplay)return void(t.undoQueue.inSequence||(t.autoplay=!1));!t.undoQueue.sequence||t.undoQueue.beginSequence?(o={undo:{calls:[],args:[]},redo:{calls:[],args:[]}},t.undoQueue.queue.splice(s,t.undoQueue.queue.length-s,o),t.undoQueue.index+=1):o=t.undoQueue.queue[s-1],t.undoQueue.beginSequence=!1,o&&(o.undo.calls.unshift(e),o.undo.args.unshift(n),o.redo.calls.push(r),o.redo.args.push(a)),t.undoQueue.queue.length>i.queueLength&&(t.undoQueue.queue.shift(),t.undoQueue.index--)},o.startSequence=function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!0,t.undoQueue.beginSequence=!0},o.stopSequence=function(t){t.undoQueue=t.undoQueue||{index:0,queue:[],sequence:!1},t.undoQueue.sequence=!1,t.undoQueue.beginSequence=!1},o.undo=function(t){var e,n;if(t.framework&&t.framework.isPolar)return void t.framework.undo();if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index<=0)){for(t.undoQueue.index--,e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<e.undo.calls.length;n++)o.plotDo(t,e.undo.calls[n],e.undo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1}},o.redo=function(t){var e,n;if(t.framework&&t.framework.isPolar)return void t.framework.redo();if(!(void 0===t.undoQueue||isNaN(t.undoQueue.index)||t.undoQueue.index>=t.undoQueue.queue.length)){for(e=t.undoQueue.queue[t.undoQueue.index],t.undoQueue.inSequence=!0,n=0;n<e.redo.calls.length;n++)o.plotDo(t,e.redo.calls[n],e.redo.args[n]);t.undoQueue.inSequence=!1,t.autoplay=!1,t.undoQueue.index++}},o.plotDo=function(t,e,n){t.autoplay=!0,n=r(t,n),e.apply(null,n)},e.exports=o},{"../lib":149,"../plot_api/plot_config":177}],163:[function(t,e,n){"use strict";n.counter=function(t,e,n){return new RegExp("^"+t+"([2-9]|[1-9][0-9]+)?"+(e||"")+(n?"":"$"))}},{}],164:[function(t,e,n){"use strict";var r=/^(.*)(\.[^\.\[\]]+|\[\d\])$/,a=/^[^\.\[\]]+$/;e.exports=function(t,e){for(;e;){var n=t.match(r);if(n)t=n[1];else{if(!t.match(a))throw new Error("bad relativeAttr call:"+[t,e]);t=""}if("^"!==e.charAt(0))break;e=e.slice(1)}return t&&"["!==e.charAt(0)?t+"."+e:t+e}},{}],165:[function(t,e,n){"use strict";var r=t("./is_array"),a=t("./is_plain_object");e.exports=function t(e,n){for(var i=Object.keys(n||{}),o=0;o<i.length;o++){var s=i[o],l=n[s],c=e[s];if("_"===s.charAt(0)||"function"==typeof l){if(s in e)continue;e[s]=l}else if(r(l)&&r(c)&&a(l[0]))for(var u=0;u<l.length;u++)a(l[u])&&a(c[u])&&t(c[u],l[u]);else a(l)&&a(c)&&(t(c,l),Object.keys(c).length||delete e[s])}}},{"./is_array":150,"./is_plain_object":151}],166:[function(t,e,n){"use strict";function r(t,e){return t<e}function a(t,e){return t<=e}function i(t,e){return t>e}function o(t,e){return t>=e}var s=t("fast-isnumeric"),l=t("./loggers");n.findBin=function(t,e,n){if(s(e.start))return n?Math.ceil((t-e.start)/e.size)-1:Math.floor((t-e.start)/e.size);var c,u,d=0,f=e.length,p=0;for(u=e[e.length-1]>=e[0]?n?r:a:n?o:i;d<f&&p++<100;)c=Math.floor((d+f)/2),u(e[c],t)?d=c+1:f=c;return p>90&&l.log("Long binary search..."),d-1},n.sorterAsc=function(t,e){return t-e},n.sorterDes=function(t,e){return e-t},n.distinctVals=function(t){var e=t.slice();e.sort(n.sorterAsc);for(var r=e.length-1,a=e[r]-e[0]||1,i=a/(r||1)/1e4,o=[e[0]],s=0;s<r;s++)e[s+1]>e[s]+i&&(a=Math.min(a,e[s+1]-e[s]),o.push(e[s+1]));return{vals:o,minDiff:a}},n.roundUp=function(t,e,n){for(var r,a=0,i=e.length-1,o=0,s=n?0:1,l=n?1:0,c=n?Math.ceil:Math.floor;a<i&&o++<100;)r=c((a+i)/2),e[r]<=t?a=r+s:i=r-l;return e[a]}},{"./loggers":153,"fast-isnumeric":10}],167:[function(t,e,n){"use strict";e.exports=function(t,e){(t.attr("class")||"").split(" ").forEach(function(e){0===e.indexOf("cursor-")&&t.classed(e,!1)}),e&&t.classed("cursor-"+e,!0)}},{}],168:[function(t,e,n){"use strict";var r=t("fast-isnumeric");n.aggNums=function(t,e,a,i){var o,s;if(i||(i=a.length),r(e)||(e=!1),Array.isArray(a[0])){for(s=new Array(i),o=0;o<i;o++)s[o]=n.aggNums(t,e,a[o]);a=s}for(o=0;o<i;o++)r(e)?r(a[o])&&(e=t(+e,+a[o])):e=a[o];return e},n.len=function(t){return n.aggNums(function(t){return t+1},0,t)},n.mean=function(t,e){return e||(e=n.len(t)),n.aggNums(function(t,e){return t+e},0,t)/e},n.variance=function(t,e,a){return e||(e=n.len(t)),r(a)||(a=n.mean(t,e)),n.aggNums(function(t,e){return t+Math.pow(e-a,2)},0,t)/e},n.stdev=function(t,e,r){return Math.sqrt(n.variance(t,e,r))},n.interp=function(t,e){if(!r(e))throw"n should be a finite number";if((e=e*t.length-.5)<0)return t[0];if(e>t.length-1)return t[t.length-1];var n=e%1;return n*t[Math.ceil(e)]+(1-n)*t[Math.floor(e)]}},{"fast-isnumeric":10}],169:[function(t,e,n){"use strict";function r(t,e){return t.node().getBoundingClientRect()[e]}function a(t){return t.replace(m,"\\lt ").replace(y,"\\gt ")}function i(t,e,n){var r="math-output-"+f.randstr([],64),i=d.select("body").append("div").attr({id:r}).style({visibility:"hidden",position:"absolute"}).style({"font-size":e.fontSize+"px"}).text(a(t));MathJax.Hub.Queue(["Typeset",MathJax.Hub,i.node()],function(){var e=d.select("body").select("#MathJax_SVG_glyphs");if(i.select(".MathJax_SVG").empty()||!i.select("svg").node())f.log("There was an error in the tex syntax.",t),n();else{var r=i.select("svg").node().getBoundingClientRect();n(i.select(".MathJax_SVG"),e,r)}i.remove()})}function o(t,e){if(!t)return null;var n=t.match(e);return n&&(n[3]||n[4])}function s(t,e){if(!t)return"";for(var n=0;n<e.length;n++){var r=e[n];t=t.replace(r.regExp,r.sub)}return t}function l(t){return s(t,A)}function c(t,e){function n(){u++;var e=document.createElementNS(p.svg,"tspan");d.select(e).attr({class:"line",dy:u*g+"em"}),t.appendChild(e),i=e;var n=c;if(c=[{node:e}],n.length>1)for(var a=1;a<n.length;a++)r(n[a])}function r(t){var e,n=t.type,r={};if("a"===n){e="a";var o=t.target,s=t.href,l=t.popup;s&&(r={"xlink:xlink:show":"_blank"===o||"_"!==o.charAt(0)?"new":"replace",target:o,"xlink:xlink:href":s},l&&(r.onclick='window.open(this.href.baseVal,this.target.baseVal,"'+l+'");return false;'))}else e="tspan";t.style&&(r.style=t.style);var u=document.createElementNS(p.svg,e);if("sup"===n||"sub"===n){a(i,w),i.appendChild(u);var f=document.createElementNS(p.svg,"tspan");a(f,w),d.select(f).attr("dy",_[n]),r.dy=x[n],i.appendChild(u),i.appendChild(f)}else i.appendChild(u);d.select(u).attr(r),i=t.node=u,c.push(t)}function a(t,e){t.appendChild(document.createTextNode(e))}e=l(e).replace(M," ");var i,s=!1,c=[],u=-1;E.test(e)?n():(i=t,c=[{node:t}]);for(var h=e.split(C),v=0;v<h.length;v++){var m=h[v],y=m.match(S),k=y&&y[2].toLowerCase(),A=b[k];if("br"===k)n();else if(void 0===A)a(i,m);else if(y[1])!function(t){if(1===c.length)return void f.log("Ignoring unexpected end tag </"+t+">.",e);var n=c.pop();t!==n.type&&f.log("Start tag <"+n.type+"> doesnt match end tag <"+t+">. Pretending it did match.",e),i=c[c.length-1].node}(k);else{var N=y[4],z={type:k},R=o(N,L);if(R?(R=R.replace(P,"$1 fill:"),A&&(R+=";"+A)):A&&(R=A),R&&(z.style=R),"a"===k){s=!0;var F=o(N,O);if(F){var j=document.createElement("a");j.href=F,-1!==T.indexOf(j.protocol)&&(z.href=encodeURI(F),z.target=o(N,D)||"_blank",z.popup=o(N,I))}}r(z)}}return s}function u(t,e,n){var r,a,i,o=n.horizontalAlign,s=n.verticalAlign||"top",l=t.node().getBoundingClientRect(),c=e.node().getBoundingClientRect();return a="bottom"===s?function(){return l.bottom-r.height}:"middle"===s?function(){return l.top+(l.height-r.height)/2}:function(){return l.top},i="right"===o?function(){return l.right-r.width}:"center"===o?function(){return l.left+(l.width-r.width)/2}:function(){return l.left},function(){return r=this.node().getBoundingClientRect(),this.style({top:a()-c.top+"px",left:i()-c.left+"px","z-index":1e3}),this}}var d=t("d3"),f=t("../lib"),p=t("../constants/xmlns_namespaces"),h=t("../constants/string_mappings"),g=t("../constants/alignment").LINE_SPACING,v=/([^$]*)([$]+[^$]*[$]+)([^$]*)/;n.convertToTspans=function(t,e,a){function o(){u.empty()||(f=t.attr("class")+"-math",u.select("svg."+f).remove()),t.text("").style("white-space","pre"),c(t.node(),s)&&t.style("pointer-events","all"),n.positionText(t),a&&a.call(t)}var s=t.text(),l=!t.attr("data-notex")&&"undefined"!=typeof MathJax&&s.match(v),u=d.select(t.node().parentNode);if(!u.empty()){var f=t.attr("class")?t.attr("class").split(" ")[0]:"text";return f+="-math",u.selectAll("svg."+f).remove(),u.selectAll("g."+f+"-group").remove(),t.style("display",null).attr({"data-unformatted":s,"data-math":"N"}),l?(e&&e._promises||[]).push(new Promise(function(e){t.style("display","none");var n=parseInt(t.node().style.fontSize,10);i(l[2],{fontSize:n},function(i,l,c){u.selectAll("svg."+f).remove(),u.selectAll("g."+f+"-group").remove();var d=i&&i.select("svg");if(!d||!d.node())return o(),void e();var p=u.append("g").classed(f+"-group",!0).attr({"pointer-events":"none","data-unformatted":s,"data-math":"Y"});p.node().appendChild(d.node()),l&&l.node()&&d.node().insertBefore(l.node().cloneNode(!0),d.node().firstChild),d.attr({class:f,height:c.height,preserveAspectRatio:"xMinYMin meet"}).style({overflow:"visible","pointer-events":"none"});var h=t.node().style.fill||"black";d.select("g").attr({fill:h,stroke:h});var g=r(d,"width"),v=r(d,"height"),m=+t.attr("x")-g*{start:0,middle:.5,end:1}[t.attr("text-anchor")||"start"],y=n||r(t,"height"),b=-y/4;"y"===f[0]?(p.attr({transform:"rotate("+[-90,+t.attr("x"),+t.attr("y")]+") translate("+[-g/2,b-v/2]+")"}),d.attr({x:+t.attr("x"),y:+t.attr("y")})):"l"===f[0]?d.attr({x:t.attr("x"),y:b-v/2}):"a"===f[0]?d.attr({x:0,y:b}):d.attr({x:m,y:+t.attr("y")+b-v/2}),a&&a.call(t,p),e(p)})})):o(),t}};var m=/(<|&lt;|&#60;)/g,y=/(>|&gt;|&#62;)/g,b={sup:"font-size:70%",sub:"font-size:70%",b:"font-weight:bold",i:"font-style:italic",a:"cursor:pointer",span:"",em:"font-style:italic;font-weight:bold"},x={sub:"0.3em",sup:"-0.6em"},_={sub:"-0.21em",sup:"0.42em"},w="",T=["http:","https:","mailto:","",void 0,":"],k=new RegExp("</?("+Object.keys(b).join("|")+")( [^>]*)?/?>","g"),A=Object.keys(h.entityToUnicode).map(function(t){return{regExp:new RegExp("&"+t+";","g"),sub:h.entityToUnicode[t]}}),M=/(\r\n?|\n)/g,C=/(<[^<>]*>)/,S=/<(\/?)([^ >]*)(\s+(.*))?>/i,E=/<br(\s+.*)?>/i,L=/(^|[\s"'])style\s*=\s*("([^"]*);?"|'([^']*);?')/i,O=/(^|[\s"'])href\s*=\s*("([^"]*)"|'([^']*)')/i,D=/(^|[\s"'])target\s*=\s*("([^"\s]*)"|'([^'\s]*)')/i,I=/(^|[\s"'])popup\s*=\s*("([\w=,]*)"|'([\w=,]*)')/i,P=/(^|;)\s*color:/;n.plainText=function(t){return(t||"").replace(k," ")},n.lineCount=function(t){return t.selectAll("tspan.line").size()||1},n.positionText=function(t,e,n){return t.each(function(){function t(t,e){return void 0===e?null===(e=r.attr(t))&&(r.attr(t,0),e=0):r.attr(t,e),e}var r=d.select(this),a=t("x",e),i=t("y",n);"text"===this.nodeName&&r.selectAll("tspan.line").attr({x:a,y:i})})},n.makeEditable=function(t,e){function n(){a(),t.style({opacity:0});var e,n=l.attr("class");(e=n?"."+n.split(" ")[0]+"-math-group":"[class*=-math-group]")&&d.select(t.node().parentNode).select(e).style({opacity:0})}function r(t){var e=t.node(),n=document.createRange();n.selectNodeContents(e);var r=window.getSelection();r.removeAllRanges(),r.addRange(n),e.focus()}function a(){var n=d.select(i),a=n.select(".svg-container"),o=a.append("div"),l=t.node().style,c=parseFloat(l.fontSize||12);o.classed("plugin-editable editable",!0).style({position:"absolute","font-family":l.fontFamily||"Arial","font-size":c,color:e.fill||l.fill||"black",opacity:1,"background-color":e.background||"transparent",outline:"#ffffff33 1px solid",margin:[-c/8+1,0,0,-1].join("px ")+"px",padding:"0","box-sizing":"border-box"}).attr({contenteditable:!0}).text(e.text||t.attr("data-unformatted")).call(u(t,a,e)).on("blur",function(){i._editing=!1,t.text(this.textContent).style({opacity:1});var e,n=d.select(this).attr("class");(e=n?"."+n.split(" ")[0]+"-math-group":"[class*=-math-group]")&&d.select(t.node().parentNode).select(e).style({opacity:0});var r=this.textContent;d.select(this).transition().duration(0).remove(),d.select(document).on("mouseup",null),s.edit.call(t,r)}).on("focus",function(){var t=this;i._editing=!0,d.select(document).on("mouseup",function(){if(d.event.target===t)return!1;document.activeElement===o.node()&&o.node().blur()})}).on("keyup",function(){27===d.event.which?(i._editing=!1,t.style({opacity:1}),d.select(this).style({opacity:0}).on("blur",function(){return!1}).transition().remove(),s.cancel.call(t,this.textContent)):(s.input.call(t,this.textContent),d.select(this).call(u(t,a,e)))}).on("keydown",function(){13===d.event.which&&this.blur()}).call(r)}var i=e.gd,o=e.delegate,s=d.dispatch("edit","input","cancel"),l=o||t;if(t.style({"pointer-events":o?"none":"all"}),1!==t.size())throw new Error("boo");return e.immediate?n():l.on("click",n),d.rebind(t,s,"on")}},{"../constants/alignment":131,"../constants/string_mappings":134,"../constants/xmlns_namespaces":135,"../lib":149,d3:7}],170:[function(t,e,n){"use strict";function r(t){t&&null!==t.timer&&(clearTimeout(t.timer),t.timer=null)}var a={};n.throttle=function(t,e,n){function i(){n(),o.ts=Date.now(),o.onDone&&(o.onDone(),o.onDone=null)}var o=a[t],s=Date.now();if(!o){for(var l in a)a[l].ts<s-6e4&&delete a[l];o=a[t]={ts:0,timer:null}}if(r(o),s>o.ts+e)return void i();o.timer=setTimeout(function(){i(),o.timer=null},e)},n.done=function(t){var e=a[t];return e&&e.timer?new Promise(function(t){var n=e.onDone;e.onDone=function(){n&&n(),t(),e.onDone=null}}):Promise.resolve()},n.clear=function(t){if(t)r(a[t]),delete a[t];else for(var e in a)n.clear(e)}},{}],171:[function(t,e,n){"use strict";var r=t("fast-isnumeric");e.exports=function(t,e){if(t>0)return Math.log(t)/Math.LN10;var n=Math.log(Math.min(e[0],e[1]))/Math.LN10;return r(n)||(n=Math.log(Math.max(e[0],e[1]))/Math.LN10-6),n}},{"fast-isnumeric":10}],172:[function(t,e,n){"use strict";var r=t("../registry");e.exports=function(t){for(var e,n,a=r.layoutArrayContainers,i=r.layoutArrayRegexes,o=t.split("[")[0],s=0;s<i.length;s++)if((n=t.match(i[s]))&&0===n.index){e=n[0];break}if(e||(e=a[a.indexOf(o)]),!e)return!1;var l=t.substr(e.length);return l?!!(n=l.match(/^\[(0|[1-9][0-9]*)\](\.(.+))?$/))&&{array:e,index:Number(n[1]),property:n[3]||""}:{array:e,index:"",property:""}}},{"../registry":225}],173:[function(t,e,n){"use strict";function r(t){for(var e={},n=0;n<t.length;n++)e[t[n]]=!1;return e}function a(t,e,n){var r=s({},t);for(var a in r){var o=r[a];l(o)&&(r[a]=i(o,e,n,a))}return"from-root"===n&&(r.editType=e),r}function i(t,e,n,r){if(t.valType){var o=s({},t);if(o.editType=e,Array.isArray(t.items)){o.items=new Array(t.items.length);for(var l=0;l<t.items.length;l++)o.items[l]=i(t.items[l],e,"from-root")}return o}return a(t,e,"_"===r.charAt(0)?"nested":"from-root")}var o=t("../lib"),s=o.extendFlat,l=o.isPlainObject,c={valType:"flaglist",extras:["none"],flags:["calc","calcIfAutorange","clearAxisTypes","plot","style","colorbars"]},u={valType:"flaglist",extras:["none"],flags:["calc","calcIfAutorange","plot","legend","ticks","layoutstyle","modebar","camera","arraydraw"]},d=c.flags.slice().concat(["clearCalc","fullReplot"]),f=u.flags.slice().concat("layoutReplot");e.exports={traces:c,layout:u,traceFlags:function(){return r(d)},layoutFlags:function(){return r(f)},update:function(t,e){var n=e.editType;if(n&&"none"!==n)for(var r=n.split("+"),a=0;a<r.length;a++)t[r[a]]=!0},overrideAll:a}},{"../lib":149}],174:[function(t,e,n){"use strict";function r(t,e){var n=t[e],r=e.charAt(0);n&&"paper"!==n&&(t[e]=f.cleanId(n,r))}function a(t){var e="middle",n="center";return-1!==t.indexOf("top")?e="top":-1!==t.indexOf("bottom")&&(e="bottom"),-1!==t.indexOf("left")?n="left":-1!==t.indexOf("right")&&(n="right"),e+" "+n}function i(t,e){return e in t&&"object"==typeof t[e]&&0===Object.keys(t[e]).length}function o(t){var e=t.search(h);if(e>0)return t.substr(0,e)}var s=t("fast-isnumeric"),l=t("gl-mat4/fromQuat"),c=t("../registry"),u=t("../lib"),d=t("../plots/plots"),f=t("../plots/cartesian/axes"),p=t("../components/color");n.clearPromiseQueue=function(t){Array.isArray(t._promises)&&t._promises.length>0&&u.log("Clearing previous rejected promises from queue."),t._promises=[]},n.cleanLayout=function(t){var e,n;t||(t={}),t.xaxis1&&(t.xaxis||(t.xaxis=t.xaxis1),delete t.xaxis1),t.yaxis1&&(t.yaxis||(t.yaxis=t.yaxis1),delete t.yaxis1);var a=f.list({_fullLayout:t});for(e=0;e<a.length;e++){var o=a[e];o.anchor&&"free"!==o.anchor&&(o.anchor=f.cleanId(o.anchor)),o.overlaying&&(o.overlaying=f.cleanId(o.overlaying)),o.type||(o.isdate?o.type="date":o.islog?o.type="log":!1===o.isdate&&!1===o.islog&&(o.type="linear")),"withzero"!==o.autorange&&"tozero"!==o.autorange||(o.autorange=!0,o.rangemode="tozero"),delete o.islog,delete o.isdate,delete o.categories,i(o,"domain")&&delete o.domain,void 0!==o.autotick&&(void 0===o.tickmode&&(o.tickmode=o.autotick?"auto":"linear"),delete o.autotick)}var s=Array.isArray(t.annotations)?t.annotations.length:0;for(e=0;e<s;e++){var c=t.annotations[e];u.isPlainObject(c)&&(c.ref&&("paper"===c.ref?(c.xref="paper",c.yref="paper"):"data"===c.ref&&(c.xref="x",c.yref="y"),delete c.ref),r(c,"xref"),r(c,"yref"))}var h=Array.isArray(t.shapes)?t.shapes.length:0;for(e=0;e<h;e++){var g=t.shapes[e];u.isPlainObject(g)&&(r(g,"xref"),r(g,"yref"))}var v=t.legend;v&&(v.x>3?(v.x=1.02,v.xanchor="left"):v.x<-2&&(v.x=-.02,v.xanchor="right"),v.y>3?(v.y=1.02,v.yanchor="bottom"):v.y<-2&&(v.y=-.02,v.yanchor="top")),"rotate"===t.dragmode&&(t.dragmode="orbit"),t.scene1&&(t.scene||(t.scene=t.scene1),delete t.scene1);var m=d.getSubplotIds(t,"gl3d");for(e=0;e<m.length;e++){var y=t[m[e]],b=y.cameraposition;if(Array.isArray(b)&&4===b[0].length){var x=b[0],_=b[1],w=b[2],T=l([],x),k=[];for(n=0;n<3;++n)k[n]=_[e]+w*T[2+4*n];y.camera={eye:{x:k[0],y:k[1],z:k[2]},center:{x:_[0],y:_[1],z:_[2]},up:{x:T[1],y:T[5],z:T[9]}},delete y.cameraposition}}return p.clean(t),t},n.cleanData=function(t,e){for(var r=[],o=(t.concat(Array.isArray(e)?e:[]).filter(function(t){return"uid"in t}).map(function(t){return t.uid})),s=0;s<t.length;s++){var l,h=t[s];if(!("uid"in h)||-1!==r.indexOf(h.uid)){var g;for(l=0;l<100&&(g=u.randstr(o),-1!==r.indexOf(g));l++);h.uid=u.randstr(o),o.push(h.uid)}if(r.push(h.uid),"histogramy"===h.type&&"xbins"in h&&!("ybins"in h)&&(h.ybins=h.xbins,
delete h.xbins),h.error_y&&"opacity"in h.error_y){var v=p.defaults,m=h.error_y.color||(c.traceIs(h,"bar")?p.defaultLine:v[s%v.length]);h.error_y.color=p.addOpacity(p.rgb(m),p.opacity(m)*h.error_y.opacity),delete h.error_y.opacity}if("bardir"in h&&("h"!==h.bardir||!c.traceIs(h,"bar")&&"histogram"!==h.type.substr(0,9)||(h.orientation="h",n.swapXYData(h)),delete h.bardir),"histogramy"===h.type&&n.swapXYData(h),"histogramx"!==h.type&&"histogramy"!==h.type||(h.type="histogram"),"scl"in h&&(h.colorscale=h.scl,delete h.scl),"reversescl"in h&&(h.reversescale=h.reversescl,delete h.reversescl),h.xaxis&&(h.xaxis=f.cleanId(h.xaxis,"x")),h.yaxis&&(h.yaxis=f.cleanId(h.yaxis,"y")),c.traceIs(h,"gl3d")&&h.scene&&(h.scene=d.subplotsRegistry.gl3d.cleanId(h.scene)),c.traceIs(h,"pie")||c.traceIs(h,"bar")||(Array.isArray(h.textposition)?h.textposition=h.textposition.map(a):h.textposition&&(h.textposition=a(h.textposition))),c.traceIs(h,"2dMap")&&("YIGnBu"===h.colorscale&&(h.colorscale="YlGnBu"),"YIOrRd"===h.colorscale&&(h.colorscale="YlOrRd")),c.traceIs(h,"markerColorscale")&&h.marker){var y=h.marker;"YIGnBu"===y.colorscale&&(y.colorscale="YlGnBu"),"YIOrRd"===y.colorscale&&(y.colorscale="YlOrRd")}if("surface"===h.type&&u.isPlainObject(h.contours)){var b=["x","y","z"];for(l=0;l<b.length;l++){var x=h.contours[b[l]];u.isPlainObject(x)&&(x.highlightColor&&(x.highlightcolor=x.highlightColor,delete x.highlightColor),x.highlightWidth&&(x.highlightwidth=x.highlightWidth,delete x.highlightWidth))}}if(Array.isArray(h.transforms)){var _=h.transforms;for(l=0;l<_.length;l++){var w=_[l];if(u.isPlainObject(w))switch(w.type){case"filter":w.filtersrc&&(w.target=w.filtersrc,delete w.filtersrc),w.calendar&&(w.valuecalendar||(w.valuecalendar=w.calendar),delete w.calendar);break;case"groupby":if(w.styles=w.styles||w.style,w.styles&&!Array.isArray(w.styles)){var T=w.styles,k=Object.keys(T);w.styles=[];for(var A=0;A<k.length;A++)w.styles.push({target:k[A],value:T[k[A]]})}}}}i(h,"line")&&delete h.line,"marker"in h&&(i(h.marker,"line")&&delete h.marker.line,i(h,"marker")&&delete h.marker),p.clean(h)}},n.swapXYData=function(t){var e;if(u.swapAttrs(t,["?","?0","d?","?bins","nbins?","autobin?","?src","error_?"]),Array.isArray(t.z)&&Array.isArray(t.z[0])&&(t.transpose?delete t.transpose:t.transpose=!0),t.error_x&&t.error_y){var n=t.error_y,r="copy_ystyle"in n?n.copy_ystyle:!(n.color||n.thickness||n.width);u.swapAttrs(t,["error_?.copy_ystyle"]),r&&u.swapAttrs(t,["error_?.color","error_?.thickness","error_?.width"])}if("string"==typeof t.hoverinfo){var a=t.hoverinfo.split("+");for(e=0;e<a.length;e++)"x"===a[e]?a[e]="y":"y"===a[e]&&(a[e]="x");t.hoverinfo=a.join("+")}},n.coerceTraceIndices=function(t,e){return s(e)?[e]:Array.isArray(e)&&e.length?e:t.data.map(function(t,e){return e})},n.manageArrayContainers=function(t,e,n){var r=t.obj,a=t.parts,i=a.length,o=a[i-1],l=s(o);if(l&&null===e){var c=a.slice(0,i-1).join(".");u.nestedProperty(r,c).get().splice(o,1)}else l&&void 0===t.get()?(void 0===t.get()&&(n[t.astr]=null),t.set(e)):t.set(e)};var h=/(\.[^\[\]\.]+|\[[^\[\]\.]+\])$/;n.hasParent=function(t,e){for(var n=o(e);n;){if(n in t)return!0;n=o(n)}return!1};var g=["x","y","z"];n.clearAxisTypes=function(t,e,n){for(var r=0;r<e.length;r++)for(var a=t._fullData[r],i=0;i<3;i++){var o=f.getFromTrace(t,a,g[i]);if(o&&"log"!==o.type){var s=o._name,l=o._id.substr(1);if("scene"===l.substr(0,5)){if(void 0!==n[l])continue;s=l+"."+s}var c=s+".type";void 0===n[s]&&void 0===n[c]&&u.nestedProperty(t.layout,c).set(null)}}}},{"../components/color":34,"../lib":149,"../plots/cartesian/axes":189,"../plots/plots":218,"../registry":225,"fast-isnumeric":10,"gl-mat4/fromQuat":11}],175:[function(t,e,n){"use strict";var r=t("../lib/nested_property"),a=t("../lib/is_plain_object"),i=t("../lib/noop"),o=t("../lib/loggers"),s=t("../lib/search").sorterAsc,l=t("../registry");n.containerArrayMatch=t("./container_array_match");var c=n.isAddVal=function(t){return"add"===t||a(t)},u=n.isRemoveVal=function(t){return null===t||"remove"===t};n.applyContainerArrayChanges=function(t,e,n,a){var d=e.astr,f=l.getComponentMethod(d,"supplyLayoutDefaults"),p=l.getComponentMethod(d,"draw"),h=l.getComponentMethod(d,"drawOne"),g=a.replot||a.recalc||f===i||p===i,v=t.layout,m=t._fullLayout;if(n[""]){Object.keys(n).length>1&&o.warn("Full array edits are incompatible with other edits",d);var y=n[""][""];if(u(y))e.set(null);else{if(!Array.isArray(y))return o.warn("Unrecognized full array edit value",d,y),!0;e.set(y)}return!g&&(f(v,m),p(t),!0)}var b,x,_,w,T,k,A,M=Object.keys(n).map(Number).sort(s),C=e.get(),S=C||[],E=r(m,d).get(),L=[],O=-1,D=S.length;for(b=0;b<M.length;b++)if(_=M[b],w=n[_],T=Object.keys(w),k=w[""],A=c(k),_<0||_>S.length-(A?0:1))o.warn("index out of range",d,_);else if(void 0!==k)T.length>1&&o.warn("Insertion & removal are incompatible with edits to the same index.",d,_),u(k)?L.push(_):A?("add"===k&&(k={}),S.splice(_,0,k),E&&E.splice(_,0,{})):o.warn("Unrecognized full object edit value",d,_,k),-1===O&&(O=_);else for(x=0;x<T.length;x++)r(S[_],T[x]).set(w[T[x]]);for(b=L.length-1;b>=0;b--)S.splice(L[b],1),E&&E.splice(L[b],1);if(S.length?C||e.set(S):e.set(null),g)return!1;if(f(v,m),h!==i){var I;if(-1===O)I=M;else{for(D=Math.max(S.length,D),I=[],b=0;b<M.length&&!((_=M[b])>=O);b++)I.push(_);for(b=O;b<D;b++)I.push(b)}for(b=0;b<I.length;b++)h(t,I[b])}else p(t);return!0}},{"../lib/is_plain_object":151,"../lib/loggers":153,"../lib/nested_property":156,"../lib/noop":157,"../lib/search":166,"../registry":225,"./container_array_match":172}],176:[function(t,e,n){"use strict";function r(t,e){try{t._fullLayout._paper.style("background",e)}catch(t){w.error(t)}}function a(t,e){r(t,O.combine(e,"white"))}function i(t,e){t._context||(t._context=w.extendDeep({},_.defaultConfig));var n,i,o,s=t._context;if(e){for(i=Object.keys(e),n=0;n<i.length;n++)"editable"!==(o=i[n])&&"edits"!==o&&o in s&&("setBackground"===o&&"opaque"===e[o]?s[o]=a:s[o]=e[o]);e.plot3dPixelRatio&&!s.plotGlPixelRatio&&(s.plotGlPixelRatio=s.plot3dPixelRatio);var l=e.editable;if(void 0!==l)for(s.editable=l,i=Object.keys(s.edits),n=0;n<i.length;n++)s.edits[i[n]]=l;if(e.edits)for(i=Object.keys(e.edits),n=0;n<i.length;n++)(o=i[n])in s.edits&&(s.edits[o]=e.edits[o])}s.staticPlot&&(s.editable=!1,s.edits={},s.autosizable=!1,s.scrollZoom=!1,s.doubleClick=!1,s.showTips=!1,s.showLink=!1,s.displayModeBar=!1),"hover"!==s.displayModeBar||x||(s.displayModeBar=!0),"transparent"!==s.setBackground&&"function"==typeof s.setBackground||(s.setBackground=r)}function o(t,e,n){var r=y.select(t).selectAll(".plot-container").data([0]);r.enter().insert("div",":first-child").classed("plot-container plotly",!0);var a=r.selectAll(".svg-container").data([0]);a.enter().append("div").classed("svg-container",!0).style("position","relative"),a.html(""),e&&(t.data=e),n&&(t.layout=n),S.manager.fillLayout(t),a.style({width:t._fullLayout.width+"px",height:t._fullLayout.height+"px"}),t.framework=S.manager.framework(t),t.framework({data:t.data,layout:t.layout},a.node()),t.framework.setUndoPoint();var i=t.framework.svg(),o=1,s=t._fullLayout.title;""!==s&&s||(o=0);var l=function(){this.call(P.convertToTspans,t)},c=i.select(".title-group text").call(l);if(t._context.edits.titleText){s&&"Click to enter title"!==s||(o=.2,c.attr({"data-unformatted":"Click to enter title"}).text("Click to enter title").style({opacity:o}).on("mouseover.opacity",function(){y.select(this).transition().duration(100).style("opacity",1)}).on("mouseout.opacity",function(){y.select(this).transition().duration(1e3).style("opacity",0)}));var u=function(){this.call(P.makeEditable,{gd:t}).on("edit",function(e){t.framework({layout:{title:e}}),this.text(e).call(l),this.call(u)}).on("cancel",function(){var t=this.attr("data-unformatted");this.text(t).call(l)})};c.call(u)}return t._context.setBackground(t,t._fullLayout.paper_bgcolor),C.addLinks(t),Promise.resolve()}function s(t,e){var n,r,a=e+1,i=[];for(n=0;n<t.length;n++)r=t[n],r<0?i.push(a+r):i.push(r);return i}function l(t,e,n){var r,a;for(r=0;r<e.length;r++){if((a=e[r])!==parseInt(a,10))throw new Error("all values in "+n+" must be integers");if(a>=t.data.length||a<-t.data.length)throw new Error(n+" must be valid indices for gd.data.");if(e.indexOf(a,r+1)>-1||a>=0&&e.indexOf(-t.data.length+a)>-1||a<0&&e.indexOf(t.data.length+a)>-1)throw new Error("each index in "+n+" must be unique.")}}function c(t,e,n){if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("currentIndices is a required argument.");if(Array.isArray(e)||(e=[e]),l(t,e,"currentIndices"),void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&l(t,n,"newIndices"),void 0!==n&&e.length!==n.length)throw new Error("current and new indices must be of equal length.")}function u(t,e,n){var r,a;if(!Array.isArray(t.data))throw new Error("gd.data must be an array.");if(void 0===e)throw new Error("traces must be defined.");for(Array.isArray(e)||(e=[e]),r=0;r<e.length;r++)if("object"!=typeof(a=e[r])||Array.isArray(a)||null===a)throw new Error("all values in traces array must be non-array objects");if(void 0===n||Array.isArray(n)||(n=[n]),void 0!==n&&n.length!==e.length)throw new Error("if indices is specified, traces.length must equal indices.length")}function d(t,e,n,r){var a=w.isPlainObject(r);if(!Array.isArray(t.data))throw new Error("gd.data must be an array");if(!w.isPlainObject(e))throw new Error("update must be a key:value object");if(void 0===n)throw new Error("indices must be an integer or array of integers");l(t,n,"indices");for(var i in e){if(!Array.isArray(e[i])||e[i].length!==n.length)throw new Error("attribute "+i+" must be an array of length equal to indices array length");if(a&&(!(i in r)||!Array.isArray(r[i])||r[i].length!==e[i].length))throw new Error("when maxPoints is set as a key:value object it must contain a 1:1 corrispondence with the keys and number of traces in the update object")}}function f(t,e,n,r){var a,i,o,l,c,u=w.isPlainObject(r),d=[];Array.isArray(n)||(n=[n]),n=s(n,t.data.length-1);for(var f in e)for(var p=0;p<n.length;p++){if(a=t.data[n[p]],o=w.nestedProperty(a,f),i=o.get(),l=e[f][p],!Array.isArray(l))throw new Error("attribute: "+f+" index: "+p+" must be an array");if(!Array.isArray(i))throw new Error("cannot extend missing or non-array attribute: "+f);c=u?r[f][p]:r,b(c)||(c=-1),d.push({prop:o,target:i,insert:l,maxp:Math.floor(c)})}return d}function p(t,e,n,r,a,i){d(t,e,n,r);for(var o,s,l,c=f(t,e,n,r),u=[],p={},h={},g=0;g<c.length;g++)s=c[g].prop,l=c[g].maxp,o=a(c[g].target,c[g].insert),l>=0&&l<o.length&&(u=i(o,l)),l=c[g].target.length,s.set(o),Array.isArray(p[s.astr])||(p[s.astr]=[]),Array.isArray(h[s.astr])||(h[s.astr]=[]),p[s.astr].push(u),h[s.astr].push(l);return{update:p,maxPoints:h}}function h(t){return void 0===t?null:t}function g(t,e,n){function r(){return n.map(function(){})}function a(t){var e=_.Axes.id2name(t);-1===c.indexOf(e)&&c.push(e)}function i(t){return"LAYOUT"+t+".autorange"}function o(t){return"LAYOUT"+t+".range"}function s(a,i,o){if(Array.isArray(a))return void a.forEach(function(t){s(t,i,o)});if(!(a in e||z.hasParent(e,a))){var l;l="LAYOUT"===a.substr(0,6)?w.nestedProperty(t.layout,a.replace("LAYOUT","")):w.nestedProperty(f[n[o]],a),a in v||(v[a]=r()),void 0===v[a][o]&&(v[a][o]=h(l.get())),void 0!==i&&l.set(i)}}var l,c,u=t._fullLayout,d=t._fullData,f=t.data,p=F.traceFlags(),g={},v={},m={};for(var y in e){if(z.hasParent(e,y))throw new Error("cannot set "+y+"and a parent attribute simultaneously");var b,x,T,k,S,E,L=e[y];if(g[y]=L,"LAYOUT"!==y.substr(0,6)){for(v[y]=r(),l=0;l<n.length;l++)if(b=f[n[l]],x=d[n[l]],T=w.nestedProperty(b,y),k=T.get(),void 0!==(S=Array.isArray(L)?L[l%L.length]:L)){if((E=M.getTraceValObject(x,T.parts))&&E.impliedEdits&&null!==S)for(var O in E.impliedEdits)s(w.relativeAttr(y,O),E.impliedEdits[O],l);else if("colorbar.thicknessmode"===y&&T.get()!==S&&-1!==["fraction","pixels"].indexOf(S)&&x.colorbar){var D=-1!==["top","bottom"].indexOf(x.colorbar.orient)?u.height-u.margin.t-u.margin.b:u.width-u.margin.l-u.margin.r;s("colorbar.thickness",x.colorbar.thickness*("fraction"===S?1/D:D),l)}else if("colorbar.lenmode"===y&&T.get()!==S&&-1!==["fraction","pixels"].indexOf(S)&&x.colorbar){var I=-1!==["top","bottom"].indexOf(x.colorbar.orient)?u.width-u.margin.l-u.margin.r:u.height-u.margin.t-u.margin.b;s("colorbar.len",x.colorbar.len*("fraction"===S?1/I:I),l)}else"colorbar.tick0"!==y&&"colorbar.dtick"!==y||s("colorbar.tickmode","linear",l);if("type"===y&&"pie"===S!=("pie"===k)){var P="x",N="y";"bar"!==S&&"bar"!==k||"h"!==b.orientation||(P="y",N="x"),w.swapAttrs(b,["?","?src"],"labels",P),w.swapAttrs(b,["d?","?0"],"label",P),w.swapAttrs(b,["?","?src"],"values",N),"pie"===k?(w.nestedProperty(b,"marker.color").set(w.nestedProperty(b,"marker.colors").get()),u._pielayer.selectAll("g.trace").remove()):A.traceIs(b,"cartesian")&&(w.nestedProperty(b,"marker.colors").set(w.nestedProperty(b,"marker.color").get()),m[b.xaxis||"x"]=!0,m[b.yaxis||"y"]=!0)}v[y][l]=h(k);var R=["swapxy","swapxyaxes","orientation","orientationaxes"];if(-1!==R.indexOf(y)){if("orientation"===y){T.set(S);var j=b.x&&!b.y?"h":"v";if((T.get()||j)===x.orientation)continue}else"orientationaxes"===y&&(b.orientation={v:"h",h:"v"}[x.orientation]);z.swapXYData(b),p.calc=p.clearAxisTypes=!0}else-1!==C.dataArrayContainers.indexOf(T.parts[0])?(z.manageArrayContainers(T,S,v),p.calc=!0):(E?E.arrayOk&&(Array.isArray(S)||Array.isArray(k))?p.calc=!0:F.update(p,E):p.calc=!0,T.set(S))}if(-1!==["swapxyaxes","orientationaxes"].indexOf(y)&&_.Axes.swap(t,n),"orientationaxes"===y){var H=w.nestedProperty(t.layout,"hovermode");"x"===H.get()?H.set("y"):"y"===H.get()&&H.set("x")}if(-1!==["orientation","type"].indexOf(y)){for(c=[],l=0;l<n.length;l++){var B=f[n[l]];A.traceIs(B,"cartesian")&&(a(B.xaxis||"x"),a(B.yaxis||"y"),"type"===y&&s(["autobinx","autobiny"],!0,l))}s(c.map(i),!0,0),s(c.map(o),[0,1],0)}}else T=w.nestedProperty(t.layout,y.replace("LAYOUT","")),v[y]=[h(T.get())],T.set(Array.isArray(L)?L[0]:L),p.calc=!0}var V=!1,q=_.Axes.list(t);for(l=0;l<q.length;l++)if(q[l].autorange){V=!0;break}var $=Object.keys(m);t:for(l=0;l<$.length;l++){for(var U=$[l],W=U.charAt(0),G=W+"axis",Y=0;Y<f.length;Y++)if(A.traceIs(f[Y],"cartesian")&&(f[Y][G]||W)===U)continue t;s("LAYOUT"+_.Axes.id2name(U),null,0)}return(p.calc||p.calcIfAutorange&&V)&&(p.clearCalc=!0),(p.calc||p.plot||p.calcIfAutorange)&&(p.fullReplot=!0),{flags:p,undoit:v,redoit:g,traces:n,eventData:w.extendDeepNoArrays([],[g,n])}}function v(t,e){function n(t,r){if(Array.isArray(t))return void t.forEach(function(t){n(t,r)});if(!(t in e||z.hasParent(e,t))){var a=w.nestedProperty(l,t);t in x||(x[t]=h(a.get())),void 0!==r&&a.set(r)}}function r(e,n){if(!w.isPlainObject(e))return!1;var r=e[n+"ref"]||n,a=_.Axes.getFromId(t,r);return a||r.charAt(0)!==n||(a=_.Axes.getFromId(t,n)),(a||{}).autorange}function a(t){var e=q.name2id(t.split(".")[0]);return T[e]=1,e}var i,o,s,l=t.layout,c=t._fullLayout,u=Object.keys(e),d=_.Axes.list(t),f={};for(o=0;o<u.length;o++)if(0===u[o].indexOf("allaxes")){for(s=0;s<d.length;s++){var p=d[s]._id.substr(1),g=-1!==p.indexOf("scene")?p+".":"",v=u[o].replace("allaxes",g+d[s]._name);e[v]||(e[v]=e[u[o]])}delete e[u[o]]}var m,y=F.layoutFlags(),b={},x={},T={};for(var k in e){if(z.hasParent(e,k))throw new Error("cannot set "+k+"and a parent attribute simultaneously");var S=w.nestedProperty(l,k),E=e[k],L=S.parts.length,O="string"==typeof S.parts[L-1]?L-1:L-2,D=S.parts[O],I=S.parts[O-1]+"."+D,P=S.parts.slice(0,O).join("."),R=w.nestedProperty(t.layout,P).get(),H=w.nestedProperty(c,P).get(),B=S.get();if(void 0!==E){b[k]=E,x[k]="reverse"===D?E:h(B);var V=M.getLayoutValObject(c,S.parts);if(V&&V.impliedEdits&&null!==E)for(var $ in V.impliedEdits)n(w.relativeAttr(k,$),V.impliedEdits[$]);if(-1!==["width","height"].indexOf(k)&&null===E)c[k]=t._initialAutoSize[k];else if(I.match(/^[xyz]axis[0-9]*\.range(\[[0|1]\])?$/))a(I),w.nestedProperty(c,P+"._inputRange").set(null);else if(I.match(/^[xyz]axis[0-9]*\.autorange$/)){a(I),w.nestedProperty(c,P+"._inputRange").set(null);var U=w.nestedProperty(c,P).get();U._inputDomain&&(U._input.domain=U._inputDomain.slice())}else I.match(/^[xyz]axis[0-9]*\.domain(\[[0|1]\])?$/)&&w.nestedProperty(c,P+"._inputDomain").set(null);if("type"===D){var W=R,G="linear"===H.type&&"log"===E,Y="log"===H.type&&"linear"===E;if(G||Y){if(W&&W.range)if(H.autorange)G&&(W.range=W.range[1]>W.range[0]?[1,2]:[2,1]);else{var X=W.range[0],Z=W.range[1];G?(X<=0&&Z<=0&&n(P+".autorange",!0),X<=0?X=Z/1e6:Z<=0&&(Z=X/1e6),n(P+".range[0]",Math.log(X)/Math.LN10),n(P+".range[1]",Math.log(Z)/Math.LN10)):(n(P+".range[0]",Math.pow(10,X)),n(P+".range[1]",Math.pow(10,Z)))}else n(P+".autorange",!0);A.getComponentMethod("annotations","convertCoords")(t,H,E,n),A.getComponentMethod("images","convertCoords")(t,H,E,n)}else n(P+".autorange",!0),n(P+".range",null);w.nestedProperty(c,P+"._inputRange").set(null)}else if(D.match(j.AX_NAME_PATTERN)){var Q=w.nestedProperty(c,k).get(),K=(E||{}).type;K&&"-"!==K||(K="linear"),A.getComponentMethod("annotations","convertCoords")(t,Q,K,n),A.getComponentMethod("images","convertCoords")(t,Q,K,n)}var J=N.containerArrayMatch(k);if(J){i=J.array,o=J.index;var tt=J.property,et=w.nestedProperty(l,i),nt=(et||[])[o]||{},rt=nt,at=V||{editType:"calc"},it=-1!==at.editType.indexOf("calcIfAutorange");""===o?(it?y.calc=!0:F.update(y,at),it=!1):""===tt&&(rt=E,N.isAddVal(E)?x[k]=null:N.isRemoveVal(E)?(x[k]=nt,rt=nt):w.warn("unrecognized full object value",e)),it&&(r(rt,"x")||r(rt,"y"))?y.calc=!0:F.update(y,at),f[i]||(f[i]={});var ot=f[i][o];ot||(ot=f[i][o]={}),ot[tt]=E,delete e[k]}else"reverse"===D?(R.range?R.range.reverse():(n(P+".autorange",!0),R.range=[1,0]),H.autorange?y.calc=!0:y.plot=!0):((!c._has("gl2d")||"dragmode"!==k||"lasso"!==E&&"select"!==E||"lasso"===B||"select"===B)&&V?F.update(y,V):y.calc=!0,S.set(E))}}for(i in f)N.applyContainerArrayChanges(t,w.nestedProperty(l,i),f[i],y)||(y.plot=!0);var st=c._axisConstraintGroups;for(m in T)for(o=0;o<st.length;o++){var lt=st[o];if(lt[m]){y.calc=!0;for(var ct in lt)T[ct]||(q.getFromId(t,ct)._constraintShrinkable=!0)}}var ut=c.width,dt=c.height;return t.layout.autosize&&C.plotAutoSize(t,t.layout,c),(e.height||e.width||c.width!==ut||c.height!==dt)&&(y.calc=!0),(y.plot||y.calc)&&(y.layoutReplot=!0),{flags:y,undoit:x,redoit:b,eventData:w.extendDeep({},b)}}function m(t){var e=y.select(t),n=t._fullLayout;if(n._container=e.selectAll(".plot-container").data([0]),n._container.enter().insert("div",":first-child").classed("plot-container",!0).classed("plotly",!0),n._paperdiv=n._container.selectAll(".svg-container").data([0]),n._paperdiv.enter().append("div").classed("svg-container",!0).style("position","relative"),n._glcontainer=n._paperdiv.selectAll(".gl-container").data([0]),n._glcontainer.enter().append("div").classed("gl-container",!0),n._paperdiv.selectAll(".main-svg").remove(),n._paper=n._paperdiv.insert("svg",":first-child").classed("main-svg",!0),n._toppaper=n._paperdiv.append("svg").classed("main-svg",!0),!n._uid){var r=[];y.selectAll("defs").each(function(){this.id&&r.push(this.id.split("-")[1])}),n._uid=w.randstr(r)}n._paperdiv.selectAll(".main-svg").attr(I.svgAttrs),n._defs=n._paper.append("defs").attr("id","defs-"+n._uid),n._clips=n._defs.append("g").classed("clips",!0),n._topdefs=n._toppaper.append("defs").attr("id","topdefs-"+n._uid),n._topclips=n._topdefs.append("g").classed("clips",!0),n._bgLayer=n._paper.append("g").classed("bglayer",!0),n._draggers=n._paper.append("g").classed("draglayer",!0);var a=n._paper.append("g").classed("layer-below",!0);n._imageLowerLayer=a.append("g").classed("imagelayer",!0),n._shapeLowerLayer=a.append("g").classed("shapelayer",!0),n._cartesianlayer=n._paper.append("g").classed("cartesianlayer",!0),n._ternarylayer=n._paper.append("g").classed("ternarylayer",!0),n._geolayer=n._paper.append("g").classed("geolayer",!0);var i=n._paper.append("g").classed("layer-above",!0);n._imageUpperLayer=i.append("g").classed("imagelayer",!0),n._shapeUpperLayer=i.append("g").classed("shapelayer",!0),n._pielayer=n._paper.append("g").classed("pielayer",!0),n._glimages=n._paper.append("g").classed("glimages",!0),n._infolayer=n._toppaper.append("g").classed("infolayer",!0),n._zoomlayer=n._toppaper.append("g").classed("zoomlayer",!0),n._hoverlayer=n._toppaper.append("g").classed("hoverlayer",!0),t.emit("plotly_framework")}var y=t("d3"),b=t("fast-isnumeric"),x=t("has-hover"),_=t("../plotly"),w=t("../lib"),T=t("../lib/events"),k=t("../lib/queue"),A=t("../registry"),M=t("./plot_schema"),C=t("../plots/plots"),S=t("../plots/polar"),E=t("../plots/cartesian/graph_interact"),L=t("../components/drawing"),O=t("../components/color"),D=t("../components/errorbars"),I=t("../constants/xmlns_namespaces"),P=t("../lib/svg_text_utils"),N=t("./manage_arrays"),z=t("./helpers"),R=t("./subroutines"),F=t("./edit_types"),j=t("../plots/cartesian/constants"),H=t("../plots/cartesian/constraints"),B=H.enforce,V=H.clean,q=t("../plots/cartesian/axis_ids");_.plot=function(t,e,n,r){function a(){if(g)return _.addFrames(t,g)}function s(){for(var e=x._basePlotModules,n=0;n<e.length;n++)e[n].drawFramework&&e[n].drawFramework(t);return w.syncOrAsync([R.layoutStyles],t)}function l(){var e,n,r,a=t.calcdata;for(A.getComponentMethod("legend","draw")(t),A.getComponentMethod("rangeselector","draw")(t),A.getComponentMethod("sliders","draw")(t),A.getComponentMethod("updatemenus","draw")(t),e=0;e<a.length;e++)n=a[e],r=n[0].trace,!0===r.visible&&r._module.colorbar?r._module.colorbar(t,n):C.autoMargin(t,"cb"+r.uid);return C.doAutoMargin(t),C.previousPromises(t)}function c(){if(JSON.stringify(x._size)!==S)return w.syncOrAsync([l,R.layoutStyles],t)}function u(){if(!k)return void B(t);var e,n,r,a=C.getSubplotIds(x,"cartesian"),i=x._modules,o=[];for(r=0;r<i.length;r++)w.pushUnique(o,i[r].setPositions);if(o.length)for(n=0;n<a.length;n++)for(e=x._plots[a[n]],r=0;r<o.length;r++)o[r](t,e);return D.calc(t),w.syncOrAsync([A.getComponentMethod("shapes","calcAutorange"),A.getComponentMethod("annotations","calcAutorange"),d,A.getComponentMethod("rangeslider","calcAutorange")],t)}function d(){if(!t._transitioning){for(var e=_.Axes.list(t,"",!0),n=0;n<e.length;n++){var r=e[n];V(t,r),_.Axes.doAutoRange(r)}B(t),b&&_.Axes.saveRangeInitial(t)}}function f(){return _.Axes.doTicks(t,"redraw")}function p(){var e,n=t.calcdata,r=x._infolayer.selectAll("g.rangeslider-container");for(e=0;e<n.length;e++){var a=n[e][0].trace,i=!0===a.visible,o=a.uid;if(!i||!A.traceIs(a,"2dMap")){var s=".hm"+o+",.contour"+o+",#clip"+o;x._paper.selectAll(s).remove(),r.selectAll(s).remove()}i&&a._module.colorbar||x._infolayer.selectAll(".cb"+o).remove()}var l=x._basePlotModules;for(e=0;e<l.length;e++)l[e].plot(t);var c=x._paper.selectAll(".layer-subplot");return x._shapeSubplotLayers=c.selectAll(".shapelayer"),C.style(t),A.getComponentMethod("shapes","draw")(t),A.getComponentMethod("annotations","draw")(t),C.addLinks(t),x._replotting=!1,C.previousPromises(t)}function h(){A.getComponentMethod("shapes","draw")(t),A.getComponentMethod("images","draw")(t),A.getComponentMethod("annotations","draw")(t),A.getComponentMethod("legend","draw")(t),A.getComponentMethod("rangeslider","draw")(t),A.getComponentMethod("rangeselector","draw")(t),A.getComponentMethod("sliders","draw")(t),A.getComponentMethod("updatemenus","draw")(t)}var g;if(t=w.getGraphDiv(t),T.init(t),w.isPlainObject(e)){var v=e;e=v.data,n=v.layout,r=v.config,g=v.frames}if(!1===T.triggerHandler(t,"plotly_beforeplot",[e,n,r]))return Promise.reject();e||n||w.isPlotDiv(t)||w.warn("Calling Plotly.plot as if redrawing but this container doesn't yet have a plot.",t),i(t,r),n||(n={}),y.select(t).classed("js-plotly-plot",!0),L.makeTester(),Array.isArray(t._promises)||(t._promises=[]);var b=0===(t.data||[]).length&&Array.isArray(e);if(Array.isArray(e)&&(z.cleanData(e,t.data),b?t.data=e:t.data.push.apply(t.data,e),t.empty=!1),t.layout&&!b||(t.layout=z.cleanLayout(n)),t._dragging&&!t._transitioning)return t._replotPending=!0,Promise.reject();t._replotPending=!1,C.supplyDefaults(t);var x=t._fullLayout;if(e&&e[0]&&e[0].r)return o(t,e,n);x._replotting=!0,b&&m(t),t.framework!==m&&(t.framework=m,m(t)),L.initGradients(t),b&&_.Axes.saveShowSpikeInitial(t);var k=!t.calcdata||t.calcdata.length!==(t._fullData||[]).length;k&&C.doCalcdata(t);for(var M=0;M<t.calcdata.length;M++)t.calcdata[M][0].trace=t._fullData[M];var S=JSON.stringify(x._size),O=[C.previousPromises,a,s,l,c,u,R.layoutStyles,f,p,h,E,C.rehover,C.previousPromises],I=w.syncOrAsync(O,t);return I&&I.then||(I=Promise.resolve()),I.then(function(){return t.emit("plotly_afterplot"),t})},_.redraw=function(t){if(t=w.getGraphDiv(t),!w.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);return z.cleanData(t.data,t.data),z.cleanLayout(t.layout),t.calcdata=void 0,_.plot(t).then(function(){return t.emit("plotly_redraw"),t})},_.newPlot=function(t,e,n,r){return t=w.getGraphDiv(t),C.cleanPlot([],{},t._fullData||{},t._fullLayout||{}),C.purge(t),_.plot(t,e,n,r)},_.extendTraces=function t(e,n,r,a){e=w.getGraphDiv(e);var i=p(e,n,r,a,function(t,e){return t.concat(e)},function(t,e){return t.splice(0,t.length-e)}),o=_.redraw(e),s=[e,i.update,r,i.maxPoints];return k.add(e,_.prependTraces,s,t,arguments),o},_.prependTraces=function t(e,n,r,a){e=w.getGraphDiv(e);var i=p(e,n,r,a,function(t,e){return e.concat(t)},function(t,e){return t.splice(e,t.length)}),o=_.redraw(e),s=[e,i.update,r,i.maxPoints];return k.add(e,_.extendTraces,s,t,arguments),o},_.addTraces=function t(e,n,r){e=w.getGraphDiv(e);var a,i,o=[],s=_.deleteTraces,l=t,d=[e,o],f=[e,n];for(u(e,n,r),Array.isArray(n)||(n=[n]),n=n.map(function(t){return w.extendFlat({},t)}),z.cleanData(n,e.data),a=0;a<n.length;a++)e.data.push(n[a]);for(a=0;a<n.length;a++)o.push(-n.length+a);if(void 0===r)return i=_.redraw(e),k.add(e,s,d,l,f),i;Array.isArray(r)||(r=[r]);try{c(e,o,r)}catch(t){throw e.data.splice(e.data.length-n.length,n.length),t}return k.startSequence(e),k.add(e,s,d,l,f),i=_.moveTraces(e,o,r),k.stopSequence(e),i},_.deleteTraces=function t(e,n){e=w.getGraphDiv(e);var r,a,i=[],o=_.addTraces,c=t,u=[e,i,n],d=[e,n];if(void 0===n)throw new Error("indices must be an integer or array of integers.");for(Array.isArray(n)||(n=[n]),l(e,n,"indices"),n=s(n,e.data.length-1),n.sort(w.sorterDes),r=0;r<n.length;r+=1)a=e.data.splice(n[r],1)[0],i.push(a);var f=_.redraw(e);return k.add(e,o,u,c,d),f},_.moveTraces=function t(e,n,r){e=w.getGraphDiv(e);var a,i=[],o=[],l=t,u=t,d=[e,r,n],f=[e,n,r];if(c(e,n,r),n=Array.isArray(n)?n:[n],void 0===r)for(r=[],a=0;a<n.length;a++)r.push(-n.length+a);for(r=Array.isArray(r)?r:[r],n=s(n,e.data.length-1),r=s(r,e.data.length-1),a=0;a<e.data.length;a++)-1===n.indexOf(a)&&i.push(e.data[a]);for(a=0;a<n.length;a++)o.push({newIndex:r[a],trace:e.data[n[a]]});for(o.sort(function(t,e){return t.newIndex-e.newIndex}),a=0;a<o.length;a+=1)i.splice(o[a].newIndex,0,o[a].trace);e.data=i;var p=_.redraw(e);return k.add(e,l,d,u,f),p},_.restyle=function t(e,n,r,a){e=w.getGraphDiv(e),z.clearPromiseQueue(e);var i={};if("string"==typeof n)i[n]=r;else{if(!w.isPlainObject(n))return w.warn("Restyle fail.",n,r,a),Promise.reject();i=w.extendFlat({},n),void 0===a&&(a=r)}Object.keys(i).length&&(e.changed=!0);var o=z.coerceTraceIndices(e,a),s=g(e,i,o),l=s.flags;l.clearCalc&&(e.calcdata=void 0),l.clearAxisTypes&&z.clearAxisTypes(e,o,{});var c=[];l.fullReplot?c.push(_.plot):(c.push(C.previousPromises),C.supplyDefaults(e),l.style&&c.push(R.doTraceStyle),l.colorbars&&c.push(R.doColorBars)),c.push(C.rehover),k.add(e,t,[e,s.undoit,s.traces],t,[e,s.redoit,s.traces]);var u=w.syncOrAsync(c,e);return u&&u.then||(u=Promise.resolve()),u.then(function(){return e.emit("plotly_restyle",s.eventData),e})},_.relayout=function t(e,n,r){if(e=w.getGraphDiv(e),z.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);var a={};if("string"==typeof n)a[n]=r;else{if(!w.isPlainObject(n))return w.warn("Relayout fail.",n,r),Promise.reject();a=w.extendFlat({},n)}Object.keys(a).length&&(e.changed=!0);var i=v(e,a),o=i.flags;o.calc&&(e.calcdata=void 0);var s=[C.previousPromises];o.layoutReplot?s.push(R.layoutReplot):Object.keys(a).length&&(C.supplyDefaults(e),o.legend&&s.push(R.doLegend),o.layoutstyle&&s.push(R.layoutStyles),o.ticks&&s.push(R.doTicksRelayout),o.modebar&&s.push(R.doModeBar),o.camera&&s.push(R.doCamera)),s.push(C.rehover),k.add(e,t,[e,i.undoit],t,[e,i.redoit]);var l=w.syncOrAsync(s,e);return l&&l.then||(l=Promise.resolve(e)),l.then(function(){return e.emit("plotly_relayout",i.eventData),e})},_.update=function t(e,n,r,a){if(e=w.getGraphDiv(e),z.clearPromiseQueue(e),e.framework&&e.framework.isPolar)return Promise.resolve(e);w.isPlainObject(n)||(n={}),w.isPlainObject(r)||(r={}),Object.keys(n).length&&(e.changed=!0),Object.keys(r).length&&(e.changed=!0);var i=z.coerceTraceIndices(e,a),o=g(e,w.extendFlat({},n),i),s=o.flags,l=v(e,w.extendFlat({},r)),c=l.flags;(s.clearCalc||c.calc)&&(e.calcdata=void 0),s.clearAxisTypes&&z.clearAxisTypes(e,i,r);var u=[];if(s.fullReplot&&c.layoutReplot){var d=e.data,f=e.layout;e.data=void 0,e.layout=void 0,u.push(function(){return _.plot(e,d,f)})}else s.fullReplot?u.push(_.plot):c.layoutReplot?u.push(R.layoutReplot):(u.push(C.previousPromises),C.supplyDefaults(e),s.style&&u.push(R.doTraceStyle),s.colorbars&&u.push(R.doColorBars),c.legend&&u.push(R.doLegend),c.layoutstyle&&u.push(R.layoutStyles),c.ticks&&u.push(R.doTicksRelayout),c.modebar&&u.push(R.doModeBar),c.camera&&u.push(R.doCamera));u.push(C.rehover),k.add(e,t,[e,o.undoit,l.undoit,o.traces],t,[e,o.redoit,l.redoit,o.traces]);var p=w.syncOrAsync(u,e);return p&&p.then||(p=Promise.resolve(e)),p.then(function(){return e.emit("plotly_update",{data:o.eventData,layout:l.eventData}),e})},_.animate=function(t,e,n){function r(t){return Array.isArray(s)?t>=s.length?s[0]:s[t]:s}function a(t){return Array.isArray(l)?t>=l.length?l[0]:l[t]:l}function i(t,e){var n=0;return function(){if(t&&++n===e)return t()}}if(t=w.getGraphDiv(t),!w.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before animating it. For more details, see https://plot.ly/javascript/animations/");var o=t._transitionData;o._frameQueue||(o._frameQueue=[]),n=C.supplyAnimationDefaults(n);var s=n.transition,l=n.frame;return void 0===o._frameWaitingCnt&&(o._frameWaitingCnt=0),new Promise(function(l,c){function u(){t.emit("plotly_animated"),window.cancelAnimationFrame(o._animationRaf),o._animationRaf=null}function d(){o._currentFrame&&o._currentFrame.onComplete&&o._currentFrame.onComplete();var e=o._currentFrame=o._frameQueue.shift();if(e){var n=e.name?e.name.toString():null;t._fullLayout._currentFrame=n,o._lastFrameAt=Date.now(),o._timeToNext=e.frameOpts.duration,C.transition(t,e.frame.data,e.frame.layout,z.coerceTraceIndices(t,e.frame.traces),e.frameOpts,e.transitionOpts).then(function(){e.onComplete&&e.onComplete()}),t.emit("plotly_animatingframe",{name:n,frame:e.frame,animation:{frame:e.frameOpts,transition:e.transitionOpts}})}else u()}function f(){t.emit("plotly_animating"),o._lastFrameAt=-1/0,o._timeToNext=0,o._runningTransitions=0,o._currentFrame=null;var e=function(){o._animationRaf=window.requestAnimationFrame(e),Date.now()-o._lastFrameAt>o._timeToNext&&d()};e()}function p(t){return Array.isArray(s)?v>=s.length?t.transitionOpts=s[v]:t.transitionOpts=s[0]:t.transitionOpts=s,v++,t}var h,g,v=0,m=[],y=void 0===e||null===e,b=Array.isArray(e);if(y||b||!w.isPlainObject(e)){if(y||-1!==["string","number"].indexOf(typeof e))for(h=0;h<o._frames.length;h++)(g=o._frames[h])&&(y||String(g.group)===String(e))&&m.push({type:"byname",name:String(g.name),data:p({name:g.name})});else if(b)for(h=0;h<e.length;h++){var x=e[h];-1!==["number","string"].indexOf(typeof x)?(x=String(x),m.push({type:"byname",name:x,data:p({name:x})})):w.isPlainObject(x)&&m.push({type:"object",data:p(w.extendFlat({},x))})}}else m.push({type:"object",data:p(w.extendFlat({},e))});for(h=0;h<m.length;h++)if(g=m[h],
"byname"===g.type&&!o._frameHash[g.data.name])return w.warn('animate failure: frame not found: "'+g.data.name+'"'),void c();-1!==["next","immediate"].indexOf(n.mode)&&function(){if(0!==o._frameQueue.length){for(;o._frameQueue.length;){var e=o._frameQueue.pop();e.onInterrupt&&e.onInterrupt()}t.emit("plotly_animationinterrupted",[])}}(),"reverse"===n.direction&&m.reverse();var _=t._fullLayout._currentFrame;if(_&&n.fromcurrent){var T=-1;for(h=0;h<m.length;h++)if(g=m[h],"byname"===g.type&&g.name===_){T=h;break}if(T>0&&T<m.length-1){var k=[];for(h=0;h<m.length;h++)g=m[h],("byname"!==m[h].type||h>T)&&k.push(g);m=k}}m.length>0?function(e){if(0!==e.length){for(var s=0;s<e.length;s++){var u;u="byname"===e[s].type?C.computeFrame(t,e[s].name):e[s].data;var d=a(s),p=r(s);p.duration=Math.min(p.duration,d.duration);var h={frame:u,name:e[s].name,frameOpts:d,transitionOpts:p};s===e.length-1&&(h.onComplete=i(l,2),h.onInterrupt=c),o._frameQueue.push(h)}"immediate"===n.mode&&(o._lastFrameAt=-1/0),o._animationRaf||f()}}(m):(t.emit("plotly_animated"),l())})},_.addFrames=function(t,e,n){t=w.getGraphDiv(t);var r=0;if(null===e||void 0===e)return Promise.resolve();if(!w.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t+". It's likely that you've failed to create a plot before adding frames. For more details, see https://plot.ly/javascript/animations/");var a,i,o,s,l=t._transitionData._frames,c=t._transitionData._frameHash;if(!Array.isArray(e))throw new Error("addFrames failure: frameList must be an Array of frame definitions"+e);var u=l.length+2*e.length,d=[];for(a=e.length-1;a>=0;a--)if(w.isPlainObject(e[a])){var f=(c[e[a].name]||{}).name,p=e[a].name;f&&p&&"number"==typeof p&&c[f]&&(r++,w.warn('addFrames: overwriting frame "'+c[f].name+'" with a frame whose name of type "number" also equates to "'+f+'". This is valid but may potentially lead to unexpected behavior since all plotly.js frame names are stored internally as strings.'),r>5&&w.warn("addFrames: This API call has yielded too many warnings. For the rest of this call, further warnings about numeric frame names will be suppressed.")),d.push({frame:C.supplyFrameDefaults(e[a]),index:n&&void 0!==n[a]&&null!==n[a]?n[a]:u+a})}d.sort(function(t,e){return t.index>e.index?-1:t.index<e.index?1:0});var h=[],g=[],v=l.length;for(a=d.length-1;a>=0;a--){if(i=d[a].frame,"number"==typeof i.name&&w.warn("Warning: addFrames accepts frames with numeric names, but the numbers areimplicitly cast to strings"),!i.name)for(;c[i.name="frame "+t._transitionData._counter++];);if(c[i.name]){for(o=0;o<l.length&&(l[o]||{}).name!==i.name;o++);h.push({type:"replace",index:o,value:i}),g.unshift({type:"replace",index:o,value:l[o]})}else s=Math.max(0,Math.min(d[a].index,v)),h.push({type:"insert",index:s,value:i}),g.unshift({type:"delete",index:s}),v++}var m=C.modifyFrames,y=C.modifyFrames,b=[t,g],x=[t,h];return k&&k.add(t,m,b,y,x),C.modifyFrames(t,h)},_.deleteFrames=function(t,e){if(t=w.getGraphDiv(t),!w.isPlotDiv(t))throw new Error("This element is not a Plotly plot: "+t);var n,r,a=t._transitionData._frames,i=[],o=[];if(!e)for(e=[],n=0;n<a.length;n++)e.push(n);for(e=e.slice(0),e.sort(),n=e.length-1;n>=0;n--)r=e[n],i.push({type:"delete",index:r}),o.unshift({type:"insert",index:r,value:a[r]});var s=C.modifyFrames,l=C.modifyFrames,c=[t,o],u=[t,i];return k&&k.add(t,s,c,l,u),C.modifyFrames(t,i)},_.purge=function(t){t=w.getGraphDiv(t);var e=t._fullLayout||{},n=t._fullData||[];return C.cleanPlot([],{},n,e),C.purge(t),T.purge(t),e._container&&e._container.remove(),delete t._context,t}},{"../components/color":34,"../components/drawing":58,"../components/errorbars":64,"../constants/xmlns_namespaces":135,"../lib":149,"../lib/events":142,"../lib/queue":162,"../lib/svg_text_utils":169,"../plotly":184,"../plots/cartesian/axis_ids":192,"../plots/cartesian/constants":194,"../plots/cartesian/constraints":196,"../plots/cartesian/graph_interact":198,"../plots/plots":218,"../plots/polar":221,"../registry":225,"./edit_types":173,"./helpers":174,"./manage_arrays":175,"./plot_schema":178,"./subroutines":181,d3:7,"fast-isnumeric":10,"has-hover":12}],177:[function(t,e,n){"use strict";e.exports={staticPlot:!1,editable:!1,edits:{annotationPosition:!1,annotationTail:!1,annotationText:!1,axisTitleText:!1,colorbarPosition:!1,colorbarTitleText:!1,legendPosition:!1,legendText:!1,shapePosition:!1,titleText:!1},autosizable:!1,queueLength:0,fillFrame:!1,frameMargins:0,scrollZoom:!1,doubleClick:"reset+autosize",showTips:!0,showAxisDragHandles:!0,showAxisRangeEntryBoxes:!0,showLink:!1,sendData:!0,linkText:"Edit chart",showSources:!1,displayModeBar:"hover",modeBarButtonsToRemove:[],modeBarButtonsToAdd:[],modeBarButtons:!1,displaylogo:!0,plotGlPixelRatio:2,setBackground:"transparent",topojsonURL:"https://cdn.plot.ly/",mapboxAccessToken:null,logging:!1,globalTransforms:[]}},{}],178:[function(t,e,n){"use strict";function r(t,e){var n,r,a,i,o=t._basePlotModules;if(o){var s;for(n=0;n<o.length;n++){if(a=o[n],a.attrRegex&&a.attrRegex.test(e)){if(a.layoutAttrOverrides)return a.layoutAttrOverrides;!s&&a.layoutAttributes&&(s=a.layoutAttributes)}var l=a.baseLayoutAttrOverrides;if(l&&e in l)return l[e]}if(s)return s}var c=t._modules;if(c)for(n=0;n<c.length;n++)if((i=c[n].layoutAttributes)&&e in i)return i[e];for(r in v.componentsRegistry)if(a=v.componentsRegistry[r],!a.schema&&e===a.name)return a.layoutAttributes;return e in b?b[e]:"radialaxis"===e||"angularaxis"===e?T[e]:T.layout[e]||!1}function a(t,e,n){if(!t)return!1;if(t._isLinkedToArray)if(i(e[n]))n++;else if(n<e.length)return!1;for(;n<e.length;n++){var r=t[e[n]];if(!m.isPlainObject(r))break;if(t=r,n===e.length-1)break;if(t._isLinkedToArray){if(n++,!i(e[n]))return!1}else if("info_array"===t.valType){n++;var a=e[n];if(!i(a)||a>=t.items.length)return!1;t=t.items[a]}}return t}function i(t){return t===Math.round(t)&&t>=0}function o(t){var e,n;"area"===t?(e={attributes:w},n={}):(e=v.modules[t]._module,n=e.basePlotModule);var r={};r.type=null,M(r,y),M(r,e.attributes),n.attributes&&M(r,n.attributes),r.type=t;var a={meta:e.meta||{},attributes:u(r)};if(e.layoutAttributes){var i={};M(i,e.layoutAttributes),a.layoutAttributes=u(i)}return a}function s(){var t,e,n={};M(n,b);for(t in v.subplotsRegistry)if(e=v.subplotsRegistry[t],e.layoutAttributes)if("cartesian"===e.name)h(n,e,"xaxis"),h(n,e,"yaxis");else{var r="subplot"===e.attr?e.name:e.attr;h(n,e,r)}n=p(n);for(t in v.componentsRegistry){e=v.componentsRegistry[t];var a=e.schema;if(a&&(a.subplots||a.layout)){var i=a.subplots;if(i&&i.xaxis&&!i.yaxis)for(var o in i.xaxis)delete n.yaxis[o]}else e.layoutAttributes&&g(n,e.layoutAttributes,e.name)}return{layoutAttributes:u(n)}}function l(t){var e=v.transformsRegistry[t],n=M({},e.attributes);return Object.keys(v.componentsRegistry).forEach(function(e){var r=v.componentsRegistry[e];r.schema&&r.schema.transforms&&r.schema.transforms[t]&&Object.keys(r.schema.transforms[t]).forEach(function(e){g(n,r.schema.transforms[t][e],e)})}),{attributes:u(n)}}function c(){var t={frames:m.extendDeepAll({},x)};return u(t),t.frames}function u(t){return d(t),f(t),t}function d(t){function e(t){return{valType:"string",editType:"none"}}function r(t,r,a){n.isValObject(t)?"data_array"===t.valType?(t.role="data",a[r+"src"]=e(r)):!0===t.arrayOk&&(a[r+"src"]=e(r)):m.isPlainObject(t)&&(t.role="object")}n.crawl(t,r)}function f(t){function e(t,e,n){if(t){var r=t[S];r&&(delete t[S],n[e]={items:{}},n[e].items[r]=t,n[e].role="object")}}n.crawl(t,e)}function p(t){return A(t,{radialaxis:T.radialaxis,angularaxis:T.angularaxis}),A(t,T.layout),t}function h(t,e,n){var r=m.nestedProperty(t,n),a=M({},e.layoutAttributes);a[C]=!0,r.set(a)}function g(t,e,n){var r=m.nestedProperty(t,n);r.set(M(r.get()||{},e))}var v=t("../registry"),m=t("../lib"),y=t("../plots/attributes"),b=t("../plots/layout_attributes"),x=t("../plots/frame_attributes"),_=t("../plots/animation_attributes"),w=t("../plots/polar/area_attributes"),T=t("../plots/polar/axis_attributes"),k=t("./edit_types"),A=m.extendFlat,M=m.extendDeepAll,C="_isSubplotObj",S="_isLinkedToArray",E=[C,S,"_arrayAttrRegexps","_deprecated"];n.IS_SUBPLOT_OBJ=C,n.IS_LINKED_TO_ARRAY=S,n.DEPRECATED="_deprecated",n.UNDERSCORE_ATTRS=E,n.get=function(){var t={};v.allTypes.concat("area").forEach(function(e){t[e]=o(e)});var e={};return Object.keys(v.transformsRegistry).forEach(function(t){e[t]=l(t)}),{defs:{valObjects:m.valObjectMeta,metaKeys:E.concat(["description","role","editType","impliedEdits"]),editType:{traces:k.traces,layout:k.layout},impliedEdits:{}},traces:t,layout:s(),transforms:e,frames:c(),animation:u(_)}},n.crawl=function(t,e,r,a){var i=r||0;a=a||"",Object.keys(t).forEach(function(r){var o=t[r];if(-1===E.indexOf(r)){var s=(a?a+".":"")+r;e(o,r,t,i,s),n.isValObject(o)||m.isPlainObject(o)&&"impliedEdits"!==r&&n.crawl(o,e,i+1,s)}})},n.isValObject=function(t){return t&&void 0!==t.valType},n.findArrayAttributes=function(t){function e(e,n,o,s){if(i=i.slice(0,s).concat([n]),e&&("data_array"===e.valType||!0===e.arrayOk)&&!("colorbar"===i[s-1]&&("ticktext"===n||"tickvals"===n))){var l=r(i),c=m.nestedProperty(t,l).get();Array.isArray(c)&&a.push(l)}}function r(t){return t.join(".")}var a=[],i=[];if(n.crawl(y,e),t._module&&t._module.attributes&&n.crawl(t._module.attributes,e),t.transforms)for(var o=t.transforms,s=0;s<o.length;s++){var l=o[s],c=l._module;c&&(i=["transforms["+s+"]"],n.crawl(c.attributes,e,1))}return t._fullInput&&t._fullInput._module&&t._fullInput._module.attributes&&(n.crawl(t._fullInput._module.attributes,e),a=m.filterUnique(a)),a},n.getTraceValObject=function(t,e){var n,r,o=e[0],s=1;if("transforms"===o){if(!Array.isArray(t.transforms))return!1;var l=e[1];if(!i(l)||l>=t.transforms.length)return!1;n=(v.transformsRegistry[t.transforms[l].type]||{}).attributes,r=n&&n[e[2]],s=3}else if("area"===t.type)r=w[o];else{var c=t._module;if(c||(c=(v.modules[t.type||y.type.dflt]||{})._module),!c)return!1;if(n=c.attributes,!(r=n&&n[o])){var u=c.basePlotModule;u&&u.attributes&&(r=u.attributes[o])}r||(r=y[o])}return a(r,e,s)},n.getLayoutValObject=function(t,e){return a(r(t,e[0]),e,1)}},{"../lib":149,"../plots/animation_attributes":185,"../plots/attributes":187,"../plots/frame_attributes":214,"../plots/layout_attributes":216,"../plots/polar/area_attributes":219,"../plots/polar/axis_attributes":220,"../registry":225,"./edit_types":173}],179:[function(t,e,n){"use strict";function r(t){o.register(t,t.name,t.categories,t.meta),o.subplotsRegistry[t.basePlotModule.name]||o.registerSubplot(t.basePlotModule)}function a(t){if("string"!=typeof t.name)throw new Error("Transform module *name* must be a string.");var e="Transform module "+t.name,n="function"==typeof t.transform,r="function"==typeof t.calcTransform;if(!n&&!r)throw new Error(e+" is missing a *transform* or *calcTransform* method.");n&&r&&s.log([e+" has both a *transform* and *calcTransform* methods.","Please note that all *transform* methods are executed","before all *calcTransform* methods."].join(" ")),s.isPlainObject(t.attributes)||s.log(e+" registered without an *attributes* object."),"function"!=typeof t.supplyDefaults&&s.log(e+" registered without a *supplyDefaults* method."),o.registerTransform(t)}function i(t){if("string"!=typeof t.name)throw new Error("Component module *name* must be a string.");o.registerComponent(t)}var o=t("../registry"),s=t("../lib");e.exports=function(t){if(!t)throw new Error("No argument passed to Plotly.register.");t&&!Array.isArray(t)&&(t=[t]);for(var e=0;e<t.length;e++){var n=t[e];if(!n)throw new Error("Invalid module was attempted to be registered!");switch(n.moduleType){case"trace":r(n);break;case"transform":a(n);break;case"component":i(n);break;default:throw new Error("Invalid module was attempted to be registered!")}}}},{"../lib":149,"../registry":225}],180:[function(t,e,n){"use strict";var r=t("../plotly"),a=t("../lib");e.exports=function(t){return a.extendFlat(r.defaultConfig,t)}},{"../lib":149,"../plotly":184}],181:[function(t,e,n){"use strict";function r(t,e,n){for(var r=0;r<n.length;r++){var a=n[r][0],i=n[r][1];if(!(a[0]>=t[1]||a[1]<=t[0])&&i[0]<e[1]&&i[1]>e[0])return!0}return!1}function a(t,e,n){return t._anchorAxis===e&&(t.mirror||t.side===n)||"all"===t.mirror||"allticks"===t.mirror||t.mirrors&&t.mirrors[e._id+n]}function i(t,e,n){var r=[],a=e._anchorAxis;if(a){var i=a._mainAxis;if(-1===r.indexOf(i)){r.push(i);for(var o=0;o<n.length;o++)n[o].overlaying===i._id&&-1===r.indexOf(n[o])&&r.push(n[o])}}return r}function o(t,e,n){for(var r=0;r<e.length;r++){var i=e[r],o=i._anchorAxis;if(o&&a(i,o,n))return h.crispRound(t,i.linewidth)}}function s(t,e,n,r,a,s){if(r)return n;var l,c=e._mainAxis,u=i(t,c,s),d=o(t,u,a);if(d)return d;for(l=0;l<s.length;l++)if(s[l].overlaying===c._id&&(u=i(t,s[l],s),d=o(t,u,a)))return d;return 0}var l=t("d3"),c=t("../plotly"),u=t("../registry"),d=t("../plots/plots"),f=t("../lib"),p=t("../components/color"),h=t("../components/drawing"),g=t("../components/titles"),v=t("../components/modebar"),m=t("../plots/cartesian/graph_interact"),y=t("../plots/cartesian/constants");n.layoutStyles=function(t){return f.syncOrAsync([d.doAutoMargin,n.lsInner],t)},n.lsInner=function(t){var e,i=t._fullLayout,o=i._size,u=o.p,d=c.Axes.list(t),f=i._has("cartesian");for(e=0;e<d.length;e++)d[e]._linepositions={};i._paperdiv.style({width:i.width+"px",height:i.height+"px"}).selectAll(".main-svg").call(h.setSize,i.width,i.height),t._context.setBackground(t,i.paper_bgcolor);var g=i._paper.selectAll("g.subplot"),m=[],b=[];g.each(function(t){var e=i._plots[t];if(e.mainplot)return e.bg&&e.bg.remove(),void(e.bg=void 0);var n=e.xaxis.domain,a=e.yaxis.domain,o=[];r(n,a,b)?o=[0]:(m.push(t),b.push([n,a]));var s=e.plotgroup.selectAll(".bg").data(o);s.enter().append("rect").classed("bg",!0),s.exit().remove(),s.each(function(){e.bg=s;var t=e.plotgroup.node();t.insertBefore(this,t.childNodes[0])})});var x=i._bgLayer.selectAll(".bg").data(m);x.enter().append("rect").classed("bg",!0),x.exit().remove(),x.each(function(t){i._plots[t].bg=l.select(this)});var _={};return g.each(function(n){function r(t,e){return e?"M"+P+","+t+"H"+z:""}function l(t,e){return e?"M"+t+","+q+"V"+B:""}var c=i._plots[n],g=c.xaxis,v=c.yaxis;g.setScale(),v.setScale(),c.bg&&f&&c.bg.call(h.setRect,g._offset-u,v._offset-u,g._length+2*u,v._length+2*u).call(p.fill,i.plot_bgcolor).style("stroke-width",0),c.clipId="clip"+i._uid+n+"plot";var m=i._clips.selectAll("#"+c.clipId).data([0]);m.enter().append("clipPath").attr({class:"plotclip",id:c.clipId}).append("rect"),m.selectAll("rect").attr({width:g._length,height:v._length}),h.setTranslate(c.plot,g._offset,v._offset);var b,x;for(c._hasClipOnAxisFalse?(b=null,x=c.clipId):(b=c.clipId,x=null),h.setClipUrl(c.plot,b),e=0;e<y.traceLayerClasses.length;e++){var w=y.traceLayerClasses[e];"scatterlayer"!==w&&c.plot.selectAll("g."+w).call(h.setClipUrl,x)}c.layerClipId=x;var T=!g._anchorAxis,k=T&&!_[g._id],A=a(g,v,"bottom"),M=a(g,v,"top"),C=!v._anchorAxis,S=C&&!_[v._id],E=a(v,g,"left"),L=a(v,g,"right"),O=h.crispRound(t,g.linewidth,1),D=h.crispRound(t,v.linewidth,1),I=s(t,g,D,E,"left",d),P=!T&&I?-u-I:0,N=s(t,g,D,L,"right",d),z=g._length+(!T&&N?u+N:0),R=o.h*(1-(g.position||0))+O/2%1,F=v._length+u+O/2,j=-u-O/2,H=!C&&s(t,v,O,A,"bottom",d),B=v._length+(H?u:0),V=!C&&s(t,v,O,M,"top",d),q=V?-u:0,$=o.w*(v.position||0)+D/2%1,U=-u-D/2,W=g._length+u+D/2;g._linepositions[n]=[A?F:void 0,M?j:void 0,k?R:void 0],g._anchorAxis===v?g._linepositions[n][3]="top"===g.side?j:F:k&&(g._linepositions[n][3]=R),v._linepositions[n]=[E?U:void 0,L?W:void 0,S?$:void 0],v._anchorAxis===g?v._linepositions[n][3]="right"===v.side?W:U:S&&(v._linepositions[n][3]=$);var G="translate("+g._offset+","+v._offset+")",Y=G,X=G;k&&(Y="translate("+g._offset+","+o.t+")",j+=v._offset-o.t,F+=v._offset-o.t),S&&(X="translate("+o.l+","+v._offset+")",U+=g._offset-o.l,W+=g._offset-o.l),f&&(c.xlines.attr("transform",Y).attr("d",r(F,A)+r(j,M)+r(R,k)||"M0,0").style("stroke-width",O+"px").call(p.stroke,g.showline?g.linecolor:"rgba(0,0,0,0)"),c.ylines.attr("transform",X).attr("d",l(U,E)+l(W,L)+l($,S)||"M0,0").style("stroke-width",D+"px").call(p.stroke,v.showline?v.linecolor:"rgba(0,0,0,0)")),c.xaxislayer.attr("transform",Y),c.yaxislayer.attr("transform",X),c.gridlayer.attr("transform",G),c.zerolinelayer.attr("transform",G),c.draglayer.attr("transform",G),k&&(_[g._id]=1),S&&(_[v._id]=1)}),c.Axes.makeClipPaths(t),n.drawMainTitle(t),v.manage(t),t._promises.length&&Promise.all(t._promises)},n.drawMainTitle=function(t){var e=t._fullLayout;g.draw(t,"gtitle",{propContainer:e,propName:"title",dfltName:"Plot",attributes:{x:e.width/2,y:e._size.t/2,"text-anchor":"middle"}})},n.doTraceStyle=function(t){for(var e=0;e<t.calcdata.length;e++){var n=t.calcdata[e],r=((n[0]||{}).trace||{})._module||{},a=r.arraysToCalcdata;a&&a(n,n[0].trace)}return d.style(t),u.getComponentMethod("legend","draw")(t),d.previousPromises(t)},n.doColorBars=function(t){for(var e=0;e<t.calcdata.length;e++){var n=t.calcdata[e][0];if((n.t||{}).cb){var r=n.trace,a=n.t.cb;u.traceIs(r,"contour")&&a.line({width:!1!==r.contours.showlines?r.line.width:0,dash:r.line.dash,color:"line"===r.contours.coloring?a._opts.line.color:r.line.color}),u.traceIs(r,"markerColorscale")?a.options(r.marker.colorbar)():a.options(r.colorbar)()}}return d.previousPromises(t)},n.layoutReplot=function(t){var e=t.layout;return t.layout=void 0,c.plot(t,"",e)},n.doLegend=function(t){return u.getComponentMethod("legend","draw")(t),d.previousPromises(t)},n.doTicksRelayout=function(t){return c.Axes.doTicks(t,"redraw"),n.drawMainTitle(t),d.previousPromises(t)},n.doModeBar=function(t){var e=t._fullLayout;v.manage(t),m(t);for(var n=0;n<e._basePlotModules.length;n++){var r=e._basePlotModules[n].updateFx;r&&r(e)}return d.previousPromises(t)},n.doCamera=function(t){for(var e=t._fullLayout,n=d.getSubplotIds(e,"gl3d"),r=0;r<n.length;r++){var a=e[n[r]];a._scene.setCamera(a.camera)}}},{"../components/color":34,"../components/drawing":58,"../components/modebar":95,"../components/titles":124,"../lib":149,"../plotly":184,"../plots/cartesian/constants":194,"../plots/cartesian/graph_interact":198,"../plots/plots":218,"../registry":225,d3:7}],182:[function(t,e,n){"use strict";function r(t,e){function n(t){return!(t in e)||i.validate(e[t],c[t])}function r(t,n){return i.coerce(e,m,c,t,n)}function d(){return new Promise(function(t){setTimeout(t,o.getDelay(k._fullLayout))})}function f(){return new Promise(function(t,e){var n=s(k,y,_),r=k._fullLayout.width,o=k._fullLayout.height;if(a.purge(k),document.body.removeChild(k),"svg"===y)return t(T?n:"data:image/svg+xml,"+encodeURIComponent(n));var c=document.createElement("canvas");c.id=i.randstr(),l({format:y,width:r,height:o,scale:_,canvas:c,svg:n,promise:!0}).then(t).catch(e)})}function p(t){return T?t.replace(u,""):t}e=e||{};var h,g,v;if(i.isPlainObject(t)?(h=t.data||[],g=t.layout||{},v=t.config||{}):(t=i.getGraphDiv(t),h=i.extendDeep([],t.data),g=i.extendDeep({},t.layout),v=t._context),!n("width")||!n("height"))throw new Error("Height and width should be pixel values.");if(!n("format"))throw new Error("Image format is not jpeg, png, svg or webp.");var m={},y=r("format"),b=r("width"),x=r("height"),_=r("scale"),w=r("setBackground"),T=r("imageDataOnly"),k=document.createElement("div");k.style.position="absolute",k.style.left="-5000px",document.body.appendChild(k);var A=i.extendFlat({},g);b&&(A.width=b),x&&(A.height=x);var M=i.extendFlat({},v,{staticPlot:!0,setBackground:w}),C=o.getRedrawFunc(k);return new Promise(function(t,e){a.plot(k,h,A,M).then(C).then(d).then(f).then(function(e){t(p(e))}).catch(function(t){e(t)})})}var a=t("../plotly"),i=t("../lib"),o=t("../snapshot/helpers"),s=t("../snapshot/tosvg"),l=t("../snapshot/svgtoimg"),c={format:{valType:"enumerated",values:["png","jpeg","webp","svg"],dflt:"png"},width:{valType:"number",min:1},height:{valType:"number",min:1},scale:{valType:"number",min:0,dflt:1},setBackground:{valType:"any",dflt:!1},imageDataOnly:{valType:"boolean",dflt:!1}},u=/^data:image\/\w+;base64,/;e.exports=r},{"../lib":149,"../plotly":184,"../snapshot/helpers":229,"../snapshot/svgtoimg":231,"../snapshot/tosvg":233}],183:[function(t,e,n){"use strict";function r(t,e,n,a,i,c){c=c||[];for(var u=Object.keys(t),f=0;f<u.length;f++){var p=u[f];if("transforms"!==p){var v=c.slice();v.push(p);var m=t[p],y=e[p],b=l(n,p),x="info_array"===(b||{}).valType,_="colorscale"===(b||{}).valType;if(s(n,p))if(h(m)&&h(y))r(m,y,b,a,i,v);else if(b.items&&!x&&g(m)){var w,T,k=b.items,A=k[Object.keys(k)[0]],M=[];for(w=0;w<y.length;w++){var C=y[w]._index||w;T=v.slice(),T.push(C),h(m[C])&&h(y[w])&&(M.push(C),r(m[C],y[w],A,a,i,T))}for(w=0;w<m.length;w++)T=v.slice(),T.push(w),h(m[w])?-1===M.indexOf(w)&&a.push(o("unused",i,T)):a.push(o("object",i,T,m[w]))}else!h(m)&&h(y)?a.push(o("object",i,v,m)):g(m)||!g(y)||x||_?p in e?d.validate(m,b)?"enumerated"===b.valType&&(b.coerceNumber&&m!==+y||m!==y)&&a.push(o("dynamic",i,v,m,y)):a.push(o("value",i,v,m)):a.push(o("unused",i,v,m)):a.push(o("array",i,v,m));else a.push(o("schema",i,v))}}return a}function a(t,e){for(var n=0;n<e.length;n++){var r=e[n].type,a=t.traces[r].layoutAttributes;a&&d.extendFlat(t.layout.layoutAttributes,a)}return t.layout.layoutAttributes}function i(t){return g(t)?"In data trace "+t[1]+", ":"In "+t+", "}function o(t,e,n,r,a){n=n||"";var i,o;g(e)?(i=e[0],o=e[1]):(i=e,o=null);var s=u(n),l=v[t](e,s,r,a);return d.log(l),{code:t,container:i,trace:o,path:n,astr:s,msg:l}}function s(t,e){var n=c(e),r=n.keyMinusId,a=n.id;return!!(r in t&&t[r]._isSubplotObj&&a)||e in t}function l(t,e){return t[c(e).keyMinusId]}function c(t){var e=t.match(m);return{keyMinusId:e&&e[1],id:e&&e[2]}}function u(t){if(!g(t))return String(t);for(var e="",n=0;n<t.length;n++){var r=t[n];"number"==typeof r?e=e.substr(0,e.length-1)+"["+r+"]":e+=r,n<t.length-1&&(e+=".")}return e}var d=t("../lib"),f=t("../plots/plots"),p=t("./plot_schema"),h=d.isPlainObject,g=Array.isArray;e.exports=function(t,e){var n,i,s=p.get(),l=[],c={};g(t)?(c.data=d.extendDeep([],t),n=t):(c.data=[],n=[],l.push(o("array","data"))),h(e)?(c.layout=d.extendDeep({},e),i=e):(c.layout={},i={},arguments.length>1&&l.push(o("object","layout"))),f.supplyDefaults(c);for(var u=c._fullData,v=n.length,m=0;m<v;m++){var y=n[m],b=["data",m];if(h(y)){var x=u[m],_=x.type,w=s.traces[_].attributes;w.type={valType:"enumerated",values:[_]},!1===x.visible&&!1!==y.visible&&l.push(o("invisible",b)),r(y,x,w,l,b);var T=y.transforms,k=x.transforms;if(T){g(T)||l.push(o("array",b,["transforms"])),b.push("transforms");for(var A=0;A<T.length;A++){var M=["transforms",A],C=T[A].type;if(h(T[A])){var S=s.transforms[C]?s.transforms[C].attributes:{};S.type={valType:"enumerated",values:Object.keys(s.transforms)},r(T[A],k[A],S,l,b,M)}else l.push(o("object",b,M))}}}else l.push(o("object",b))}return r(i,c._fullLayout,a(s,u),l,"layout"),0===l.length?void 0:l};var v={object:function(t,e){return("layout"===t&&""===e?"The layout argument":"data"===t[0]&&""===e?"Trace "+t[1]+" in the data argument":i(t)+"key "+e)+" must be linked to an object container"},array:function(t,e){return("data"===t?"The data argument":i(t)+"key "+e)+" must be linked to an array container"},schema:function(t,e){return i(t)+"key "+e+" is not part of the schema"},unused:function(t,e,n){var r=h(n)?"container":"key";return i(t)+r+" "+e+" did not get coerced"},dynamic:function(t,e,n,r){return[i(t)+"key",e,"(set to '"+n+"')","got reset to","'"+r+"'","during defaults."].join(" ")},invisible:function(t){return"Trace "+t[1]+" got defaulted to be not visible"},value:function(t,e,n){return[i(t)+"key "+e,"is set to an invalid value ("+n+")"].join(" ")}},m=d.counterRegex("([a-z]+)")},{"../lib":149,"../plots/plots":218,"./plot_schema":178}],184:[function(t,e,n){"use strict";n.defaultConfig=t("./plot_api/plot_config"),n.Plots=t("./plots/plots"),n.Axes=t("./plots/cartesian/axes"),n.ModeBar=t("./components/modebar"),t("./plot_api/plot_api")},{"./components/modebar":95,"./plot_api/plot_api":176,"./plot_api/plot_config":177,"./plots/cartesian/axes":189,"./plots/plots":218}],185:[function(t,e,n){"use strict";e.exports={mode:{valType:"enumerated",dflt:"afterall",values:["immediate","next","afterall"]},direction:{valType:"enumerated",values:["forward","reverse"],dflt:"forward"},fromcurrent:{valType:"boolean",dflt:!1},frame:{duration:{valType:"number",min:0,dflt:500},redraw:{valType:"boolean",dflt:!0}},transition:{duration:{valType:"number",min:0,dflt:500},easing:{valType:"enumerated",dflt:"cubic-in-out",values:["linear","quad","cubic","sin","exp","circle","elastic","back","bounce","linear-in","quad-in","cubic-in","sin-in","exp-in","circle-in","elastic-in","back-in","bounce-in","linear-out","quad-out","cubic-out","sin-out","exp-out","circle-out","elastic-out","back-out","bounce-out","linear-in-out","quad-in-out","cubic-in-out","sin-in-out","exp-in-out","circle-in-out","elastic-in-out","back-in-out","bounce-in-out"]}}}},{}],186:[function(t,e,n){"use strict";var r=t("../lib");e.exports=function(t,e,n){var a,i=n.name,o=e[i],s=r.isArray(t[i])?t[i]:[],l=e[i]=[];for(a=0;a<s.length;a++){var c=s[a],u={},d={};r.isPlainObject(c)||(d.itemIsNotPlainObject=!0,c={}),n.handleItemDefaults(c,u,e,n,d),u._input=c,u._index=a,l.push(u)}if(r.isArray(o)){var f=Math.min(o.length,l.length);for(a=0;a<f;a++)r.relinkPrivateKeys(l[a],o[a])}}},{"../lib":149}],187:[function(t,e,n){"use strict";var r=t("../components/fx/attributes");e.exports={type:{valType:"enumerated",values:[],dflt:"scatter",editType:"calc+clearAxisTypes"},visible:{valType:"enumerated",values:[!0,!1,"legendonly"],dflt:!0,editType:"calc"},showlegend:{valType:"boolean",dflt:!0,editType:"style"},legendgroup:{valType:"string",dflt:"",editType:"style"},opacity:{valType:"number",min:0,max:1,dflt:1,editType:"style"},name:{valType:"string",editType:"style"},uid:{valType:"string",dflt:"",editType:"calc"},ids:{valType:"data_array",editType:"calc"},customdata:{valType:"data_array",editType:"calc"},hoverinfo:{valType:"flaglist",flags:["x","y","z","text","name"],extras:["all","none","skip"],arrayOk:!0,dflt:"all",editType:"none"},hoverlabel:r.hoverlabel,stream:{token:{valType:"string",noBlank:!0,strict:!0,editType:"calc"},maxpoints:{valType:"number",min:0,max:1e4,dflt:500,editType:"calc"},editType:"calc"}}},{"../components/fx/attributes":67}],188:[function(t,e,n){"use strict";e.exports={xaxis:{valType:"subplotid",dflt:"x",editType:"calc+clearAxisTypes"},yaxis:{valType:"subplotid",dflt:"y",editType:"calc+clearAxisTypes"}}},{}],189:[function(t,e,n){"use strict";function r(t){return+t}function a(t){return String(t)}function i(t,e,n,r,a){function i(e){return(1+100*(e-t)/n.dtick)%100<2}for(var o=0,s=0,l=0,c=0,u=0;u<e.length;u++)e[u]%1==0?l++:T(e[u])||c++,i(e[u])&&o++,i(e[u]+n.dtick/2)&&s++;var d=e.length-c;if(l===d&&"date"!==n.type)n.dtick<1?t=r-.5*n.dtick:(t-=.5)+n.dtick<r&&(t+=n.dtick);else if(s<.1*d&&(o>.3*d||i(r)||i(a))){var f=n.dtick/2;t+=t+f<r?f:-f}return t}function o(t,e,n,r,a){var i=A.findExactDates(e,a);if(i.exactDays>.8){var o=Number(n.substr(1));i.exactYears>.8&&o%12==0?t=H.tickIncrement(t,"M6","reverse")+1.5*P:i.exactMonths>.8?t=H.tickIncrement(t,"M1","reverse")+15.5*P:t-=P/2;var s=H.tickIncrement(t,n);if(s<=r)return s}return t}function s(t){var e,n,r=t.tickvals,a=t.ticktext,i=new Array(r.length),o=A.simpleMap(t.range,t.r2l),s=1.0001*o[0]-1e-4*o[1],l=1.0001*o[1]-1e-4*o[0],c=Math.min(s,l),d=Math.max(s,l),f=0;Array.isArray(a)||(a=[]);var p="category"===t.type?t.d2l_noadd:t.d2l;for("log"===t.type&&"L"!==String(t.dtick).charAt(0)&&(t.dtick="L"+Math.pow(10,Math.floor(Math.min(t.range[0],t.range[1]))-1)),n=0;n<r.length;n++)(e=p(r[n]))>c&&e<d&&(void 0===a[n]?i[f]=H.tickText(t,e):i[f]=u(t,e,String(a[n])),f++);return f<r.length&&i.splice(f,r.length-f),i}function l(t,e,n){return e*A.roundUp(t/e,n)}function c(t){var e=t.dtick;if(t._tickexponent=0,T(e)||"string"==typeof e||(e=1),"category"===t.type&&(t._tickround=null),"date"===t.type){var n=t.r2l(t.tick0),r=t.l2r(n).replace(/(^-|i)/g,""),a=r.length;if("M"===String(e).charAt(0))a>10||"01-01"!==r.substr(5)?t._tickround="d":t._tickround=+e.substr(1)%12==0?"y":"m";else if(e>=P&&a<=10||e>=15*P)t._tickround="d";else if(e>=z&&a<=16||e>=N)t._tickround="M";else if(e>=R&&a<=19||e>=z)t._tickround="S";else{var i=t.l2r(n+e).replace(/^-/,"").length;t._tickround=Math.max(a,i)-20}}else if(T(e)||"L"===e.charAt(0)){var o=t.range.map(t.r2d||Number);T(e)||(e=Number(e.substr(1))),t._tickround=2-Math.floor(Math.log(e)/Math.LN10+.01);var s=Math.max(Math.abs(o[0]),Math.abs(o[1])),l=Math.floor(Math.log(s)/Math.LN10+.01);Math.abs(l)>3&&(g(t.exponentformat)&&!v(l)?t._tickexponent=3*Math.round((l-1)/3):t._tickexponent=l)}else t._tickround=null}function u(t,e,n){var r=t.tickfont||{};return{x:e,dx:0,dy:0,text:n||"",fontSize:r.size,font:r.family,fontColor:r.color}}function d(t,e,n,r){var a=t._tickround,i=n&&t.hoverformat||t.tickformat;r&&(a=T(a)?4:{y:"m",m:"d",d:"M",M:"S",S:4}[a]);var o,s=A.formatDate(e.x,i,a,t.calendar),l=s.indexOf("\n");-1!==l&&(o=s.substr(l+1),s=s.substr(0,l)),r&&("00:00:00"===s||"00:00"===s?(s=o,o=""):8===s.length&&(s=s.replace(/:00$/,""))),o&&(n?"d"===a?s+=", "+o:s=o+(s?", "+s:""):t._inCalcTicks&&o===t._prevDateHead||(s+="<br>"+o,t._prevDateHead=o)),e.text=s}function f(t,e,n,r,a){var i=t.dtick,o=e.x;if("never"===a&&(a=""),!r||"string"==typeof i&&"L"===i.charAt(0)||(i="L3"),t.tickformat||"string"==typeof i&&"L"===i.charAt(0))e.text=m(Math.pow(10,o),t,a,r);else if(T(i)||"D"===i.charAt(0)&&A.mod(o+.01,1)<.1){var s=Math.round(o);-1!==["e","E","power"].indexOf(t.exponentformat)||g(t.exponentformat)&&v(s)?(e.text=0===s?1:1===s?"10":s>1?"10<sup>"+s+"</sup>":"10<sup>"+F+-s+"</sup>",e.fontSize*=1.25):(e.text=m(Math.pow(10,o),t,"","fakehover"),"D1"===i&&"y"===t._id.charAt(0)&&(e.dy-=e.fontSize/6))}else{if("D"!==i.charAt(0))throw"unrecognized dtick "+String(i);e.text=String(Math.round(Math.pow(10,A.mod(o,1)))),e.fontSize*=.75}if("D1"===t.dtick){var l=String(e.text).charAt(0);"0"!==l&&"1"!==l||("y"===t._id.charAt(0)?e.dx-=e.fontSize/4:(e.dy+=e.fontSize/2,e.dx+=(t.range[1]>t.range[0]?1:-1)*e.fontSize*(o<0?.5:.25)))}}function p(t,e){var n=t._categories[Math.round(e.x)];void 0===n&&(n=""),e.text=String(n)}function h(t,e,n,r,a){"never"===a?a="":"all"===t.showexponent&&Math.abs(e.x/t.dtick)<1e-6&&(a="hide"),e.text=m(e.x,t,a,r)}function g(t){return"SI"===t||"B"===t}function v(t){return t>14||t<-15}function m(t,e,n,r){var a=t<0,i=e._tickround,o=n||e.exponentformat||"B",s=e._tickexponent,l=e.tickformat,u=e.separatethousands;if(r){var d={exponentformat:e.exponentformat,dtick:"none"===e.showexponent?e.dtick:T(t)?Math.abs(t)||1:1,range:"none"===e.showexponent?e.range.map(e.r2d):[0,t||1]};c(d),i=(Number(d._tickround)||0)+4,s=d._tickexponent,e.hoverformat&&(l=e.hoverformat)}if(l)return w.format(l)(t).replace(/-/g,F);var f=Math.pow(10,-i)/2;if("none"===o&&(s=0),(t=Math.abs(t))<f)t="0",a=!1;else{if(t+=f,s&&(t*=Math.pow(10,-s),i+=s),0===i)t=String(Math.floor(t));else if(i<0){t=String(Math.round(t)),t=t.substr(0,t.length+i);for(var p=i;p<0;p++)t+="0"}else{t=String(t);var h=t.indexOf(".")+1;h&&(t=t.substr(0,h+i).replace(/\.?0+$/,""))}t=A.numSeparate(t,e._separators,u)}if(s&&"hide"!==o){g(o)&&v(s)&&(o="power");var m;m=s<0?F+-s:"power"!==o?"+"+s:String(s),"e"===o?t+="e"+m:"E"===o?t+="E"+m:"power"===o?t+="10<sup>"+m+"</sup>":"B"===o&&9===s?t+="B":g(o)&&(t+=Z[s/3+5])}return a?F+t:t}function y(t,e){var n,r,a=[];for(n=0;n<e.length;n++){var i=[],o=t._fullData[e[n]].xaxis,s=t._fullData[e[n]].yaxis;if(o&&s){for(r=0;r<a.length;r++)-1===a[r].x.indexOf(o)&&-1===a[r].y.indexOf(s)||i.push(r);if(i.length){var l,c=a[i[0]];if(i.length>1)for(r=1;r<i.length;r++)l=a[i[r]],b(c.x,l.x),b(c.y,l.y);b(c.x,[o]),b(c.y,[s])}else a.push({x:[o],y:[s]})}}return a}function b(t,e){for(var n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n])}function x(t,e,n){var r,a,i=[],o=[],s=t.layout;for(r=0;r<e.length;r++)i.push(H.getFromId(t,e[r]));for(r=0;r<n.length;r++)o.push(H.getFromId(t,n[r]));var l=Object.keys(i[0]),c=["anchor","domain","overlaying","position","side","tickangle"],u=["linear","log"];for(r=0;r<l.length;r++){
var d=l[r],f=i[0][d],p=o[0][d],h=!0,g=!1,v=!1;if("_"!==d.charAt(0)&&"function"!=typeof f&&-1===c.indexOf(d)){for(a=1;a<i.length&&h;a++){var m=i[a][d];"type"===d&&-1!==u.indexOf(f)&&-1!==u.indexOf(m)&&f!==m?g=!0:m!==f&&(h=!1)}for(a=1;a<o.length&&h;a++){var y=o[a][d];"type"===d&&-1!==u.indexOf(p)&&-1!==u.indexOf(y)&&p!==y?v=!0:o[a][d]!==p&&(h=!1)}h&&(g&&(s[i[0]._name].type="linear"),v&&(s[o[0]._name].type="linear"),_(s,d,i,o))}}for(r=0;r<t._fullLayout.annotations.length;r++){var b=t._fullLayout.annotations[r];-1!==e.indexOf(b.xref)&&-1!==n.indexOf(b.yref)&&A.swapAttrs(s.annotations[r],["?"])}}function _(t,e,n,r){var a,i=A.nestedProperty,o=i(t[n[0]._name],e).get(),s=i(t[r[0]._name],e).get();for("title"===e&&("Click to enter X axis title"===o&&(o="Click to enter Y axis title"),"Click to enter Y axis title"===s&&(s="Click to enter X axis title")),a=0;a<n.length;a++)i(t,n[a]._name+"."+e).set(s);for(a=0;a<r.length;a++)i(t,r[a]._name+"."+e).set(o)}var w=t("d3"),T=t("fast-isnumeric"),k=t("../../registry"),A=t("../../lib"),M=t("../../lib/svg_text_utils"),C=t("../../components/titles"),S=t("../../components/color"),E=t("../../components/drawing"),L=t("../../constants/numerical"),O=L.FP_SAFE,D=L.ONEAVGYEAR,I=L.ONEAVGMONTH,P=L.ONEDAY,N=L.ONEHOUR,z=L.ONEMIN,R=L.ONESEC,F=L.MINUS_SIGN,j=t("../../constants/alignment").MID_SHIFT,H=e.exports={};H.layoutAttributes=t("./layout_attributes"),H.supplyLayoutDefaults=t("./layout_defaults"),H.setConvert=t("./set_convert");var B=t("./axis_autotype"),V=t("./axis_ids");H.id2name=V.id2name,H.cleanId=V.cleanId,H.list=V.list,H.listIds=V.listIds,H.getFromId=V.getFromId,H.getFromTrace=V.getFromTrace,H.coerceRef=function(t,e,n,r,a,i){var o=r.charAt(r.length-1),s=H.listIds(n,o),l=r+"ref",c={};return a||(a=s[0]||i),i||(i=a),c[l]={valType:"enumerated",values:s.concat(i?[i]:[]),dflt:a},A.coerce(t,e,c,l)},H.coercePosition=function(t,e,n,r,a,i){var o,s;if("paper"===r||"pixel"===r)o=A.ensureNumber,s=n(a,i);else{var l=H.getFromId(e,r);i=l.fraction2r(i),s=n(a,i),o=l.cleanPos}t[a]=o(s)},H.cleanPosition=function(t,e,n){return("paper"===n||"pixel"===n?A.ensureNumber:H.getFromId(e,n).cleanPos)(t)};var q=H.getDataConversions=function(t,e,n,i){var o,s="x"===n||"y"===n||"z"===n?n:i;if(Array.isArray(s)){if(o={type:B(i),_categories:[]},H.setConvert(o),"category"===o.type)for(var l=0;l<i.length;l++)o.d2c(i[l])}else o=H.getFromTrace(t,e,s);return o?{d2c:o.d2c,c2d:o.c2d}:"ids"===s?{d2c:a,c2d:a}:{d2c:r,c2d:r}};H.getDataToCoordFunc=function(t,e,n,r){return q(t,e,n,r).d2c},H.counterLetter=function(t){var e=t.charAt(0);return"x"===e?"y":"y"===e?"x":void 0},H.minDtick=function(t,e,n,r){-1===["log","category"].indexOf(t.type)&&r?void 0===t._minDtick?(t._minDtick=e,t._forceTick0=n):t._minDtick&&((t._minDtick/e+1e-6)%1<2e-6&&((n-t._forceTick0)/e%1+1.000001)%1<2e-6?(t._minDtick=e,t._forceTick0=n):((e/t._minDtick+1e-6)%1>2e-6||((n-t._forceTick0)/t._minDtick%1+1.000001)%1>2e-6)&&(t._minDtick=0)):t._minDtick=0},H.getAutoRange=function(t){var e,n=[],r=t._min[0].val,a=t._max[0].val;for(e=1;e<t._min.length&&r===a;e++)r=Math.min(r,t._min[e].val);for(e=1;e<t._max.length&&r===a;e++)a=Math.max(a,t._max[e].val);var i,o,s,l,c,u,d,f=0,p=!1;if(t.range){var h=A.simpleMap(t.range,t.r2l);p=h[1]<h[0]}for("reversed"===t.autorange&&(p=!0,t.autorange=!0),e=0;e<t._min.length;e++)for(o=t._min[e],i=0;i<t._max.length;i++)s=t._max[i],d=s.val-o.val,u=t._length-o.pad-s.pad,d>0&&u>0&&d/u>f&&(l=o,c=s,f=d/u);if(r===a){var g=r-1,v=r+1;n="tozero"===t.rangemode?r<0?[g,0]:[0,v]:"nonnegative"===t.rangemode?[Math.max(0,g),Math.max(0,v)]:[g,v]}else f&&("linear"!==t.type&&"-"!==t.type||("tozero"===t.rangemode?(l.val>=0&&(l={val:0,pad:0}),c.val<=0&&(c={val:0,pad:0})):"nonnegative"===t.rangemode&&(l.val-f*l.pad<0&&(l={val:0,pad:0}),c.val<0&&(c={val:1,pad:0})),f=(c.val-l.val)/(t._length-l.pad-c.pad)),n=[l.val-f*l.pad,c.val+f*c.pad]);return n[0]===n[1]&&("tozero"===t.rangemode?n=n[0]<0?[n[0],0]:n[0]>0?[0,n[0]]:[0,1]:(n=[n[0]-1,n[0]+1],"nonnegative"===t.rangemode&&(n[0]=Math.max(0,n[0])))),p&&n.reverse(),A.simpleMap(n,t.l2r||Number)},H.doAutoRange=function(t){t._length||t.setScale();var e=t._min&&t._max&&t._min.length&&t._max.length;if(t.autorange&&e){t.range=H.getAutoRange(t),t._r=t.range.slice(),t._rl=A.simpleMap(t._r,t.r2l);var n=t._input;n.range=t.range.slice(),n.autorange=t.autorange}},H.saveRangeInitial=function(t,e){for(var n=H.list(t,"",!0),r=!1,a=0;a<n.length;a++){var i=n[a],o=void 0===i._rangeInitial,s=o||!(i.range[0]===i._rangeInitial[0]&&i.range[1]===i._rangeInitial[1]);(o&&!1===i.autorange||e&&s)&&(i._rangeInitial=i.range.slice(),r=!0)}return r},H.saveShowSpikeInitial=function(t,e){for(var n=H.list(t,"",!0),r=!1,a="on",i=0;i<n.length;i++){var o=n[i],s=void 0===o._showSpikeInitial,l=s||!(o.showspikes===o._showspikes);(s||e&&l)&&(o._showSpikeInitial=o.showspikes,r=!0),"on"!==a||o.showspikes||(a="off")}return t._fullLayout._cartesianSpikesEnabled=a,r},H.expand=function(t,e,n){function r(t){if(Array.isArray(t))return function(e){return Math.max(Number(t[e]||0),0)};var e=Math.max(Number(t||0),0);return function(){return e}}function a(n){function r(t){return T(t)&&Math.abs(t)<O}if(l=e[n],T(l)){if(d=b(n)+m,f=x(n)+m,h=l-w(n),g=l+_(n),"log"===t.type&&h<g/10&&(h=g/10),c=t.c2l(h),u=t.c2l(g),y&&(c=Math.min(0,c),u=Math.max(0,u)),r(c)){for(p=!0,o=0;o<t._min.length&&p;o++)s=t._min[o],s.val<=c&&s.pad>=f?p=!1:s.val>=c&&s.pad<=f&&(t._min.splice(o,1),o--);p&&t._min.push({val:c,pad:y&&0===c?0:f})}if(r(u)){for(p=!0,o=0;o<t._max.length&&p;o++)s=t._max[o],s.val>=u&&s.pad>=d?p=!1:s.val<=u&&s.pad<=d&&(t._max.splice(o,1),o--);p&&t._max.push({val:u,pad:y&&0===u?0:d})}}}if((t.autorange||A.nestedProperty(t,"rangeslider.autorange").get())&&e){t._min||(t._min=[]),t._max||(t._max=[]),n||(n={}),t._m||t.setScale();var i,o,s,l,c,u,d,f,p,h,g,v=e.length,m=n.padded?.05*t._length:0,y=n.tozero&&("linear"===t.type||"-"===t.type);m&&"domain"===t.constrain&&t._inputDomain&&(m*=(t._inputDomain[1]-t._inputDomain[0])/(t.domain[1]-t.domain[0]));var b=r((t._m>0?n.ppadplus:n.ppadminus)||n.ppad||0),x=r((t._m>0?n.ppadminus:n.ppadplus)||n.ppad||0),_=r(n.vpadplus||n.vpad),w=r(n.vpadminus||n.vpad);for(i=0;i<6;i++)a(i);for(i=v-1;i>5;i--)a(i)}},H.autoBin=function(t,e,n,r,a){var s=A.aggNums(Math.min,null,t),l=A.aggNums(Math.max,null,t);if(a||(a=e.calendar),"category"===e.type)return{start:s-.5,end:l+.5,size:1,_count:l-s+1};var c;if(n)c=(l-s)/n;else{var u=A.distinctVals(t),d=Math.pow(10,Math.floor(Math.log(u.minDiff)/Math.LN10)),f=d*A.roundUp(u.minDiff/d,[.9,1.9,4.9,9.9],!0);c=Math.max(f,2*A.stdev(t)/Math.pow(t.length,r?.25:.4)),T(c)||(c=1)}var p;p="log"===e.type?{type:"linear",range:[s,l]}:{type:e.type,range:A.simpleMap([s,l],e.c2r,0,a),calendar:a},H.setConvert(p),H.autoTicks(p,c);var h,g,v=H.tickIncrement(H.tickFirst(p),p.dtick,"reverse",a);if("number"==typeof p.dtick)v=i(v,t,p,s,l),g=1+Math.floor((l-v)/p.dtick),h=v+g*p.dtick;else for("M"===p.dtick.charAt(0)&&(v=o(v,t,p.dtick,s,a)),h=v,g=0;h<=l;)h=H.tickIncrement(h,p.dtick,!1,a),g++;return{start:e.c2r(v,0,a),end:e.c2r(h,0,a),size:p.dtick,_count:g}},H.calcTicks=function(t){var e=A.simpleMap(t.range,t.r2l);if("auto"===t.tickmode||!t.dtick){var n,r=t.nticks;r||("category"===t.type?(n=t.tickfont?1.2*(t.tickfont.size||12):15,r=t._length/n):(n="y"===t._id.charAt(0)?40:80,r=A.constrain(t._length/n,4,9)+1)),"array"===t.tickmode&&(r*=100),H.autoTicks(t,Math.abs(e[1]-e[0])/r),t._minDtick>0&&t.dtick<2*t._minDtick&&(t.dtick=t._minDtick,t.tick0=t.l2r(t._forceTick0))}if(t.tick0||(t.tick0="date"===t.type?"2000-01-01":0),c(t),"array"===t.tickmode)return s(t);t._tmin=H.tickFirst(t);var a=e[1]<e[0],i=[],o=1.0001*e[1]-1e-4*e[0];"category"===t.type&&(o=a?Math.max(-.5,o):Math.min(t._categories.length-.5,o));for(var l=null,u=Math.max(1e3,t._length||0),d=t._tmin;(a?d>=o:d<=o)&&!(i.length>u||d===l);d=H.tickIncrement(d,t.dtick,a,t.calendar))l=d,i.push(d);t._tmax=i[i.length-1],t._prevDateHead="",t._inCalcTicks=!0;for(var f=new Array(i.length),p=0;p<i.length;p++)f[p]=H.tickText(t,i[p]);return t._inCalcTicks=!1,f};var $=[2,5,10],U=[1,2,3,6,12],W=[1,2,5,10,15,30],G=[1,2,3,7,14],Y=[-.046,0,.301,.477,.602,.699,.778,.845,.903,.954,1],X=[-.301,0,.301,.699,1];H.autoTicks=function(t,e){var n;if("date"===t.type){t.tick0=A.dateTick0(t.calendar);var r=2*e;r>D?(e/=D,n=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick="M"+12*l(e,n,$)):r>I?(e/=I,t.dtick="M"+l(e,1,U)):r>P?(t.dtick=l(e,P,G),t.tick0=A.dateTick0(t.calendar,!0)):r>N?t.dtick=l(e,N,U):r>z?t.dtick=l(e,z,W):r>R?t.dtick=l(e,R,W):(n=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick=l(e,n,$))}else if("log"===t.type){t.tick0=0;var a=A.simpleMap(t.range,t.r2l);if(e>.7)t.dtick=Math.ceil(e);else if(Math.abs(a[1]-a[0])<1){var i=1.5*Math.abs((a[1]-a[0])/e);e=Math.abs(Math.pow(10,a[1])-Math.pow(10,a[0]))/i,n=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick="L"+l(e,n,$)}else t.dtick=e>.3?"D2":"D1"}else"category"===t.type?(t.tick0=0,t.dtick=Math.ceil(Math.max(e,1))):(t.tick0=0,n=Math.pow(10,Math.floor(Math.log(e)/Math.LN10)),t.dtick=l(e,n,$));if(0===t.dtick&&(t.dtick=1),!T(t.dtick)&&"string"!=typeof t.dtick){var o=t.dtick;throw t.dtick=1,"ax.dtick error: "+String(o)}},H.tickIncrement=function(t,e,n,r){var a=n?-1:1;if(T(e))return t+a*e;var i=e.charAt(0),o=a*Number(e.substr(1));if("M"===i)return A.incrementMonth(t,o,r);if("L"===i)return Math.log(Math.pow(10,t)+o)/Math.LN10;if("D"===i){var s="D2"===e?X:Y,l=t+.01*a,c=A.roundUp(A.mod(l,1),s,n);return Math.floor(l)+Math.log(w.round(Math.pow(10,c),1))/Math.LN10}throw"unrecognized dtick "+String(e)},H.tickFirst=function(t){var e=t.r2l||Number,n=A.simpleMap(t.range,e),r=n[1]<n[0],a=r?Math.floor:Math.ceil,i=1.0001*n[0]-1e-4*n[1],o=t.dtick,s=e(t.tick0);if(T(o)){var l=a((i-s)/o)*o+s;return"category"===t.type&&(l=A.constrain(l,0,t._categories.length-1)),l}var c=o.charAt(0),u=Number(o.substr(1));if("M"===c){for(var d,f,p,h=0,g=s;h<10;){if(((d=H.tickIncrement(g,o,r,t.calendar))-i)*(g-i)<=0)return r?Math.min(g,d):Math.max(g,d);f=(i-(g+d)/2)/(d-g),p=c+(Math.abs(Math.round(f))||1)*u,g=H.tickIncrement(g,p,f<0?!r:r,t.calendar),h++}return A.error("tickFirst did not converge",t),g}if("L"===c)return Math.log(a((Math.pow(10,i)-s)/u)*u+s)/Math.LN10;if("D"===c){var v="D2"===o?X:Y,m=A.roundUp(A.mod(i,1),v,r);return Math.floor(i)+Math.log(w.round(Math.pow(10,m),1))/Math.LN10}throw"unrecognized dtick "+String(o)},H.tickText=function(t,e,n){function r(r){var a;return void 0===r||(n?"none"===r:(a={first:t._tmin,last:t._tmax}[r],"all"!==r&&e!==a))}var a,i,o=u(t,e),s="array"===t.tickmode,l=n||s,c="category"===t.type?t.d2l_noadd:t.d2l;if(s&&Array.isArray(t.ticktext)){var g=A.simpleMap(t.range,t.r2l),v=Math.abs(g[1]-g[0])/1e4;for(i=0;i<t.ticktext.length&&!(Math.abs(e-c(t.tickvals[i]))<v);i++);if(i<t.ticktext.length)return o.text=String(t.ticktext[i]),o}return a=n?"never":"none"!==t.exponentformat&&r(t.showexponent)?"hide":"","date"===t.type?d(t,o,n,l):"log"===t.type?f(t,o,n,l,a):"category"===t.type?p(t,o):h(t,o,n,l,a),t.tickprefix&&!r(t.showtickprefix)&&(o.text=t.tickprefix+o.text),t.ticksuffix&&!r(t.showticksuffix)&&(o.text+=t.ticksuffix),o};var Z=["f","p","n","","m","","k","M","G","T"];H.subplotMatch=/^x([0-9]*)y([0-9]*)$/,H.getSubplots=function(t,e){var n,r,a,i=[],o=t._fullData||t.data||[];for(n=0;n<o.length;n++){var s=o[n];!1!==s.visible&&"legendonly"!==s.visible&&(k.traceIs(s,"cartesian")||k.traceIs(s,"gl2d"))&&(a=(s.xaxis||"x")+(s.yaxis||"y"),-1===i.indexOf(a)&&i.push(a))}var l=H.list(t,"",!0);for(n=0;n<l.length;n++){var c=l[n],u=c._id.charAt(0),d="free"===c.anchor?"x"===u?"y":"x":c.anchor,f=H.getFromId(t,d),p=!1;for(r=0;r<i.length;r++)if(function(t,e){return-1!==t.indexOf(e._id)}(i[r],c)){p=!0;break}"free"===c.anchor&&p||f&&(a="x"===u?c._id+f._id:f._id+c._id,-1===i.indexOf(a)&&i.push(a))}var h=H.subplotMatch,g=[];for(n=0;n<i.length;n++)a=i[n],h.test(a)&&g.push(a);return g.sort(function(t,e){var n=t.match(h),r=e.match(h);return n[1]===r[1]?+(n[2]||1)-(r[2]||1):+(n[1]||0)-(r[1]||0)}),e?H.findSubplotsWithAxis(g,e):g},H.findSubplotsWithAxis=function(t,e){for(var n=new RegExp("x"===e._id.charAt(0)?"^"+e._id+"y":e._id+"$"),r=[],a=0;a<t.length;a++){var i=t[a];n.test(i)&&r.push(i)}return r},H.makeClipPaths=function(t){var e,n,r=t._fullLayout,a={_offset:0,_length:r.width,_id:""},i={_offset:0,_length:r.height,_id:""},o=H.list(t,"x",!0),s=H.list(t,"y",!0),l=[];for(e=0;e<o.length;e++)for(l.push({x:o[e],y:i}),n=0;n<s.length;n++)0===e&&l.push({x:a,y:s[n]}),l.push({x:o[e],y:s[n]});var c=r._clips.selectAll(".axesclip").data(l,function(t){return t.x._id+t.y._id});c.enter().append("clipPath").classed("axesclip",!0).attr("id",function(t){return"clip"+r._uid+t.x._id+t.y._id}).append("rect"),c.exit().remove(),c.each(function(t){w.select(this).select("rect").attr({x:t.x._offset||0,y:t.y._offset||0,width:t.x._length||1,height:t.y._length||1})})},H.doTicks=function(t,e,n){function r(t){var e=c.l2p(t.x);return e>1&&e<c._length-1}function a(t,e){var n=t.selectAll("path."+_).data("inside"===c.ticks?$:b,x);e&&c.ticks?(n.enter().append("path").classed(_,1).classed("ticks",1).classed("crisp",1).call(S.stroke,c.tickcolor).style("stroke-width",R+"px").attr("d",e),n.attr("transform",p),n.exit().remove()):n.remove()}function i(n,r){function a(t,e){t.each(function(t){var n=y(e),r=w.select(this),a=r.select(".text-math-group"),i=p(t)+(T(e)&&0!=+e?" rotate("+e+","+f(t)+","+(h(t)-t.fontSize/2)+")":"");if(a.empty())r.select("text").attr({transform:i,"text-anchor":n});else{var o=E.bBox(a.node()).width*{end:-.5,start:.5}[n];a.attr("transform",i+(o?"translate("+o+",0)":""))}})}function i(){return O.length&&Promise.all(O)}function s(){if(a(d,c.tickangle),"x"===m&&!T(c.tickangle)&&("log"!==c.type||"D"!==String(c.dtick).charAt(0))){var t=[];for(d.each(function(e){var n=w.select(this),r=n.select(".text-math-group"),a=c.l2p(e.x);r.empty()&&(r=n.select("text"));var i=E.bBox(r.node());t.push({top:0,bottom:10,height:10,left:a-i.width/2,right:a+i.width/2+2,width:i.width+2})}),v=0;v<t.length-1;v++)if(A.bBoxIntersect(t[v],t[v+1])){L=30;break}L&&(Math.abs((b[b.length-1].x-b[0].x)*c._m)/(b.length-1)<2.5*S&&(L=90),a(d,L)),c._lastangle=L}return o(),e+" done"}function l(){function e(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.max(t[1],e[1])}if(c.showticklabels){var r=t.getBoundingClientRect(),a=n.node().getBoundingClientRect();c._boundingBox={width:a.width,height:a.height,left:a.left-r.left,right:a.right-r.left,top:a.top-r.top,bottom:a.bottom-r.top}}else{var i,o=u._size;"x"===m?(i="free"===c.anchor?o.t+o.h*(1-c.position):o.t+o.h*(1-c._anchorAxis.domain[{bottom:0,top:1}[c.side]]),c._boundingBox={top:i,bottom:i,left:c._offset,rigth:c._offset+c._length,width:c._length,height:0}):(i="free"===c.anchor?o.l+o.w*c.position:o.l+o.w*c._anchorAxis.domain[{left:0,right:1}[c.side]],c._boundingBox={left:i,right:i,bottom:c._offset+c._length,top:c._offset,height:c._length,width:0})}if(g){var s=c._counterSpan=[1/0,-1/0];for(v=0;v<g.length;v++){var l=u._plots[g[v]],d=l["x"===m?"yaxis":"xaxis"];e(s,[d._offset,d._offset+d._length])}"free"===c.anchor&&e(s,"x"===m?[c._boundingBox.bottom,c._boundingBox.top]:[c._boundingBox.right,c._boundingBox.left])}}var d=n.selectAll("g."+_).data(b,x);if(!T(r))return d.remove(),void o();if(!c.showticklabels)return d.remove(),o(),void l();var f,h,y,k,C;"x"===m?(C="bottom"===B?1:-1,f=function(t){return t.dx+P*C},k=r+(I+D)*C,h=function(t){return t.dy+k+t.fontSize*("bottom"===B?1:-.2)},y=function(t){return T(t)&&0!==t&&180!==t?t*C<0?"end":"start":"middle"}):(C="right"===B?1:-1,h=function(t){return t.dy+t.fontSize*j-P*C},f=function(t){return t.dx+r+(I+D+(90===Math.abs(c.tickangle)?t.fontSize/2:0))*C},y=function(t){return T(t)&&90===Math.abs(t)?"middle":"right"===B?"start":"end"});var S=0,L=0,O=[];d.enter().append("g").classed(_,1).append("text").attr("text-anchor","middle").each(function(e){var n=w.select(this),r=t._promises.length;n.call(M.positionText,f(e),h(e)).call(E.font,e.font,e.fontSize,e.fontColor).text(e.text).call(M.convertToTspans,t),r=t._promises[r],r?O.push(t._promises.pop().then(function(){a(n,c.tickangle)})):a(n,c.tickangle)}),d.exit().remove(),d.each(function(t){S=Math.max(S,t.fontSize)}),a(d,c._lastangle||c.tickangle);var N=A.syncOrAsync([i,s,l]);return N&&N.then&&t._promises.push(N),N}function o(){if(!n){var r,a,i,o,s=V.getFromId(t,e),l=w.select(t).selectAll("g."+e+"tick"),c={selection:l,side:s.side},d=e.charAt(0),f=t._fullLayout._size,p=s.titlefont.size;if(l.size()){var h=E.getTranslate(l.node().parentNode);c.offsetLeft=h.x,c.offsetTop=h.y}var g=10+1.5*p+(s.linewidth?s.linewidth-1:0);"x"===d?(a="free"===s.anchor?{_offset:f.t+(1-(s.position||0))*f.h,_length:0}:V.getFromId(t,s.anchor),i=s._offset+s._length/2,o="top"===s.side?-g-p*(s.showticklabels?1:0):a._length+g+p*(s.showticklabels?1.5:.5),o+=a._offset,s.rangeslider&&s.rangeslider.visible&&s._boundingBox&&(o+=(u.height-u.margin.b-u.margin.t)*s.rangeslider.thickness+s._boundingBox.height),c.side||(c.side="bottom")):(a="free"===s.anchor?{_offset:f.l+(s.position||0)*f.w,_length:0}:V.getFromId(t,s.anchor),o=s._offset+s._length/2,i="right"===s.side?a._length+g+p*(s.showticklabels?1:.5):-g-p*(s.showticklabels?.5:0),i+=a._offset,r={rotate:"-90",offset:0},c.side||(c.side="left")),C.draw(t,e+"title",{propContainer:s,propName:s._name+".title",dfltName:d.toUpperCase()+" axis",avoid:c,transform:r,attributes:{x:i,y:o,"text-anchor":"middle"}})}}function s(t,e){return!0===t.visible&&t.xaxis+t.yaxis===e&&(!(!k.traceIs(t,"bar")||t.orientation!=={x:"h",y:"v"}[m])||t.fill&&t.fill.charAt(t.fill.length-1)===m)}function l(e,n,a){var i=e.gridlayer,o=e.zerolinelayer,l=e["hidegrid"+m]?[]:$,u=c._gridpath||"M0,0"+("x"===m?"v":"h")+n._length,d=i.selectAll("path."+L).data(!1===c.showgrid?[]:l,x);if(d.enter().append("path").classed(L,1).classed("crisp",1).attr("d",u).each(function(t){c.zeroline&&("linear"===c.type||"-"===c.type)&&Math.abs(t.x)<c.dtick/100&&w.select(this).remove()}),d.attr("transform",p).call(S.stroke,c.gridcolor||"#ddd").style("stroke-width",N+"px"),d.exit().remove(),o){for(var f=!1,h=0;h<t._fullData.length;h++)if(s(t._fullData[h],a)){f=!0;break}var g=A.simpleMap(c.range,c.r2l),v=g[0]*g[1]<=0&&c.zeroline&&("linear"===c.type||"-"===c.type)&&l.length&&(f||r({x:0})||!c.showline),y=o.selectAll("path."+O).data(v?[{x:0}]:[]);y.enter().append("path").classed(O,1).classed("zl",1).classed("crisp",1).attr("d",u),y.attr("transform",p).call(S.stroke,c.zerolinecolor||S.defaultLine).style("stroke-width",z+"px"),y.exit().remove()}}var c,u=t._fullLayout,d=!1;if("object"==typeof e)c=e,e=c._id,d=!0;else if(c=H.getFromId(t,e),"redraw"===e&&u._paper.selectAll("g.subplot").each(function(t){var e=u._plots[t],n=e.xaxis,r=e.yaxis;e.xaxislayer.selectAll("."+n._id+"tick").remove(),e.yaxislayer.selectAll("."+r._id+"tick").remove(),e.gridlayer.selectAll("path").remove(),e.zerolinelayer.selectAll("path").remove(),u._infolayer.select(".g-"+n._id+"title").remove(),u._infolayer.select(".g-"+r._id+"title").remove()}),!e||"redraw"===e)return A.syncOrAsync(H.list(t,"",!0).map(function(n){return function(){if(n._id){var r=H.doTicks(t,n._id);return"redraw"===e&&(n._r=n.range.slice(),n._rl=A.simpleMap(n._r,n.r2l)),r}}}));c.tickformat||(-1===["none","e","E","power","SI","B"].indexOf(c.exponentformat)&&(c.exponentformat="e"),-1===["all","first","last","none"].indexOf(c.showexponent)&&(c.showexponent="all")),c.setScale();var f,p,h,g,v,m=e.charAt(0),y=H.counterLetter(e),b=H.calcTicks(c),x=function(t){return[t.text,t.x,c.mirror].join("_")},_=e+"tick",L=e+"grid",O=e+"zl",D=(c.linewidth||1)/2,I="outside"===c.ticks?c.ticklen:0,P=0,N=E.crispRound(t,c.gridwidth,1),z=E.crispRound(t,c.zerolinewidth,N),R=E.crispRound(t,c.tickwidth,1);if(c._counterangle&&"outside"===c.ticks){var F=c._counterangle*Math.PI/180;I=c.ticklen*Math.cos(F)+1,P=c.ticklen*Math.sin(F)}if(c.showticklabels&&("outside"===c.ticks||c.showline)&&(I+=.2*c.tickfont.size),"x"===m)f=["bottom","top"],p=function(t){return"translate("+c.l2p(t.x)+",0)"},h=function(t,e){if(c._counterangle){var n=c._counterangle*Math.PI/180;return"M0,"+t+"l"+Math.sin(n)*e+","+Math.cos(n)*e}return"M0,"+t+"v"+e};else{if("y"!==m)return void A.warn("Unrecognized doTicks axis:",e);f=["left","right"],p=function(t){return"translate(0,"+c.l2p(t.x)+")"},h=function(t,e){if(c._counterangle){var n=c._counterangle*Math.PI/180;return"M"+t+",0l"+Math.cos(n)*e+","+-Math.sin(n)*e}return"M"+t+",0h"+e}}var B=c.side||f[0],q=[-1,1,B===f[1]?1:-1];if("inside"!==c.ticks==("x"===m)&&(q=q.map(function(t){return-t})),c.visible){var $=b.filter(r);if(d)return a(c._axislayer,h(c._pos+D*q[2],q[2]*c.ticklen)),c._counteraxis&&l({gridlayer:c._gridlayer,zerolinelayer:c._zerolinelayer},c._counteraxis),i(c._axislayer,c._pos);g=H.getSubplots(t,c);var U=g.map(function(t){var e=u._plots[t];if(u._has("cartesian")){var n=e[m+"axislayer"],r=c._linepositions[t]||[],o=e[y+"axis"],s=o._id===c.anchor,d=[!1,!1,!1],p="";if("allticks"===c.mirror?d=[!0,!0,!1]:s&&("ticks"===c.mirror?d=[!0,!0,!1]:d[f.indexOf(B)]=!0),c.mirrors)for(v=0;v<2;v++){var g=c.mirrors[o._id+f[v]];"ticks"!==g&&"labels"!==g||(d[v]=!0)}return void 0!==r[2]&&(d[2]=!0),d.forEach(function(t,e){var n=r[e],a=q[e];t&&T(n)&&(p+=h(n+D*a,a*c.ticklen))}),a(n,p),l(e,o,t),i(n,r[3])}}).filter(function(t){return t&&t.then});return U.length?Promise.all(U):0}},H.swap=function(t,e){for(var n=y(t,e),r=0;r<n.length;r++)x(t,n[r].x,n[r].y)}},{"../../components/color":34,"../../components/drawing":58,"../../components/titles":124,"../../constants/alignment":131,"../../constants/numerical":133,"../../lib":149,"../../lib/svg_text_utils":169,"../../registry":225,"./axis_autotype":190,"./axis_ids":192,"./layout_attributes":200,"./layout_defaults":201,"./set_convert":206,d3:7,"fast-isnumeric":10}],190:[function(t,e,n){"use strict";function r(t){if(!t)return!1;for(var e=0;e<t.length;e++)if(o(t[e]))return!0;return!1}function a(t,e){for(var n,r=0,a=0,i=Math.max(1,(t.length-1)/1e3),l=0;l<t.length;l+=i)n=t[Math.round(l)],s.isDateTime(n,e)&&(r+=1),o(n)&&(a+=1);return r>2*a}function i(t){for(var e,n=Math.max(1,(t.length-1)/1e3),r=0,a=0,i=0;i<t.length;i+=n)e=t[Math.round(i)],s.cleanNumber(e)!==l?r++:"string"==typeof e&&""!==e&&"None"!==e&&a++;return a>2*r}var o=t("fast-isnumeric"),s=t("../../lib"),l=t("../../constants/numerical").BADNUM;e.exports=function(t,e){return a(t,e)?"date":i(t)?"category":r(t)?"linear":"-"}},{"../../constants/numerical":133,"../../lib":149,"fast-isnumeric":10}],191:[function(t,e,n){"use strict";var r=t("tinycolor2").mix,a=t("../../registry"),i=t("../../lib"),o=t("../../components/color/attributes").lightFraction,s=t("./layout_attributes"),l=t("./tick_value_defaults"),c=t("./tick_mark_defaults"),u=t("./tick_label_defaults"),d=t("./category_order_defaults"),f=t("./set_convert"),p=t("./ordered_categories");e.exports=function(t,e,n,h,g){function v(n,r){return i.coerce2(t,e,s,n,r)}var m=h.letter,y=h.font||{},b="Click to enter "+(h.title||m.toUpperCase()+" axis")+" title",x=n("visible",!h.cheateronly),_=e.type;if("date"===_&&a.getComponentMethod("calendars","handleDefaults")(t,e,"calendar",h.calendar),f(e,g),n("autorange",!e.isValidRange(t.range))&&n("rangemode"),n("range"),e.cleanRange(),d(t,e,n),e._initialCategories="category"===_?p(m,e.categoryorder,e.categoryarray,h.data):[],!x)return e;var w=n("color"),T=w===t.color?w:y.color;n("title",b),i.coerceFont(n,"titlefont",{family:y.family,size:Math.round(1.2*y.size),color:T}),l(t,e,n,_),u(t,e,n,_,h),c(t,e,n,h);var k=v("linecolor",w),A=v("linewidth"),M=n("showline",!!k||!!A);M||(delete e.linecolor,delete e.linewidth),(M||e.ticks)&&n("mirror");var C=v("gridcolor",r(w,h.bgColor,o).toRgbString()),S=v("gridwidth");n("showgrid",h.showGrid||!!C||!!S)||(delete e.gridcolor,delete e.gridwidth);var E=v("zerolinecolor",w),L=v("zerolinewidth");return n("zeroline",h.showGrid||!!E||!!L)||(delete e.zerolinecolor,delete e.zerolinewidth),e}},{"../../components/color/attributes":33,"../../lib":149,"../../registry":225,"./category_order_defaults":193,"./layout_attributes":200,"./ordered_categories":202,"./set_convert":206,"./tick_label_defaults":207,"./tick_mark_defaults":208,"./tick_value_defaults":209,tinycolor2:16}],192:[function(t,e,n){"use strict";function r(t,e,n){function r(t,n){for(var r=Object.keys(t),a=/^[xyz]axis[0-9]*/,i=[],o=0;o<r.length;o++){var s=r[o];e&&s.charAt(0)!==e||a.test(s)&&i.push(n+s)}return i.sort()}var a=t._fullLayout;if(!a)return[];var o=r(a,"");if(n)return o;for(var s=i.getSubplotIds(a,"gl3d")||[],l=0;l<s.length;l++){var c=s[l];o=o.concat(r(a[c],c+"."))}return o}var a=t("../../registry"),i=t("../plots"),o=t("../../lib"),s=t("./constants");n.id2name=function(t){if("string"==typeof t&&t.match(s.AX_ID_PATTERN)){var e=t.substr(1);return"1"===e&&(e=""),t.charAt(0)+"axis"+e}},n.name2id=function(t){if(t.match(s.AX_NAME_PATTERN)){var e=t.substr(5);return"1"===e&&(e=""),t.charAt(0)+e}},n.cleanId=function(t,e){if(t.match(s.AX_ID_PATTERN)&&(!e||t.charAt(0)===e)){var n=t.substr(1).replace(/^0+/,"");return"1"===n&&(n=""),t.charAt(0)+n}},n.list=function(t,e,n){return r(t,e,n).map(function(e){return o.nestedProperty(t._fullLayout,e).get()})},n.listIds=function(t,e){return r(t,e,!0).map(n.name2id)},n.getFromId=function(t,e,r){var a=t._fullLayout;return"x"===r?e=e.replace(/y[0-9]*/,""):"y"===r&&(e=e.replace(/x[0-9]*/,"")),a[n.id2name(e)]},n.getFromTrace=function(t,e,r){var i=t._fullLayout,o=null;if(a.traceIs(e,"gl3d")){var s=e.scene;"scene"===s.substr(0,5)&&(o=i[s][r+"axis"])}else o=n.getFromId(t,e[r+"axis"]||r);return o}},{"../../lib":149,"../../registry":225,"../plots":218,"./constants":194}],193:[function(t,e,n){"use strict";e.exports=function(t,e,n){if("category"===e.type){var r,a=t.categoryarray,i=Array.isArray(a)&&a.length>0;i&&(r="array");var o=n("categoryorder",r);"array"===o&&n("categoryarray"),i||"array"!==o||(e.categoryorder="trace")}}},{}],194:[function(t,e,n){"use strict";var r=t("../../lib").counterRegex;e.exports={idRegex:{x:r("x"),y:r("y")},attrRegex:r("[xy]axis"),xAxisMatch:r("xaxis"),yAxisMatch:r("yaxis"),AX_ID_PATTERN:/^[xyz][0-9]*$/,AX_NAME_PATTERN:/^[xyz]axis[0-9]*$/,MINDRAG:8,MINSELECT:12,MINZOOM:20,DRAGGERSIZE:20,BENDPX:1.5,REDRAWDELAY:50,SELECTDELAY:100,SELECTID:"-select",DFLTRANGEX:[-1,6],DFLTRANGEY:[-1,4],traceLayerClasses:["imagelayer","maplayer","barlayer","carpetlayer","boxlayer","scatterlayer"],layerValue2layerClass:{"above traces":"above","below traces":"below"}}},{"../../lib":149}],195:[function(t,e,n){"use strict";function r(t,e,n,r){var a,i,s,l,c=r[o(e)].type,u=[];for(i=0;i<n.length;i++)(s=n[i])!==e&&(l=r[o(s)],l.type!==c||l.fixedrange||u.push(s));for(a=0;a<t.length;a++)if(t[a][e]){var d=t[a],f=[];for(i=0;i<u.length;i++)s=u[i],d[s]||f.push(s);return{linkableAxes:f,thisGroup:d}}return{linkableAxes:u,thisGroup:null}}function a(t,e,n,r,a){var i,o,s,l,c;null===e?(e={},e[n]=1,c=t.length,t.push(e)):c=t.indexOf(e);var u=Object.keys(e);for(i=0;i<t.length;i++)if(s=t[i],i!==c&&s[r]){var d=s[r];for(o=0;o<u.length;o++)l=u[o],s[l]=d*a*e[l];return void t.splice(c,1)}if(1!==a)for(o=0;o<u.length;o++)e[u[o]]*=a;e[r]=1}var i=t("../../lib"),o=t("./axis_ids").id2name;e.exports=function(t,e,n,o,s){var l=s._axisConstraintGroups,c=e._id,u=c.charAt(0);if(!e.fixedrange&&(n("constrain"),i.coerce(t,e,{constraintoward:{valType:"enumerated",values:"x"===u?["left","center","right"]:["bottom","middle","top"],dflt:"x"===u?"center":"middle"}},"constraintoward"),t.scaleanchor)){var d=r(l,c,o,s),f=i.coerce(t,e,{scaleanchor:{valType:"enumerated",values:d.linkableAxes}},"scaleanchor");if(f){var p=n("scaleratio");p||(p=e.scaleratio=1),a(l,d.thisGroup,c,f,p)}else-1!==o.indexOf(t.scaleanchor)&&i.warn("ignored "+e._name+'.scaleanchor: "'+t.scaleanchor+'" to avoid either an infinite loop and possibly inconsistent scaleratios, or because the targetaxis has fixed range.')}}},{"../../lib":149,"./axis_ids":192}],196:[function(t,e,n){"use strict";function r(t,e){var n=t._inputDomain,r=s[t.constraintoward],a=n[0]+(n[1]-n[0])*r;t.domain=t._input.domain=[a+(n[0]-a)/e,a+(n[1]-a)/e]}var a=t("./axis_ids").id2name,i=t("./scale_zoom"),o=t("../../constants/numerical").ALMOST_EQUAL,s=t("../../constants/alignment").FROM_BL;n.enforce=function(t){var e,n,s,l,c,u,d,f=t._fullLayout,p=f._axisConstraintGroups;for(e=0;e<p.length;e++){var h=p[e],g=Object.keys(h),v=1/0,m=0,y=1/0,b={},x={},_=!1;for(n=0;n<g.length;n++)s=g[n],x[s]=l=f[a(s)],l._inputDomain?l.domain=l._inputDomain.slice():l._inputDomain=l.domain.slice(),l._inputRange||(l._inputRange=l.range.slice()),l.setScale(),b[s]=c=Math.abs(l._m)/h[s],v=Math.min(v,c),"domain"!==l.constrain&&l._constraintShrinkable||(y=Math.min(y,c)),delete l._constraintShrinkable,m=Math.max(m,c),"domain"===l.constrain&&(_=!0);if(!(v>o*m)||_)for(n=0;n<g.length;n++)if(s=g[n],c=b[s],l=x[s],u=l.constrain,c!==y||"domain"===u)if(d=c/y,"range"===u)i(l,d);else{var w=l._inputDomain,T=(l.domain[1]-l.domain[0])/(w[1]-w[0]),k=(l.r2l(l.range[1])-l.r2l(l.range[0]))/(l.r2l(l._inputRange[1])-l.r2l(l._inputRange[0]));if((d/=T)*k<1){l.domain=l._input.domain=w.slice(),i(l,d);continue}if(k<1&&(l.range=l._input.range=l._inputRange.slice(),d*=k),l.autorange&&l._min.length&&l._max.length){var A=l.r2l(l.range[0]),M=l.r2l(l.range[1]),C=(A+M)/2,S=C,E=C,L=Math.abs(M-C),O=C-L*d*1.0001,D=C+L*d*1.0001;r(l,d),l.setScale();var I,P,N=Math.abs(l._m);for(P=0;P<l._min.length;P++)(I=l._min[P].val-l._min[P].pad/N)>O&&I<S&&(S=I);for(P=0;P<l._max.length;P++)(I=l._max[P].val+l._max[P].pad/N)<D&&I>E&&(E=I);var z=(E-S)/(2*L);d/=z,S=l.l2r(S),E=l.l2r(E),l.range=l._input.range=A<M?[S,E]:[E,S]}r(l,d)}}},n.clean=function(t,e){if(e._inputDomain){for(var n=!1,r=e._id,a=t._fullLayout._axisConstraintGroups,i=0;i<a.length;i++)if(a[i][r]){n=!0;break}n&&"domain"===e.constrain||(e._input.domain=e.domain=e._inputDomain,delete e._inputDomain)}}},{"../../constants/alignment":131,"../../constants/numerical":133,"./axis_ids":192,"./scale_zoom":204}],197:[function(t,e,n){"use strict";function r(t,e,n,r,a,i,o){var s=t.draglayer.selectAll("."+e).data([0]);return s.enter().append("rect").classed("drag",!0).classed(e,!0).style({fill:"transparent","stroke-width":0}).attr("data-subplot",t.id),s.call(C.setRect,r,a,i,o).call(S,n),s.node()}function a(t,e){for(var n=0;n<t.length;n++)if(!t[n].fixedrange)return e;return""}function i(t,e){var n,r=t.range[e],a=Math.abs(r-t.range[1-e]);return"date"===t.type?r:"log"===t.type?(n=Math.ceil(Math.max(0,-Math.log(a)/Math.LN10))+3,x.format("."+n+"g")(Math.pow(10,r))):(n=Math.floor(Math.log(Math.abs(r))/Math.LN10)-Math.floor(Math.log(a)/Math.LN10)+4,x.format("."+String(n)+"g")(r))}function o(t,e,n,r,a){var i,s,l,c;for(i=0;i<t.length;i++)s=t[i],s.fixedrange||(l=s._rl[0],c=s._rl[1]-l,s.range=[s.l2r(l+c*e),s.l2r(l+c*n)],r[s._name+".range[0]"]=s.range[0],r[s._name+".range[1]"]=s.range[1]);if(a&&a.length){var u=(e+(1-n))/2;o(a,u,1-u,r)}}function s(t,e){for(var n=0;n<t.length;n++){var r=t[n];r.fixedrange||(r.range=[r.l2r(r._rl[0]-e/r._m),r.l2r(r._rl[1]-e/r._m)])}}function l(t){return 1-(t>=0?Math.min(t,.9):1/(1/Math.max(t,-.3)+3.222))}function c(t,e){return t?"nsew"===t?"pan"===e?"move":"crosshair":t.toLowerCase()+"-resize":"pointer"}function u(t,e,n,r,a){return t.append("path").attr("class","zoombox").style({fill:e>.2?"rgba(0,0,0,0)":"rgba(255,255,255,0)","stroke-width":0}).attr("transform","translate("+n+", "+r+")").attr("d",a+"Z")}function d(t,e,n){return t.append("path").attr("class","zoombox-corners").style({fill:M.background,stroke:M.defaultLine,"stroke-width":1,opacity:0}).attr("transform","translate("+e+", "+n+")").attr("d","M0,0Z")}function f(t){t.selectAll(".select-outline").remove()}function p(t,e,n,r,a,i){t.attr("d",r+"M"+n.l+","+n.t+"v"+n.h+"h"+n.w+"v-"+n.h+"h-"+n.w+"Z"),a||(t.transition().style("fill",i>.2?"rgba(0,0,0,0.4)":"rgba(255,255,255,0.3)").duration(200),e.transition().style("opacity",1).duration(200))}function h(t){x.select(t).selectAll(".zoombox,.js-zoombox-backdrop,.js-zoombox-menu,.zoombox-corners").remove()}function g(t){return-1!==["lasso","select"].indexOf(t)}function v(t,e){return"M"+(t.l-.5)+","+(e-F-.5)+"h-3v"+(2*F+1)+"h3ZM"+(t.r+.5)+","+(e-F-.5)+"h3v"+(2*F+1)+"h-3Z"}function m(t,e){
return"M"+(e-F-.5)+","+(t.t-.5)+"v-3h"+(2*F+1)+"v3ZM"+(e-F-.5)+","+(t.b+.5)+"v3h"+(2*F+1)+"v-3Z"}function y(t){var e=Math.floor(Math.min(t.b-t.t,t.r-t.l,F)/2);return"M"+(t.l-3.5)+","+(t.t-.5+e)+"h3v"+-e+"h"+e+"v-3h-"+(e+3)+"ZM"+(t.r+3.5)+","+(t.t-.5+e)+"h-3v"+-e+"h"+-e+"v-3h"+(e+3)+"ZM"+(t.r+3.5)+","+(t.b+.5-e)+"h-3v"+e+"h"+-e+"v3h"+(e+3)+"ZM"+(t.l-3.5)+","+(t.b+.5-e)+"h3v"+e+"h"+e+"v3h-"+(e+3)+"Z"}function b(t,e,n){var r,a,i,o,s,l,c=!1,u={},d={};for(r=0;r<t.length;r++){for(o=t[r],a=0;a<e.length;a++)if(o[e[a]]){for(s in o)-1===("x"===s.charAt(0)?e:n).indexOf(s)&&(u[s]=1);for(i=0;i<n.length;i++)o[n[i]]&&(c=!0)}for(a=0;a<n.length;a++)if(o[n[a]])for(l in o)-1===("x"===l.charAt(0)?e:n).indexOf(l)&&(d[l]=1)}return c&&(k.extendFlat(u,d),d={}),{x:u,y:d,xy:c}}var x=t("d3"),_=t("tinycolor2"),w=t("../../plotly"),T=t("../../registry"),k=t("../../lib"),A=t("../../lib/svg_text_utils"),M=t("../../components/color"),C=t("../../components/drawing"),S=t("../../lib/setcursor"),E=t("../../components/dragelement"),L=t("../../constants/alignment").FROM_TL,O=t("../plots"),D=t("./axes").doTicks,I=t("./axis_ids").getFromId,P=t("./select"),N=t("./scale_zoom"),z=t("./constants"),R=z.MINDRAG,F=z.MINZOOM,j=!0;e.exports=function(t,e,n,M,S,H,B,V){function q(){et=[e.xaxis],nt=[e.yaxis];var n=et[0],r=nt[0];it=n._length,ot=r._length;var i=pt._axisConstraintGroups,o=[n._id],s=[r._id];tt=[e].concat(B&&V?e.overlays:[]);for(var l=1;l<tt.length;l++){var u=tt[l].xaxis,d=tt[l].yaxis;-1===et.indexOf(u)&&(et.push(u),o.push(u._id)),-1===nt.indexOf(d)&&(nt.push(d),s.push(d._id))}st=a(et,V),lt=a(nt,B),ct=c(lt+st,pt.dragmode),rt=n._offset,at=r._offset;var f=b(i,o,s);ut=f.xy,dt=[];for(var p in f.x)dt.push(I(t,p));ft=[];for(var h in f.y)ft.push(I(t,h))}function $(e,n,r){var a=vt.getBoundingClientRect();yt=n-a.left,bt=r-a.top,xt={l:yt,r:yt,w:0,t:bt,b:bt,h:0},_t=t._hmpixcount?t._hmlumcount/t._hmpixcount:_(t._fullLayout.plot_bgcolor).getLuminance(),wt="M0,0H"+it+"V"+ot+"H0V0",Tt=!1,kt="xy",At=u(ht,_t,rt,at,wt),Mt=d(ht,rt,at),f(ht)}function U(e,n){function r(){kt="",xt.r=xt.l,xt.t=xt.b,Mt.attr("d","M0,0Z")}if(t._transitioningWithDuration)return!1;var a=Math.max(0,Math.min(it,e+yt)),i=Math.max(0,Math.min(ot,n+bt)),o=Math.abs(a-yt),s=Math.abs(i-bt);xt.l=Math.min(yt,a),xt.r=Math.max(yt,a),xt.t=Math.min(bt,i),xt.b=Math.max(bt,i),ut?o>F||s>F?(kt="xy",o/it>s/ot?(s=o*ot/it,bt>i?xt.t=bt-s:xt.b=bt+s):(o=s*it/ot,yt>a?xt.l=yt-o:xt.r=yt+o),Mt.attr("d",y(xt))):r():!lt||s<Math.min(Math.max(.6*o,R),F)?o<R?r():(xt.t=0,xt.b=ot,kt="x",Mt.attr("d",v(xt,bt))):!st||o<Math.min(.6*s,F)?(xt.l=0,xt.r=it,kt="y",Mt.attr("d",m(xt,yt))):(kt="xy",Mt.attr("d",y(xt))),xt.w=xt.r-xt.l,xt.h=xt.b-xt.t,p(At,Mt,xt,wt,Tt,_t),Tt=!0}function W(e,n){if(Math.min(xt.h,xt.w)<2*R)return 2===n&&Q(),h(t);"xy"!==kt&&"x"!==kt||o(et,xt.l/it,xt.r/it,Ct,dt),"xy"!==kt&&"y"!==kt||o(nt,(ot-xt.b)/ot,(ot-xt.t)/ot,Ct,ft),h(t),K(kt),j&&t.data&&t._context.showTips&&(k.notifier("Double-click to<br>zoom back out","long"),j=!1)}function G(e,n){var r=1===(B+V).length;if(e)K();else if(2!==n||r){if(1===n&&r){var a=B?nt[0]:et[0],o="s"===B||"w"===V?0:1,s=a._name+".range["+o+"]",l=i(a,o),c="left",u="middle";if(a.fixedrange)return;B?(u="n"===B?"top":"bottom","right"===a.side&&(c="right")):"e"===V&&(c="right"),t._context.showAxisRangeEntryBoxes&&x.select(vt).call(A.makeEditable,{gd:t,immediate:!0,background:pt.paper_bgcolor,text:String(l),fill:a.tickfont?a.tickfont.color:"#444",horizontalAlign:c,verticalAlign:u}).on("edit",function(e){var n=a.d2r(e);void 0!==n&&w.relayout(t,s,n)})}}else Q()}function Y(e){function n(t,e,n){function r(e){return t.l2r(i+(e-i)*n)}if(!t.fixedrange){var a=k.simpleMap(t.range,t.r2l),i=a[0]+(a[1]-a[0])*e;t.range=a.map(r)}}if(t._context.scrollZoom||pt._enablescrollzoom){if(t._transitioningWithDuration)return k.pauseEvent(e);var r=t.querySelector(".plotly");if(q(),!(r.scrollHeight-r.clientHeight>10||r.scrollWidth-r.clientWidth>10)){clearTimeout(Et);var a=-e.deltaY;if(isFinite(a)||(a=e.wheelDelta/10),!isFinite(a))return void k.log("Did not find wheel motion attributes: ",e);var i,o=Math.exp(-Math.min(Math.max(a,-20),20)/200),s=Ot.draglayer.select(".nsewdrag").node().getBoundingClientRect(),l=(e.clientX-s.left)/s.width,c=(s.bottom-e.clientY)/s.height;if(V||ut){for(V||(l=.5),i=0;i<et.length;i++)n(et[i],l,o);St[2]*=o,St[0]+=St[2]*l*(1/o-1)}if(B||ut){for(B||(c=.5),i=0;i<nt.length;i++)n(nt[i],c,o);St[3]*=o,St[1]+=St[3]*(1-c)*(1/o-1)}return J(St),Z(B,V),Et=setTimeout(function(){St=[0,0,it,ot];var t;t=ut?"xy":(V?"x":"")+(B?"y":""),K(t)},Lt),k.pauseEvent(e)}}}function X(e,n){function r(t,e,n){for(var r,a,i=1-e,o=0;o<t.length;o++){var s=t[o];if(!s.fixedrange){r=s,a=s._rl[i]+(s._rl[e]-s._rl[i])/l(n/s._length);var c=s.l2r(a);!1!==c&&void 0!==c&&(s.range[e]=c)}}return r._length*(r._rl[e]-a)/(r._rl[e]-r._rl[i])}if(!t._transitioningWithDuration){if(q(),"ew"===st||"ns"===lt)return st&&s(et,e),lt&&s(nt,n),J([st?-e:0,lt?-n:0,it,ot]),void Z(lt,st);if(ut&&st&&lt){var a="w"===st==("n"===lt)?1:-1,i=(e/it+a*n/ot)/2;e=i*it,n=a*i*ot}"w"===st?e=r(et,0,e):"e"===st?e=r(et,1,-e):st||(e=0),"n"===lt?n=r(nt,1,n):"s"===lt?n=r(nt,0,-n):lt||(n=0);var o="w"===st?e:0,c="n"===lt?n:0;if(ut){var u;if(!st&&1===lt.length){for(u=0;u<et.length;u++)et[u].range=et[u]._r.slice(),N(et[u],1-n/ot);e=n*it/ot,o=e/2}if(!lt&&1===st.length){for(u=0;u<nt.length;u++)nt[u].range=nt[u]._r.slice(),N(nt[u],1-e/it);n=e*ot/it,c=n/2}}J([o,c,it-e,ot-n]),Z(lt,st)}}function Z(e,n){function r(t){for(i=0;i<t.length;i++)t[i].fixedrange||o.push(t[i]._id)}function a(r,a,s){for(i=0;i<r.length;i++){var l=r[i];if((n&&-1!==o.indexOf(l.xref)||e&&-1!==o.indexOf(l.yref))&&(a(t,i),s))return}}var i,o=[];for((n||ut)&&(r(et),r(dt)),(e||ut)&&(r(nt),r(ft)),Ct={},i=0;i<o.length;i++){var s=o[i];D(t,s,!0);var l=I(t,s);Ct[l._name+".range[0]"]=l.range[0],Ct[l._name+".range[1]"]=l.range[1]}a(pt.annotations||[],T.getComponentMethod("annotations","drawOne")),a(pt.shapes||[],T.getComponentMethod("shapes","drawOne")),a(pt.images||[],T.getComponentMethod("images","draw"),!0)}function Q(){if(!t._transitioningWithDuration){var e,n,r,a=t._context.doubleClick,i=(st?et:[]).concat(lt?nt:[]),o={};if("reset+autosize"===a)for(a="autosize",n=0;n<i.length;n++)if(e=i[n],e._rangeInitial&&(e.range[0]!==e._rangeInitial[0]||e.range[1]!==e._rangeInitial[1])||!e._rangeInitial&&!e.autorange){a="reset";break}if("autosize"===a)for(n=0;n<i.length;n++)e=i[n],e.fixedrange||(o[e._name+".autorange"]=!0);else if("reset"===a)for((st||ut)&&(i=i.concat(dt)),lt&&!ut&&(i=i.concat(ft)),ut&&(st?lt||(i=i.concat(nt)):i=i.concat(et)),n=0;n<i.length;n++)e=i[n],e._rangeInitial?(r=e._rangeInitial,o[e._name+".range[0]"]=r[0],o[e._name+".range[1]"]=r[1]):o[e._name+".autorange"]=!0;t.emit("plotly_doubleclick",null),w.relayout(t,o)}}function K(e){void 0===e&&(e=(V?"x":"")+(B?"y":"")),J([0,0,it,ot]),k.syncOrAsync([O.previousPromises,function(){w.relayout(t,Ct)}],t)}function J(t){function e(t){return t.fixedrange?0:p&&-1!==dt.indexOf(t)?d:h&&-1!==(ut?dt:ft).indexOf(t)?f:0}function n(t,e){return e?(t.range=t._r.slice(),N(t,e),r(t,e)):0}function r(t,e){return t._length*(1-e)*L[t.constraintoward||"middle"]}var a,i,o,s,l,c=pt._plots,u=Object.keys(c),d=t[2]/et[0]._length,f=t[3]/nt[0]._length,p=V||ut,h=B||ut;for(a=0;a<u.length;a++){var g=c[u[a]],v=g.xaxis,m=g.yaxis,y=p&&!v.fixedrange&&-1!==et.indexOf(v),b=h&&!m.fixedrange&&-1!==nt.indexOf(m);if(y?(i=d,s=V?t[0]:r(v,i)):(i=e(v),s=n(v,i)),b?(o=f,l=B?t[1]:r(m,o)):(o=e(m),l=n(m,o)),i||o){i||(i=1),o||(o=1);var x=v._offset-s/i,_=m._offset-l/o;pt._defs.select("#"+g.clipId+"> rect").call(C.setTranslate,s,l).call(C.setScale,i,o);var w=g.plot.selectAll(".scatterlayer .points, .boxlayer .points");g.plot.call(C.setTranslate,x,_).call(C.setScale,1/i,1/o),w.selectAll(".point").call(C.setPointGroupScale,i,o).call(C.hideOutsideRangePoints,g),w.selectAll(".textpoint").call(C.setTextPointsScale,i,o).call(C.hideOutsideRangePoints,g)}}}var tt,et,nt,rt,at,it,ot,st,lt,ct,ut,dt,ft,pt=t._fullLayout,ht=t._fullLayout._zoomlayer,gt=B+V==="nsew";q();var vt=r(e,B+V+"drag",ct,n,M,S,H);if(!lt&&!st&&!g(pt.dragmode))return vt.onmousedown=null,vt.style.pointerEvents=gt?"all":"none",vt;var mt={element:vt,gd:t,plotinfo:e,prepFn:function(e,n,r){var a=t._fullLayout.dragmode;gt?e.shiftKey&&(a="pan"===a?"zoom":"pan"):a="pan",mt.minDrag="lasso"===a?1:void 0,"zoom"===a?(mt.moveFn=U,mt.doneFn=W,mt.minDrag=1,$(e,n,r)):"pan"===a?(mt.moveFn=X,mt.doneFn=G,f(ht)):g(a)&&(mt.xaxes=et,mt.yaxes=nt,P(e,n,r,mt,a))}};E.init(mt);var yt,bt,xt,_t,wt,Tt,kt,At,Mt,Ct={},St=[0,0,it,ot],Et=null,Lt=z.REDRAWDELAY,Ot=e.mainplot?pt._plots[e.mainplot]:e;return B.length*V.length!=1&&(void 0!==vt.onwheel?vt.onwheel=Y:void 0!==vt.onmousewheel&&(vt.onmousewheel=Y)),vt}},{"../../components/color":34,"../../components/dragelement":55,"../../components/drawing":58,"../../constants/alignment":131,"../../lib":149,"../../lib/setcursor":167,"../../lib/svg_text_utils":169,"../../plotly":184,"../../registry":225,"../plots":218,"./axes":189,"./axis_ids":192,"./constants":194,"./scale_zoom":204,"./select":205,d3:7,tinycolor2:16}],198:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),a=t("../../components/fx"),i=t("../../components/dragelement"),o=t("./constants"),s=t("./dragbox");e.exports=function(t){var e=t._fullLayout;if((e._has("cartesian")||e._has("gl2d"))&&!t._context.staticPlot){Object.keys(e._plots||{}).sort(function(t,n){if((e._plots[t].mainplot&&!0)===(e._plots[n].mainplot&&!0)){var r=t.split("y"),a=n.split("y");return r[0]===a[0]?Number(r[1]||1)-Number(a[1]||1):Number(r[0]||1)-Number(a[0]||1)}return e._plots[t].mainplot?1:-1}).forEach(function(n){var l=e._plots[n],c=l.xaxis,u=l.yaxis,d=(c._linepositions[n]||[])[3],f=(u._linepositions[n]||[])[3],p=o.DRAGGERSIZE;if(r(d)&&"top"===c.side&&(d-=p),r(f)&&"right"!==u.side&&(f-=p),!l.mainplot){var h=s(t,l,0,0,c._length,u._length,"ns","ew");h.onmousemove=function(e){t._fullLayout._rehover=function(){t._fullLayout._hoversubplot===n&&a.hover(t,e,n)},a.hover(t,e,n),t._fullLayout._lasthover=h,t._fullLayout._hoversubplot=n},h.onmouseout=function(e){t._dragging||(t._fullLayout._hoversubplot=null,i.unhover(t,e))},h.onclick=function(e){a.click(t,e,n)},t._context.showAxisDragHandles&&(s(t,l,-p,-p,p,p,"n","w"),s(t,l,c._length,-p,p,p,"n","e"),s(t,l,-p,u._length,p,p,"s","w"),s(t,l,c._length,u._length,p,p,"s","e"))}t._context.showAxisDragHandles&&(r(d)&&("free"===c.anchor&&(d-=e._size.h*(1-u.domain[1])),s(t,l,.1*c._length,d,.8*c._length,p,"","ew"),s(t,l,0,d,.1*c._length,p,"","w"),s(t,l,.9*c._length,d,.1*c._length,p,"","e")),r(f)&&("free"===u.anchor&&(f-=e._size.w*c.domain[0]),s(t,l,f,.1*u._length,p,.8*u._length,"ns",""),s(t,l,f,.9*u._length,p,.1*u._length,"s",""),s(t,l,f,0,p,.1*u._length,"n","")))});var n=e._hoverlayer.node();n.onmousemove=function(n){n.target=e._lasthover,a.hover(t,n,e._hoversubplot)},n.onclick=function(n){n.target=e._lasthover,a.click(t,n)},n.onmousedown=function(t){e._lasthover.onmousedown(t)}}}},{"../../components/dragelement":55,"../../components/fx":75,"./constants":194,"./dragbox":197,"fast-isnumeric":10}],199:[function(t,e,n){"use strict";function r(t,e,n,r,a){var i=t._fullLayout,o=i._modules;e.plot&&e.plot.selectAll("g:not(.scatterlayer)").selectAll("g.trace").remove();for(var s=0;s<o.length;s++){var l=o[s];if("cartesian"===l.basePlotModule.name){for(var c=[],u=0;u<n.length;u++){var d=n[u],f=d[0].trace;f._module===l&&!0===f.visible&&c.push(d)}l.plot(t,e,c,r,a)}}}function a(t){for(var e=t._fullLayout,n=Object.keys(e._plots),r=[],a=[],i=0;i<n.length;i++){var o=n[i],s=e._plots[o],l=s.xaxis,c=s.yaxis,u=l._mainAxis,d=c._mainAxis,f=u._id+d._id;f!==o&&-1!==n.indexOf(f)?(s.mainplot=f,s.mainplotinfo=e._plots[f],a.push(o)):r.push(o)}return r=r.concat(a)}function i(t){var e=t.plotgroup,n=t.id,r=f.layerValue2layerClass[t.xaxis.layer],a=f.layerValue2layerClass[t.yaxis.layer];if(t.mainplot){var i=t.mainplotinfo,o=i.plotgroup,l=n+"-x",c=n+"-y";t.gridlayer=s(i.overgrid,"g",n),t.zerolinelayer=s(i.overzero,"g",n),s(i.overlinesBelow,"path",l),s(i.overlinesBelow,"path",c),s(i.overaxesBelow,"g",l),s(i.overaxesBelow,"g",c),t.plot=s(i.overplot,"g",n),s(i.overlinesAbove,"path",l),s(i.overlinesAbove,"path",c),s(i.overaxesAbove,"g",l),s(i.overaxesAbove,"g",c),t.xlines=o.select(".overlines-"+r).select("."+l),t.ylines=o.select(".overlines-"+a).select("."+c),t.xaxislayer=o.select(".overaxes-"+r).select("."+l),t.yaxislayer=o.select(".overaxes-"+a).select("."+c)}else{var u=s(e,"g","layer-subplot");t.shapelayer=s(u,"g","shapelayer"),t.imagelayer=s(u,"g","imagelayer"),t.gridlayer=s(e,"g","gridlayer"),t.overgrid=s(e,"g","overgrid"),t.zerolinelayer=s(e,"g","zerolinelayer"),t.overzero=s(e,"g","overzero"),s(e,"path","xlines-below"),s(e,"path","ylines-below"),t.overlinesBelow=s(e,"g","overlines-below"),s(e,"g","xaxislayer-below"),s(e,"g","yaxislayer-below"),t.overaxesBelow=s(e,"g","overaxes-below"),t.plot=s(e,"g","plot"),t.overplot=s(e,"g","overplot"),s(e,"path","xlines-above"),s(e,"path","ylines-above"),t.overlinesAbove=s(e,"g","overlines-above"),s(e,"g","xaxislayer-above"),s(e,"g","yaxislayer-above"),t.overaxesAbove=s(e,"g","overaxes-above"),t.xlines=e.select(".xlines-"+r),t.ylines=e.select(".ylines-"+a),t.xaxislayer=e.select(".xaxislayer-"+r),t.yaxislayer=e.select(".yaxislayer-"+a)}for(var d=0;d<f.traceLayerClasses.length;d++)s(t.plot,"g",f.traceLayerClasses[d]);t.xlines.style("fill","none").classed("crisp",!0),t.ylines.style("fill","none").classed("crisp",!0)}function o(t,e){if(t){var n={};t.each(function(t){var r=l.select(this),a="clip"+e._uid+t+"plot";r.remove(),e._draggers.selectAll("g."+t).remove(),e._defs.select("#"+a).remove(),n[t]=!0});for(var r=e._plots,a=Object.keys(r),i=0;i<a.length;i++)for(var o=r[a[i]],s=o.overlays||[],c=0;c<s.length;c++){var u=s[c];n[u.id]&&u.plot.selectAll(".trace").remove()}}}function s(t,e,n){var r=t.selectAll("."+n).data([0]);return r.enter().append(e).classed(n,!0),r}var l=t("d3"),c=t("../../lib"),u=t("../plots"),d=t("./axis_ids"),f=t("./constants");n.name="cartesian",n.attr=["xaxis","yaxis"],n.idRoot=["x","y"],n.idRegex=f.idRegex,n.attrRegex=f.attrRegex,n.attributes=t("./attributes"),n.layoutAttributes=t("./layout_attributes"),n.transitionAxes=t("./transition_axes"),n.plot=function(t,e,n,a){var i,o=t._fullLayout,s=u.getSubplotIds(o,"cartesian"),l=t.calcdata;if(!Array.isArray(e))for(e=[],i=0;i<l.length;i++)e.push(i);for(i=0;i<s.length;i++){for(var c,d=s[i],f=o._plots[d],p=[],h=0;h<l.length;h++){var g=l[h],v=g[0].trace;v.xaxis+v.yaxis===d&&((-1!==e.indexOf(v.index)||v.carpet)&&(c&&c[0].trace.xaxis+c[0].trace.yaxis===d&&-1!==["tonextx","tonexty","tonext"].indexOf(v.fill)&&-1===p.indexOf(c)&&p.push(c),p.push(g)),c=g)}r(t,f,p,n,a)}},n.clean=function(t,e,n,r){var a,i,s,l=r._modules||[],c=e._modules||[];for(s=0;s<l.length;s++)if("scatter"===l[s].name){a=!0;break}for(s=0;s<c.length;s++)if("scatter"===c[s].name){i=!0;break}if(a&&!i){var u=r._plots,f=Object.keys(u||{});for(s=0;s<f.length;s++){var p=u[f[s]];p.plot&&p.plot.select("g.scatterlayer").selectAll("g.trace").remove()}r._infolayer.selectAll("g.rangeslider-container").select("g.scatterlayer").selectAll("g.trace").remove()}var h=r._has&&r._has("cartesian"),g=e._has&&e._has("cartesian");if(h&&!g){var v=r._cartesianlayer.selectAll(".subplot"),m=d.listIds({_fullLayout:r});for(v.call(o,r),r._defs.selectAll(".axesclip").remove(),s=0;s<m.length;s++)r._infolayer.select("."+m[s]+"title").remove()}},n.drawFramework=function(t){var e=t._fullLayout,n=a(t),r=e._cartesianlayer.selectAll(".subplot").data(n,c.identity);r.enter().append("g").attr("class",function(t){return"subplot "+t}),r.order(),r.exit().call(o,e),r.each(function(t){var n=e._plots[t];n.plotgroup=l.select(this),n.overlays=[],i(n),n.mainplot&&e._plots[n.mainplot].overlays.push(n),n.draglayer=s(e._draggers,"g",t)})},n.rangePlot=function(t,e,n){i(e),r(t,e,n),u.style(t)}},{"../../lib":149,"../plots":218,"./attributes":188,"./axis_ids":192,"./constants":194,"./layout_attributes":200,"./transition_axes":210,d3:7}],200:[function(t,e,n){"use strict";var r=t("../font_attributes"),a=t("../../components/color/attributes"),i=t("../../components/drawing/attributes").dash,o=t("../../lib/extend").extendFlat,s=t("./constants");e.exports={visible:{valType:"boolean",editType:"plot"},color:{valType:"color",dflt:a.defaultLine,editType:"ticks"},title:{valType:"string",editType:"ticks"},titlefont:r({editType:"ticks"}),type:{valType:"enumerated",values:["-","linear","log","date","category"],dflt:"-",editType:"calc"},autorange:{valType:"enumerated",values:[!0,!1,"reversed"],dflt:!0,editType:"calc",impliedEdits:{"range[0]":void 0,"range[1]":void 0}},rangemode:{valType:"enumerated",values:["normal","tozero","nonnegative"],dflt:"normal",editType:"calc"},range:{valType:"info_array",items:[{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}},{valType:"any",editType:"plot",impliedEdits:{"^autorange":!1}}],editType:"plot",impliedEdits:{autorange:!1}},fixedrange:{valType:"boolean",dflt:!1,editType:"calc"},scaleanchor:{valType:"enumerated",values:[s.idRegex.x.toString(),s.idRegex.y.toString()],editType:"calc"},scaleratio:{valType:"number",min:0,dflt:1,editType:"calc"},constrain:{valType:"enumerated",values:["range","domain"],dflt:"range",editType:"calc"},constraintoward:{valType:"enumerated",values:["left","center","right","top","middle","bottom"],editType:"calc"},tickmode:{valType:"enumerated",values:["auto","linear","array"],editType:"ticks",impliedEdits:{tick0:void 0,dtick:void 0}},nticks:{valType:"integer",min:0,dflt:0,editType:"ticks"},tick0:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},dtick:{valType:"any",editType:"ticks",impliedEdits:{tickmode:"linear"}},tickvals:{valType:"data_array",editType:"ticks"},ticktext:{valType:"data_array",editType:"ticks"},ticks:{valType:"enumerated",values:["outside","inside",""],editType:"ticks"},mirror:{valType:"enumerated",values:[!0,"ticks",!1,"all","allticks"],dflt:!1,editType:"ticks+layoutstyle"},ticklen:{valType:"number",min:0,dflt:5,editType:"ticks"},tickwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},tickcolor:{valType:"color",dflt:a.defaultLine,editType:"ticks"},showticklabels:{valType:"boolean",dflt:!0,editType:"ticks"},showspikes:{valType:"boolean",dflt:!1,editType:"modebar"},spikecolor:{valType:"color",dflt:null,editType:"none"},spikethickness:{valType:"number",dflt:3,editType:"none"},spikedash:o({},i,{dflt:"dash",editType:"none"}),spikemode:{valType:"flaglist",flags:["toaxis","across","marker"],dflt:"toaxis",editType:"none"},tickfont:r({editType:"ticks"}),tickangle:{valType:"angle",dflt:"auto",editType:"ticks"},tickprefix:{valType:"string",dflt:"",editType:"ticks"},showtickprefix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},ticksuffix:{valType:"string",dflt:"",editType:"ticks"},showticksuffix:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},showexponent:{valType:"enumerated",values:["all","first","last","none"],dflt:"all",editType:"ticks"},exponentformat:{valType:"enumerated",values:["none","e","E","power","SI","B"],dflt:"B",editType:"ticks"},separatethousands:{valType:"boolean",dflt:!1,editType:"ticks"},tickformat:{valType:"string",dflt:"",editType:"ticks"},hoverformat:{valType:"string",dflt:"",editType:"none"},showline:{valType:"boolean",dflt:!1,editType:"layoutstyle"},linecolor:{valType:"color",dflt:a.defaultLine,editType:"layoutstyle"},linewidth:{valType:"number",min:0,dflt:1,editType:"ticks+layoutstyle"},showgrid:{valType:"boolean",editType:"ticks"},gridcolor:{valType:"color",dflt:a.lightLine,editType:"ticks"},gridwidth:{valType:"number",min:0,dflt:1,editType:"ticks"},zeroline:{valType:"boolean",editType:"ticks"},zerolinecolor:{valType:"color",dflt:a.defaultLine,editType:"ticks"},zerolinewidth:{valType:"number",dflt:1,editType:"ticks"},anchor:{valType:"enumerated",values:["free",s.idRegex.x.toString(),s.idRegex.y.toString()],editType:"plot"},side:{valType:"enumerated",values:["top","bottom","left","right"],editType:"plot"},overlaying:{valType:"enumerated",values:["free",s.idRegex.x.toString(),s.idRegex.y.toString()],editType:"calc"},layer:{valType:"enumerated",values:["above traces","below traces"],dflt:"above traces",editType:"plot"},domain:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"calc"},{valType:"number",min:0,max:1,editType:"calc"}],dflt:[0,1],editType:"calc"},position:{valType:"number",min:0,max:1,dflt:0,editType:"plot"},categoryorder:{valType:"enumerated",values:["trace","category ascending","category descending","array"],dflt:"trace",editType:"calc"},categoryarray:{valType:"data_array",editType:"calc"},editType:"calc",_deprecated:{autotick:{valType:"boolean",editType:"ticks"}}}},{"../../components/color/attributes":33,"../../components/drawing/attributes":57,"../../lib/extend":143,"../font_attributes":213,"./constants":194}],201:[function(t,e,n){"use strict";var r=t("../../registry"),a=t("../../lib"),i=t("../../components/color"),o=t("../layout_attributes"),s=t("./constants"),l=t("./layout_attributes"),c=t("./type_defaults"),u=t("./axis_defaults"),d=t("./constraint_defaults"),f=t("./position_defaults"),p=t("./axis_ids");e.exports=function(t,e,n){function h(t,e){return Number(t.substr(5)||1)-Number(e.substr(5)||1)}function g(t,e){return a.coerce(j,H,l,t,e)}function v(t){var e={x:P,y:I}[t];return a.simpleMap(e,p.name2id)}var m,y=Object.keys(t),b=[],x=[],_=[],w=[],T=[],k=[],A={},M={};for(m=0;m<n.length;m++){var C,S,E=n[m];if(r.traceIs(E,"cartesian"))C=b,S=x;else{if(!r.traceIs(E,"gl2d"))continue;C=_,S=w}var L=p.id2name(E.xaxis),O=p.id2name(E.yaxis);r.traceIs(E,"carpet")&&("carpet"!==E.type||E._cheater)||L&&a.pushUnique(k,L),"carpet"===E.type&&E._cheater&&L&&a.pushUnique(T,L),L&&-1===C.indexOf(L)&&C.push(L),O&&-1===S.indexOf(O)&&S.push(O),r.traceIs(E,"2dMap")&&(A[L]=!0,A[O]=!0),r.traceIs(E,"oriented")&&(M["h"===E.orientation?O:L]=!0)}if(!e._has("gl3d")&&!e._has("geo"))for(m=0;m<y.length;m++){var D=y[m];-1===_.indexOf(D)&&-1===b.indexOf(D)&&s.xAxisMatch.test(D)?b.push(D):-1===w.indexOf(D)&&-1===x.indexOf(D)&&s.yAxisMatch.test(D)&&x.push(D)}b.length&&x.length&&a.pushUnique(e._basePlotModules,r.subplotsRegistry.cartesian);var I=b.concat(_).sort(h),P=x.concat(w).sort(h),N=I.concat(P),z=i.background;I.length&&P.length&&(z=a.coerce(t,e,o,"plot_bgcolor"));var R,F,j,H,B=i.combine(z,e.paper_bgcolor),V={x:v("x"),y:v("y")};for(m=0;m<N.length;m++){R=N[m],a.isPlainObject(t[R])||(t[R]={}),j=t[R],H=e[R]={},c(j,H,g,n,R),F=R.charAt(0);var q=function(e,n){for(var r={x:I,y:P}[e],a=[],i=0;i<r.length;i++){var o=r[i];o===n||(t[o]||{}).overlaying||a.push(p.name2id(o))}return a}(F,R),$={letter:F,font:e.font,outerTicks:A[R],showGrid:!M[R],data:n,bgColor:B,calendar:e.calendar,cheateronly:"x"===F&&-1!==T.indexOf(R)&&-1===k.indexOf(R)};u(j,H,g,$,e),g("showspikes")&&(g("spikecolor"),g("spikethickness"),g("spikedash"),g("spikemode"));var U={letter:F,counterAxes:V[F],overlayableAxes:q};f(j,H,g,U),H._input=j}var W=r.getComponentMethod("rangeslider","handleDefaults"),G=r.getComponentMethod("rangeselector","handleDefaults");for(m=0;m<I.length;m++)R=I[m],j=t[R],H=e[R],W(t,e,R),"date"===H.type&&G(j,H,e,P,H.calendar),g("fixedrange");for(m=0;m<P.length;m++){R=P[m],j=t[R],H=e[R];var Y=e[p.id2name(H.anchor)];g("fixedrange",Y&&Y.rangeslider&&Y.rangeslider.visible)}e._axisConstraintGroups=[];var X=V.x.concat(V.y);for(m=0;m<N.length;m++)R=N[m],F=R.charAt(0),j=t[R],H=e[R],d(j,H,g,X,e)}},{"../../components/color":34,"../../lib":149,"../../registry":225,"../layout_attributes":216,"./axis_defaults":191,"./axis_ids":192,"./constants":194,"./constraint_defaults":195,"./layout_attributes":200,"./position_defaults":203,"./type_defaults":211}],202:[function(t,e,n){"use strict";function r(t,e,n){var r,i,o,s,l,c=[],u=n.map(function(e){return e[t]}),d=a.bisector(e).left;for(r=0;r<u.length;r++)for(o=u[r],i=0;i<o.length;i++)null!==(s=o[i])&&void 0!==s&&((l=d(c,s))<c.length&&c[l]===s||c.splice(l,0,s));return c}var a=t("d3");e.exports=function(t,e,n,i){switch(e){case"array":return Array.isArray(n)?n.slice():[];case"category ascending":return r(t,a.ascending,i);case"category descending":return r(t,a.descending,i);case"trace":default:return[]}}},{d3:7}],203:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),a=t("../../lib");e.exports=function(t,e,n,i){var o=i.counterAxes||[],s=i.overlayableAxes||[],l=i.letter;"free"===a.coerce(t,e,{anchor:{valType:"enumerated",values:["free"].concat(o),dflt:r(t.position)?"free":o[0]||"free"}},"anchor")&&n("position"),a.coerce(t,e,{side:{valType:"enumerated",values:"x"===l?["bottom","top"]:["left","right"],dflt:"x"===l?"bottom":"left"}},"side");var c=!1;if(s.length&&(c=a.coerce(t,e,{overlaying:{valType:"enumerated",values:[!1].concat(s),dflt:!1}},"overlaying")),!c){var u=n("domain");u[0]>u[1]-.01&&(e.domain=[0,1]),a.noneOrAll(t.domain,e.domain,[0,1])}return n("layer"),e}},{"../../lib":149,"fast-isnumeric":10}],204:[function(t,e,n){"use strict";var r=t("../../constants/alignment").FROM_BL;e.exports=function(t,e,n){void 0===n&&(n=r[t.constraintoward||"center"]);var a=[t.r2l(t.range[0]),t.r2l(t.range[1])],i=a[0]+(a[1]-a[0])*n;t.range=t._input.range=[t.l2r(i+(a[0]-i)*e),t.l2r(i+(a[1]-i)*e)]}},{"../../constants/alignment":131}],205:[function(t,e,n){"use strict";function r(t){return t._id}function a(t,e){if(Array.isArray(t))for(var n=e.cd[0].trace,r=0;r<t.length;r++){var a=t[r];a.curveNumber=n.index,a.data=n._input,a.fullData=n,l(a,n,a.pointNumber)}return t}var i=t("../../lib/polygon"),o=t("../../lib/throttle"),s=t("../../components/color"),l=t("../../components/fx/helpers").appendArrayPointValue,c=t("./axes"),u=t("./constants"),d=i.filter,f=i.tester,p=u.MINSELECT;e.exports=function(t,e,n,i,l){function h(t){var e="y"===t._id.charAt(0)?1:0;return function(n){return t.p2d(n[e])}}function g(t,e){return t-e}var v,m=i.gd._fullLayout._zoomlayer,y=i.element.getBoundingClientRect(),b=i.plotinfo,x=b.xaxis._offset,_=b.yaxis._offset,w=e-y.left,T=n-y.top,k=w,A=T,M="M"+w+","+T,C=i.xaxes[0]._length,S=i.yaxes[0]._length,E=i.xaxes.map(r),L=i.yaxes.map(r),O=i.xaxes.concat(i.yaxes);"lasso"===l&&(v=d([[w,T]],u.BENDPX));var D=m.selectAll("path.select-outline").data([1,2]);D.enter().append("path").attr("class",function(t){return"select-outline select-outline-"+t}).attr("transform","translate("+x+", "+_+")").attr("d",M+"Z");var I,P,N,z,R,F=m.append("path").attr("class","zoombox-corners").style({fill:s.background,stroke:s.defaultLine,"stroke-width":1}).attr("transform","translate("+x+", "+_+")").attr("d","M0,0Z"),j=[],H=i.gd,B=H._fullLayout._uid+u.SELECTID,V=[];for(I=0;I<H.calcdata.length;I++)if(P=H.calcdata[I],N=P[0].trace,!0===N.visible&&N._module&&N._module.selectPoints)if(i.subplot)N.subplot!==i.subplot&&N.geo!==i.subplot||j.push({selectPoints:N._module.selectPoints,cd:P,xaxis:i.xaxes[0],yaxis:i.yaxes[0]});else{if(-1===E.indexOf(N.xaxis))continue;if(-1===L.indexOf(N.yaxis))continue;j.push({selectPoints:N._module.selectPoints,cd:P,xaxis:c.getFromId(H,N.xaxis),yaxis:c.getFromId(H,N.yaxis)})}var q;q=b.fillRangeItems?b.fillRangeItems:"select"===l?function(t,e){var n=t.range={};for(I=0;I<O.length;I++){var r=O[I],a=r._id.charAt(0);n[r._id]=[r.p2d(e[a+"min"]),r.p2d(e[a+"max"])].sort(g)}}:function(t,e,n){var r=t.lassoPoints={};for(I=0;I<O.length;I++){var a=O[I];r[a._id]=n.filtered.map(h(a))}},i.moveFn=function(t,e){var n;k=Math.max(0,Math.min(C,t+w)),A=Math.max(0,Math.min(S,e+T));var r=Math.abs(k-w),s=Math.abs(A-T);"select"===l?(s<Math.min(.6*r,p)?(n=f([[w,0],[w,S],[k,S],[k,0]]),F.attr("d","M"+n.xmin+","+(T-p)+"h-4v"+2*p+"h4ZM"+(n.xmax-1)+","+(T-p)+"h4v"+2*p+"h-4Z")):r<Math.min(.6*s,p)?(n=f([[0,T],[0,A],[C,A],[C,T]]),F.attr("d","M"+(w-p)+","+n.ymin+"v-4h"+2*p+"v4ZM"+(w-p)+","+(n.ymax-1)+"v4h"+2*p+"v-4Z")):(n=f([[w,T],[w,A],[k,A],[k,T]]),F.attr("d","M0,0Z")),D.attr("d","M"+n.xmin+","+n.ymin+"H"+(n.xmax-1)+"V"+(n.ymax-1)+"H"+n.xmin+"Z")):"lasso"===l&&(v.addPt([k,A]),n=f(v.filtered),D.attr("d","M"+v.filtered.join("L")+"Z")),o.throttle(B,u.SELECTDELAY,function(){for(V=[],I=0;I<j.length;I++){z=j[I];var t=a(z.selectPoints(z,n),z);if(V.length)for(var e=0;e<t.length;e++)V.push(t[e]);else V=t}R={points:V},q(R,n,v),i.gd.emit("plotly_selecting",R)})},i.doneFn=function(t,e){F.remove(),o.done(B).then(function(){if(o.clear(B),t||2!==e)i.gd.emit("plotly_selected",R);else{for(D.remove(),I=0;I<j.length;I++)z=j[I],z.selectPoints(z,!1);H.emit("plotly_deselect",null)}})}}},{"../../components/color":34,"../../components/fx/helpers":72,"../../lib/polygon":160,"../../lib/throttle":170,"./axes":189,"./constants":194}],206:[function(t,e,n){"use strict";function r(t){return Math.pow(10,t)}var a=t("d3"),i=t("fast-isnumeric"),o=t("../../lib"),s=o.cleanNumber,l=o.ms2DateTime,c=o.dateTime2ms,u=o.ensureNumber,d=t("../../constants/numerical"),f=d.FP_SAFE,p=d.BADNUM,h=t("./constants"),g=t("./axis_ids");e.exports=function(t,e){function n(e,n){if(e>0)return Math.log(e)/Math.LN10;if(e<=0&&n&&t.range&&2===t.range.length){var r=t.range[0],a=t.range[1];return.5*(r+a-3*T*Math.abs(r-a))}return p}function d(e,n,r){var a=c(e,r||t.calendar);if(a===p){if(!i(e))return p;a=c(new Date(+e))}return a}function v(e,n,r){return l(e,n,r||t.calendar)}function m(e){return t._categories[Math.round(e)]}function y(e){if(null!==e&&void 0!==e){if(void 0===t._categoriesMap&&(t._categoriesMap={}),void 0!==t._categoriesMap[e])return t._categoriesMap[e];t._categories.push(e);var n=t._categories.length-1;return t._categoriesMap[e]=n,n}return p}function b(e){if(t._categoriesMap){var n=t._categoriesMap[e];if(void 0!==n)return n}if(i(e))return+e}function x(e){return i(e)?a.round(t._b+t._m*e,2):p}function _(e){return(e-t._b)/t._m}e=e||{};var w=(t._id||"x").charAt(0),T=10;t.c2l="log"===t.type?n:u,t.l2c="log"===t.type?r:u,t.l2p=x,t.p2l=_,t.c2p="log"===t.type?function(t,e){return x(n(t,e))}:x,t.p2c="log"===t.type?function(t){return r(_(t))}:_,-1!==["linear","-"].indexOf(t.type)?(t.d2r=t.r2d=t.d2c=t.r2c=t.d2l=t.r2l=s,t.c2d=t.c2r=t.l2d=t.l2r=u,t.d2p=t.r2p=function(e){return t.l2p(s(e))},t.p2d=t.p2r=_,t.cleanPos=u):"log"===t.type?(t.d2r=t.d2l=function(t,e){return n(s(t),e)},t.r2d=t.r2c=function(t){return r(s(t))},t.d2c=t.r2l=s,t.c2d=t.l2r=u,t.c2r=n,t.l2d=r,t.d2p=function(e,n){return t.l2p(t.d2r(e,n))},t.p2d=function(t){return r(_(t))},t.r2p=function(e){return t.l2p(s(e))},t.p2r=_,t.cleanPos=u):"date"===t.type?(t.d2r=t.r2d=o.identity,t.d2c=t.r2c=t.d2l=t.r2l=d,t.c2d=t.c2r=t.l2d=t.l2r=v,t.d2p=t.r2p=function(e,n,r){return t.l2p(d(e,0,r))},t.p2d=t.p2r=function(t,e,n){return v(_(t),e,n)},t.cleanPos=function(e){return o.cleanDate(e,p,t.calendar)}):"category"===t.type&&(t.d2c=t.d2l=y,t.r2d=t.c2d=t.l2d=m,t.d2r=t.d2l_noadd=b,t.r2c=function(e){var n=b(e);return void 0!==n?n:t.fraction2r(.5)},t.l2r=t.c2r=u,t.r2l=b,t.d2p=function(e){return t.l2p(t.r2c(e))},t.p2d=function(t){return m(_(t))},t.r2p=t.d2p,t.p2r=_,t.cleanPos=function(t){return"string"==typeof t&&""!==t?t:u(t)}),t.fraction2r=function(e){var n=t.r2l(t.range[0]),r=t.r2l(t.range[1]);return t.l2r(n+e*(r-n))},t.r2fraction=function(e){var n=t.r2l(t.range[0]),r=t.r2l(t.range[1]);return(t.r2l(e)-n)/(r-n)},t.cleanRange=function(e){e||(e="range");var n,r,a=o.nestedProperty(t,e).get();if(r="date"===t.type?o.dfltRange(t.calendar):"y"===w?h.DFLTRANGEY:h.DFLTRANGEX,r=r.slice(),!a||2!==a.length)return void o.nestedProperty(t,e).set(r);for("date"===t.type&&(a[0]=o.cleanDate(a[0],p,t.calendar),a[1]=o.cleanDate(a[1],p,t.calendar)),n=0;n<2;n++)if("date"===t.type){if(!o.isDateTime(a[n],t.calendar)){t[e]=r;break}if(t.r2l(a[0])===t.r2l(a[1])){var s=o.constrain(t.r2l(a[0]),o.MIN_MS+1e3,o.MAX_MS-1e3);a[0]=t.l2r(s-1e3),a[1]=t.l2r(s+1e3);break}}else{if(!i(a[n])){if(!i(a[1-n])){t[e]=r;break}a[n]=a[1-n]*(n?10:.1)}if(a[n]<-f?a[n]=-f:a[n]>f&&(a[n]=f),a[0]===a[1]){var l=Math.max(1,Math.abs(1e-6*a[0]));a[0]-=l,a[1]+=l}}},t.setScale=function(n){var r=e._size;if(t._categories||(t._categories=[]),t._categoriesMap||(t._categoriesMap={}),t.overlaying){var a=g.getFromId({_fullLayout:e},t.overlaying);t.domain=a.domain}var i=n&&t._r?"_r":"range",s=t.calendar;t.cleanRange(i);var l=t.r2l(t[i][0],s),c=t.r2l(t[i][1],s)
;if("y"===w?(t._offset=r.t+(1-t.domain[1])*r.h,t._length=r.h*(t.domain[1]-t.domain[0]),t._m=t._length/(l-c),t._b=-t._m*c):(t._offset=r.l+t.domain[0]*r.w,t._length=r.w*(t.domain[1]-t.domain[0]),t._m=t._length/(c-l),t._b=-t._m*l),!isFinite(t._m)||!isFinite(t._b))throw o.notifier("Something went wrong with axis scaling","long"),e._replotting=!1,new Error("axis scaling")},t.makeCalcdata=function(e,n){var r,a,i,o="date"===t.type&&e[n+"calendar"];if(n in e)for(r=e[n],a=new Array(r.length),i=0;i<r.length;i++)a[i]=t.d2c(r[i],0,o);else{var s=n+"0"in e?t.d2c(e[n+"0"],0,o):0,l=e["d"+n]?Number(e["d"+n]):1;for(r=e[{x:"y",y:"x"}[n]],a=new Array(r.length),i=0;i<r.length;i++)a[i]=s+i*l}return a},t.isValidRange=function(e){return Array.isArray(e)&&2===e.length&&i(t.r2l(e[0]))&&i(t.r2l(e[1]))},t.isPtWithinRange="x"===w?function(e){var n=e.x;return n>=t.range[0]&&n<=t.range[1]}:function(e){var n=e.y;return n>=t.range[0]&&n<=t.range[1]},t._min=[],t._max=[],t._separators=e.separators,delete t._minDtick,delete t._forceTick0}},{"../../constants/numerical":133,"../../lib":149,"./axis_ids":192,"./constants":194,d3:7,"fast-isnumeric":10}],207:[function(t,e,n){"use strict";function r(t){var e=["showexponent","showtickprefix","showticksuffix"],n=e.filter(function(e){return void 0!==t[e]}),r=function(e){return t[e]===t[n[0]]};if(n.every(r)||1===n.length)return t[n[0]]}var a=t("../../lib");e.exports=function(t,e,n,i,o){var s=r(t);if(n("tickprefix")&&n("showtickprefix",s),n("ticksuffix")&&n("showticksuffix",s),n("showticklabels")){var l=o.font||{},c=e.color===t.color?e.color:l.color;a.coerceFont(n,"tickfont",{family:l.family,size:l.size,color:c}),n("tickangle"),"category"!==i&&(n("tickformat")||"date"===i||(n("showexponent",s),n("exponentformat"),n("separatethousands")))}"category"===i||o.noHover||n("hoverformat")}},{"../../lib":149}],208:[function(t,e,n){"use strict";var r=t("../../lib"),a=t("./layout_attributes");e.exports=function(t,e,n,i){var o=r.coerce2(t,e,a,"ticklen"),s=r.coerce2(t,e,a,"tickwidth"),l=r.coerce2(t,e,a,"tickcolor",e.color);n("ticks",i.outerTicks||o||s||l?"outside":"")||(delete e.ticklen,delete e.tickwidth,delete e.tickcolor)}},{"../../lib":149,"./layout_attributes":200}],209:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),a=t("../../lib"),i=t("../../constants/numerical").ONEDAY;e.exports=function(t,e,n,o){var s="auto";"array"!==t.tickmode||"log"!==o&&"date"!==o||(t.tickmode="auto"),Array.isArray(t.tickvals)?s="array":t.dtick&&(s="linear");var l=n("tickmode",s);if("auto"===l)n("nticks");else if("linear"===l){var c="date"===o?i:1,u=n("dtick",c);if(r(u))e.dtick=u>0?Number(u):c;else if("string"!=typeof u)e.dtick=c;else{var d=u.charAt(0),f=u.substr(1);((f=r(f)?Number(f):0)<=0||!("date"===o&&"M"===d&&f===Math.round(f)||"log"===o&&"L"===d||"log"===o&&"D"===d&&(1===f||2===f)))&&(e.dtick=c)}var p="date"===o?a.dateTick0(e.calendar):0,h=n("tick0",p);"date"===o?e.tick0=a.cleanDate(h,p):r(h)&&"D1"!==u&&"D2"!==u?e.tick0=Number(h):e.tick0=p}else{var g=n("tickvals");void 0===g?e.tickmode="auto":n("ticktext")}}},{"../../constants/numerical":133,"../../lib":149,"fast-isnumeric":10}],210:[function(t,e,n){"use strict";var r=t("d3"),a=t("../../plotly"),i=t("../../registry"),o=t("../../components/drawing"),s=t("./axes"),l=t("./constants").attrRegex;e.exports=function(t,e,n,c){function u(e,n){function r(e,n,r){for(a=0;a<e.length;a++){var i=e[a];if(-1===o.indexOf(i.xref)&&-1===o.indexOf(i.yref)||n(t,a),r)return}}var a,o=[];for(o=[e._id,n._id],a=0;a<o.length;a++)s.doTicks(t,o[a],!0);r(v.annotations||[],i.getComponentMethod("annotations","drawOne")),r(v.shapes||[],i.getComponentMethod("shapes","drawOne")),r(v.images||[],i.getComponentMethod("images","draw"),!0)}function d(t){var e=t.xaxis,n=t.yaxis;v._defs.select("#"+t.clipId+"> rect").call(o.setTranslate,0,0).call(o.setScale,1,1),t.plot.call(o.setTranslate,e._offset,n._offset).call(o.setScale,1,1);var r=t.plot.select(".scatterlayer").selectAll(".points");r.selectAll(".point").call(o.setPointGroupScale,1,1).call(o.hideOutsideRangePoints,t),r.selectAll(".textpoint").call(o.setTextPointsScale,1,1).call(o.hideOutsideRangePoints,t)}function f(e,n){var r,a,i,s=y[e.xaxis._id],l=y[e.yaxis._id],c=[];if(s){r=t._fullLayout[s.axisName],a=r._r,i=s.to,c[0]=(a[0]*(1-n)+n*i[0]-a[0])/(a[1]-a[0])*e.xaxis._length;var d=a[1]-a[0],f=i[1]-i[0];r.range[0]=a[0]*(1-n)+n*i[0],r.range[1]=a[1]*(1-n)+n*i[1],c[2]=e.xaxis._length*(1-n+n*f/d)}else c[0]=0,c[2]=e.xaxis._length;if(l){r=t._fullLayout[l.axisName],a=r._r,i=l.to,c[1]=(a[1]*(1-n)+n*i[1]-a[1])/(a[0]-a[1])*e.yaxis._length;var p=a[1]-a[0],h=i[1]-i[0];r.range[0]=a[0]*(1-n)+n*i[0],r.range[1]=a[1]*(1-n)+n*i[1],c[3]=e.yaxis._length*(1-n+n*h/p)}else c[1]=0,c[3]=e.yaxis._length;u(e.xaxis,e.yaxis);var g=e.xaxis,m=e.yaxis,b=!!s,x=!!l,_=b?g._length/c[2]:1,w=x?m._length/c[3]:1,T=b?c[0]:0,k=x?c[1]:0,A=b?c[0]/c[2]*g._length:0,M=x?c[1]/c[3]*m._length:0,C=g._offset-A,S=m._offset-M;v._defs.select("#"+e.clipId+"> rect").call(o.setTranslate,T,k).call(o.setScale,1/_,1/w),e.plot.call(o.setTranslate,C,S).call(o.setScale,_,w).selectAll(".points").selectAll(".point").call(o.setPointGroupScale,1/_,1/w),e.plot.selectAll(".points").selectAll(".textpoint").call(o.setTextPointsScale,1/_,1/w)}function p(){for(var e={},n=0;n<b.length;n++){var r=t._fullLayout[y[b[n]].axisName],i=y[b[n]].to;e[r._name+".range[0]"]=i[0],e[r._name+".range[1]"]=i[1],r.range=i.slice()}return _&&_(),a.relayout(t,e).then(function(){for(var t=0;t<x.length;t++)d(x[t])})}function h(){for(var e={},n=0;n<b.length;n++){var r=t._fullLayout[b[n]+"axis"];e[r._name+".range[0]"]=r.range[0],e[r._name+".range[1]"]=r.range[1],r.range=r._r.slice()}return a.relayout(t,e).then(function(){for(var t=0;t<x.length;t++)d(x[t])})}function g(){T=Date.now();for(var t=Math.min(1,(T-w)/n.duration),e=A(t),r=0;r<x.length;r++)f(x[r],e);T-w>n.duration?(p(),k=window.cancelAnimationFrame(g)):k=window.requestAnimationFrame(g)}var v=t._fullLayout,m=[],y=function(t){var e,n,r,a,i={};for(e in t)if(n=e.split("."),n[0].match(l)){var o=e.charAt(0),s=n[0];if(r=v[s],a={},Array.isArray(t[e])?a.to=t[e].slice(0):Array.isArray(t[e].range)&&(a.to=t[e].range.slice(0)),!a.to)continue;a.axisName=s,a.length=r._length,m.push(o),i[o]=a}return i}(e),b=Object.keys(y),x=function(t,e,n){var r,a,i,o=t._plots,s=[];for(r in o){var l=o[r];if(-1===s.indexOf(l)){var c=l.xaxis._id,u=l.yaxis._id,d=l.xaxis.range,f=l.yaxis.range;l.xaxis._r=l.xaxis.range.slice(),l.yaxis._r=l.yaxis.range.slice(),a=n[c]?n[c].to:d,i=n[u]?n[u].to:f,d[0]===a[0]&&d[1]===a[1]&&f[0]===i[0]&&f[1]===i[1]||-1===e.indexOf(c)&&-1===e.indexOf(u)||s.push(l)}}return s}(v,b,y);if(!x.length)return function(){function e(e,n,r){for(var a=0;a<e.length;a++)if(n(t,a),r)return}e(v.annotations||[],i.getComponentMethod("annotations","drawOne")),e(v.shapes||[],i.getComponentMethod("shapes","drawOne")),e(v.images||[],i.getComponentMethod("images","draw"),!0)}(),!1;var _;c&&(_=c());var w,T,k,A=r.ease(n.easing);return t._transitionData._interruptCallbacks.push(function(){return window.cancelAnimationFrame(k),k=null,h()}),w=Date.now(),k=window.requestAnimationFrame(g),Promise.resolve()}},{"../../components/drawing":58,"../../plotly":184,"../../registry":225,"./axes":189,"./constants":194,d3:7}],211:[function(t,e,n){"use strict";function r(t,e){if("-"===t.type){var n=t._id,r=n.charAt(0);-1!==n.indexOf("scene")&&(n=r);var c=a(e,n,r);if(c){if("histogram"===c.type&&r==={v:"y",h:"x"}[c.orientation||"v"])return void(t.type="linear");var u=r+"calendar",d=c[u];if(o(c,r)){for(var f,p=i(c),h=[],g=0;g<e.length;g++)f=e[g],s.traceIs(f,"box")&&(f[r+"axis"]||r)===n&&(void 0!==f[p]?h.push(f[p][0]):void 0!==f.name?h.push(f.name):h.push("text"),f[u]!==d&&(d=void 0));t.type=l(h,d)}else t.type=l(c[r]||[c[r+"0"]],d)}}}function a(t,e,n){for(var r=0;r<t.length;r++){var a=t[r];if((a[n+"axis"]||n)===e){if(o(a,n))return a;if((a[n]||[]).length||a[n+"0"])return a}}}function i(t){return{v:"x",h:"y"}[t.orientation||"v"]}function o(t,e){var n=i(t),r=s.traceIs(t,"box"),a=s.traceIs(t._fullInput||{},"candlestick");return r&&!a&&e===n&&void 0===t[n]&&void 0===t[n+"0"]}var s=t("../../registry"),l=t("./axis_autotype"),c=t("./axis_ids").name2id;e.exports=function(t,e,n,a,i){i&&(e._name=i,e._id=c(i)),"-"===n("type")&&(r(e,a),"-"===e.type?e.type="linear":t.type=e.type)}},{"../../registry":225,"./axis_autotype":190,"./axis_ids":192}],212:[function(t,e,n){"use strict";function r(t,e,n){var r,a,i,o=!1;if("data"===e.type)r=t._fullData[null!==e.traces?e.traces[0]:0];else{if("layout"!==e.type)return!1;r=t._fullLayout}return a=c.nestedProperty(r,e.prop).get(),i=n[e.type]=n[e.type]||{},i.hasOwnProperty(e.prop)&&i[e.prop]!==a&&(o=!0),i[e.prop]=a,{changed:o,value:a}}function a(t,e){return Array.isArray(e[0])&&1===e[0].length&&-1!==["string","number"].indexOf(typeof e[0][0])?[{type:"layout",prop:"_currentFrame",value:e[0][0].toString()}]:[]}function i(t,e){var n=[],r=e[0],a={};if("string"==typeof r)a[r]=e[1];else{if(!c.isPlainObject(r))return n;a=r}return s(a,function(t,e,r){n.push({type:"layout",prop:t,value:r})},"",0),n}function o(t,e){var n,r,a,i,o=[];if(r=e[0],a=e[1],n=e[2],i={},"string"==typeof r)i[r]=a;else{if(!c.isPlainObject(r))return o;i=r,void 0===n&&(n=a)}return void 0===n&&(n=null),s(i,function(e,r,a){var i;if(Array.isArray(a)){var s=Math.min(a.length,t.data.length);n&&(s=Math.min(s,n.length)),i=[];for(var l=0;l<s;l++)i[l]=n?n[l]:l}else i=n?n.slice(0):null;if(null===i)Array.isArray(a)&&(a=a[0]);else if(Array.isArray(i)){if(!Array.isArray(a)){var c=a;a=[];for(var u=0;u<i.length;u++)a[u]=c}a.length=Math.min(i.length,a.length)}o.push({type:"data",prop:e,traces:i,value:a})},"",0),o}function s(t,e,n,r){Object.keys(t).forEach(function(a){var i=t[a];if("_"!==a[0]){var o=n+(r>0?".":"")+a;c.isPlainObject(i)?s(i,e,o,r+1):e(o,a,i)}})}var l=t("../plotly"),c=t("../lib");n.manageCommandObserver=function(t,e,a,i){var o={},s=!0;e&&e._commandObserver&&(o=e._commandObserver),o.cache||(o.cache={}),o.lookupTable={};var l=n.hasSimpleAPICommandBindings(t,a,o.lookupTable);if(e&&e._commandObserver){if(l)return o;if(e._commandObserver.remove)return e._commandObserver.remove(),e._commandObserver=null,o}if(l){r(t,l,o.cache),o.check=function(){if(s){var e=r(t,l,o.cache);return e.changed&&i&&void 0!==o.lookupTable[e.value]&&(o.disable(),Promise.resolve(i({value:e.value,type:l.type,prop:l.prop,traces:l.traces,index:o.lookupTable[e.value]})).then(o.enable,o.enable)),e.changed}};for(var u=["plotly_relayout","plotly_redraw","plotly_restyle","plotly_update","plotly_animatingframe","plotly_afterplot"],d=0;d<u.length;d++)t._internalOn(u[d],o.check);o.remove=function(){for(var e=0;e<u.length;e++)t._removeInternalListener(u[e],o.check)}}else c.warn("Unable to automatically bind plot updates to API command"),o.lookupTable={},o.remove=function(){};return o.disable=function(){s=!1},o.enable=function(){s=!0},e&&(e._commandObserver=o),o},n.hasSimpleAPICommandBindings=function(t,e,r){var a,i,o=e.length;for(a=0;a<o;a++){var s,l=e[a],c=l.method,u=l.args;if(Array.isArray(u)||(u=[]),!c)return!1;var d=n.computeAPICommandBindings(t,c,u);if(1!==d.length)return!1;if(i){if(s=d[0],s.type!==i.type)return!1;if(s.prop!==i.prop)return!1;if(Array.isArray(i.traces)){if(!Array.isArray(s.traces))return!1;s.traces.sort();for(var f=0;f<i.traces.length;f++)if(i.traces[f]!==s.traces[f])return!1}else if(s.prop!==i.prop)return!1}else i=d[0],Array.isArray(i.traces)&&i.traces.sort();s=d[0];var p=s.value;if(Array.isArray(p)){if(1!==p.length)return!1;p=p[0]}r&&(r[p]=a)}return i},n.executeAPICommand=function(t,e,n){if("skip"===e)return Promise.resolve();var r=l[e],a=[t];Array.isArray(n)||(n=[]);for(var i=0;i<n.length;i++)a.push(n[i]);return r.apply(null,a).catch(function(t){return c.warn("API call to Plotly."+e+" rejected.",t),Promise.reject(t)})},n.computeAPICommandBindings=function(t,e,n){var r;switch(Array.isArray(n)||(n=[]),e){case"restyle":r=o(t,n);break;case"relayout":r=i(t,n);break;case"update":r=o(t,[n[0],n[2]]).concat(i(t,[n[1]]));break;case"animate":r=a(t,n);break;default:r=[]}return r}},{"../lib":149,"../plotly":184}],213:[function(t,e,n){"use strict";e.exports=function(t){var e=t.editType,n=t.colorEditType;void 0===n&&(n=e);var r={family:{valType:"string",noBlank:!0,strict:!0,editType:e},size:{valType:"number",min:1,editType:e},color:{valType:"color",editType:n},editType:e};return t.arrayOk&&(r.family.arrayOk=!0,r.size.arrayOk=!0,r.color.arrayOk=!0),r}},{}],214:[function(t,e,n){"use strict";e.exports={_isLinkedToArray:"frames_entry",group:{valType:"string"},name:{valType:"string"},traces:{valType:"any"},baseframe:{valType:"string"},data:{valType:"any"},layout:{valType:"any"}}},{}],215:[function(t,e,n){"use strict";function r(t,e){var n,r,a=[0,0,0,0];for(n=0;n<4;++n)for(r=0;r<4;++r)a[r]+=t[4*n+r]*e[n];return a}function a(t,e){return r(t.projection,r(t.view,r(t.model,[e[0],e[1],e[2],1])))}e.exports=a},{}],216:[function(t,e,n){"use strict";var r=t("./font_attributes"),a=t("../components/color/attributes"),i=r({editType:"calc"});i.family.dflt='"Open Sans", verdana, arial, sans-serif',i.size.dflt=12,i.color.dflt=a.defaultLine,e.exports={font:i,title:{valType:"string",dflt:"Click to enter Plot title",editType:"layoutstyle"},titlefont:r({editType:"layoutstyle"}),autosize:{valType:"boolean",dflt:!1,editType:"none"},width:{valType:"number",min:10,dflt:700,editType:"none"},height:{valType:"number",min:10,dflt:450,editType:"none"},margin:{l:{valType:"number",min:0,dflt:80,editType:"calc"},r:{valType:"number",min:0,dflt:80,editType:"calc"},t:{valType:"number",min:0,dflt:100,editType:"calc"},b:{valType:"number",min:0,dflt:80,editType:"calc"},pad:{valType:"number",min:0,dflt:0,editType:"calc"},autoexpand:{valType:"boolean",dflt:!0,editType:"calc"},editType:"calc"},paper_bgcolor:{valType:"color",dflt:a.background,editType:"plot"},plot_bgcolor:{valType:"color",dflt:a.background,editType:"layoutstyle"},separators:{valType:"string",dflt:".,",editType:"plot"},hidesources:{valType:"boolean",dflt:!1,editType:"plot"},smith:{valType:"enumerated",values:[!1],dflt:!1,editType:"none"},showlegend:{valType:"boolean",editType:"legend"}}},{"../components/color/attributes":33,"./font_attributes":213}],217:[function(t,e,n){"use strict";e.exports={t:{valType:"number",dflt:0,editType:"arraydraw"},r:{valType:"number",dflt:0,editType:"arraydraw"},b:{valType:"number",dflt:0,editType:"arraydraw"},l:{valType:"number",dflt:0,editType:"arraydraw"},editType:"arraydraw"}},{}],218:[function(t,e,n){"use strict";function r(t,e){e.text("");var n=e.append("a").attr({"xlink:xlink:href":"#",class:"link--impt link--embedview","font-weight":"bold"}).text(t._context.linkText+" "+String.fromCharCode(187));if(t._context.sendData)n.on("click",function(){v.sendDataToCloud(t)});else{var r=window.location.pathname.split("/"),a=window.location.search;n.attr({"xlink:xlink:show":"new","xlink:xlink:href":"/"+r[2].split(".")[0]+"/"+r[1]+a})}}function a(t,e){var n,r,a=t.trace,i=a._arrayAttrs,o={};for(n=0;n<i.length;n++)r=i[n],o[r]=p.nestedProperty(a,r).get().slice();for(t.trace=e,n=0;n<i.length;n++)r=i[n],p.nestedProperty(t.trace,r).set(o[r])}function i(t,e,n,r){for(var a=t.transforms,i=[t],o=0;o<a.length;o++){var s=a[o],l=_[s.type];l&&l.transform&&(i=l.transform(i,{transform:s,fullTrace:t,fullData:e,layout:n,fullLayout:r,transformIndex:o}))}return i}function o(t){var e,n={left:0,right:0,bottom:0,top:0};if(t)for(e in t)t.hasOwnProperty(e)&&(n.left+=t[e].left||0,n.right+=t[e].right||0,n.bottom+=t[e].bottom||0,n.top+=t[e].top||0);return n}function s(t){for(var e=0;e<t.length;e++){t[e]._categories=t[e]._initialCategories.slice(),t[e]._categoriesMap={};for(var n=0;n<t[e]._categories.length;n++)t[e]._categoriesMap[t[e]._categories[n]]=n}}var l=t("d3"),c=t("fast-isnumeric"),u=t("../plotly"),d=t("../plot_api/plot_schema"),f=t("../registry"),p=t("../lib"),h=t("../components/color"),g=t("../constants/numerical").BADNUM,v=e.exports={},m=t("./animation_attributes"),y=t("./frame_attributes"),b=p.relinkPrivateKeys;p.extendFlat(v,f),v.attributes=t("./attributes"),v.attributes.type.values=v.allTypes,v.fontAttrs=t("./font_attributes"),v.layoutAttributes=t("./layout_attributes"),v.fontWeight="normal";var x=v.subplotsRegistry,_=v.transformsRegistry,w=t("../components/errorbars"),T=t("./command");v.executeAPICommand=T.executeAPICommand,v.computeAPICommandBindings=T.computeAPICommandBindings,v.manageCommandObserver=T.manageCommandObserver,v.hasSimpleAPICommandBindings=T.hasSimpleAPICommandBindings,v.findSubplotIds=function(t,e){var n=[];if(!v.subplotsRegistry[e])return n;for(var r=v.subplotsRegistry[e].attr,a=0;a<t.length;a++){var i=t[a];v.traceIs(i,e)&&-1===n.indexOf(i[r])&&n.push(i[r])}return n},v.getSubplotIds=function(t,e){var n=v.subplotsRegistry[e];if(!n)return[];if(!("cartesian"!==e||t._has&&t._has("cartesian")))return[];if(!("gl2d"!==e||t._has&&t._has("gl2d")))return[];if("cartesian"===e||"gl2d"===e)return Object.keys(t._plots||{});for(var r=n.attrRegex,a=Object.keys(t),i=[],o=0;o<a.length;o++){var s=a[o];r.test(s)&&i.push(s)}var l=n.idRoot.length;return i.sort(function(t,e){return+(t.substr(l)||1)-+(e.substr(l)||1)}),i},v.getSubplotData=function(t,e,n){if(!v.subplotsRegistry[e])return[];for(var r,a=v.subplotsRegistry[e].attr,i=[],o=0;o<t.length;o++)if(r=t[o],"gl2d"===e&&v.traceIs(r,"gl2d")){var s=u.Axes.subplotMatch,l="x"+n.match(s)[1],c="y"+n.match(s)[2];r[a[0]]===l&&r[a[1]]===c&&i.push(r)}else r[a]===n&&i.push(r);return i},v.getSubplotCalcData=function(t,e,n){if(!v.subplotsRegistry[e])return[];for(var r=v.subplotsRegistry[e].attr,a=[],i=0;i<t.length;i++){var o=t[i];o[0].trace[r]===n&&a.push(o)}return a},v.redrawText=function(t){if(!(t.data&&t.data[0]&&t.data[0].r))return new Promise(function(e){setTimeout(function(){f.getComponentMethod("annotations","draw")(t),f.getComponentMethod("legend","draw")(t),(t.calcdata||[]).forEach(function(t){t[0]&&t[0].t&&t[0].t.cb&&t[0].t.cb()}),e(v.previousPromises(t))},300)})},v.resize=function(t){return new Promise(function(e,n){t&&!function(t){var e=window.getComputedStyle(t).display;return!e||"none"===e}(t)||n(new Error("Resize must be passed a displayed plot div element.")),t._redrawTimer&&clearTimeout(t._redrawTimer),t._redrawTimer=setTimeout(function(){if(t.layout.width&&t.layout.height)return void e(t);delete t.layout.width,delete t.layout.height;var n=t.changed;t.autoplay=!0,u.relayout(t,{autosize:!0}).then(function(){t.changed=n,e(t)})},100)})},v.previousPromises=function(t){if((t._promises||[]).length)return Promise.all(t._promises).then(function(){t._promises=[]})},v.addLinks=function(t){if(t._context.showLink||t._context.showSources){var e=t._fullLayout,n=e._paper.selectAll("text.js-plot-link-container").data([0]);n.enter().append("text").classed("js-plot-link-container",!0).style({"font-family":'"Open Sans", Arial, sans-serif',"font-size":"12px",fill:h.defaultLine,"pointer-events":"all"}).each(function(){var t=l.select(this);t.append("tspan").classed("js-link-to-tool",!0),t.append("tspan").classed("js-link-spacer",!0),t.append("tspan").classed("js-sourcelinks",!0)});var a=n.node(),i={y:e._paper.attr("height")-9};document.body.contains(a)&&a.getComputedTextLength()>=e.width-20?(i["text-anchor"]="start",i.x=5):(i["text-anchor"]="end",i.x=e._paper.attr("width")-7),n.attr(i);var o=n.select(".js-link-to-tool"),s=n.select(".js-link-spacer"),c=n.select(".js-sourcelinks");t._context.showSources&&t._context.showSources(t),t._context.showLink&&r(t,o),s.text(o.text()&&c.text()?" - ":"")}},v.sendDataToCloud=function(t){t.emit("plotly_beforeexport");var e=window.PLOTLYENV&&window.PLOTLYENV.BASE_URL||"https://plot.ly",n=l.select(t).append("div").attr("id","hiddenform").style("display","none"),r=n.append("form").attr({action:e+"/external",method:"post",target:"_blank"});return r.append("input").attr({type:"text",name:"data"}).node().value=v.graphJson(t,!1,"keepdata"),r.node().submit(),n.remove(),t.emit("plotly_afterexport"),!1},v.supplyDefaults=function(t){var e,n=t._fullLayout||{},r=t._fullLayout={},i=t.layout||{},o=t._fullData||[],s=t._fullData=[],l=t.data||[];if(t._transitionData||v.createTransitionData(t),n._initialAutoSizeIsDone){var c=n.width,d=n.height;v.supplyLayoutGlobalDefaults(i,r),i.width||(r.width=c),i.height||(r.height=d)}else{v.supplyLayoutGlobalDefaults(i,r);var f=!i.width||!i.height,p=r.autosize,h=t._context&&t._context.autosizable;f&&(p||h)?v.plotAutoSize(t,i,r):f&&v.sanitizeMargins(t),!p&&f&&(i.width=r.width,i.height=r.height)}r._initialAutoSizeIsDone=!0,r._dataLength=l.length,r._globalTransforms=(t._context||{}).globalTransforms,v.supplyDataDefaults(l,s,i,r),r._has=v._hasPlotType.bind(r);var g=r._modules;for(e=0;e<g.length;e++){var m=g[e];m.cleanData&&m.cleanData(s)}if(o.length===l.length)for(e=0;e<s.length;e++)b(s[e],o[e]);v.supplyLayoutModuleDefaults(i,r,s,t._transitionData),r._hasCartesian=r._has("cartesian"),r._hasGeo=r._has("geo"),r._hasGL3D=r._has("gl3d"),r._hasGL2D=r._has("gl2d"),r._hasTernary=r._has("ternary"),r._hasPie=r._has("pie"),v.cleanPlot(s,r,o,n),v.linkSubplots(s,r,o,n),b(r,n),v.doAutoMargin(t);var y=u.Axes.list(t);for(e=0;e<y.length;e++)y[e].setScale();if((t.calcdata||[]).length===s.length)for(e=0;e<s.length;e++){var x=s[e],_=t.calcdata[e][0];_&&_.trace&&(_.trace._hasCalcTransform?a(_,x):_.trace=x)}},v.createTransitionData=function(t){t._transitionData||(t._transitionData={}),t._transitionData._frames||(t._transitionData._frames=[]),t._transitionData._frameHash||(t._transitionData._frameHash={}),t._transitionData._counter||(t._transitionData._counter=0),t._transitionData._interruptCallbacks||(t._transitionData._interruptCallbacks=[])},v._hasPlotType=function(t){for(var e=this._basePlotModules||[],n=0;n<e.length;n++)if(e[n].name===t)return!0;return!1},v.cleanPlot=function(t,e,n,r){var a,i,o=r._basePlotModules||[];for(a=0;a<o.length;a++){var s=o[a];s.clean&&s.clean(t,e,n,r)}var l=!!r._paper,c=!!r._infolayer;t:for(a=0;a<n.length;a++){var u=n[a],d=u.uid;for(i=0;i<t.length;i++){var f=t[i];if(d===f.uid)continue t}var p=".hm"+d+",.contour"+d+",.carpet"+d+",#clip"+d+",.trace"+d;l&&r._paper.selectAll(p).remove(),c&&(r._infolayer.selectAll(".cb"+d).remove(),r._infolayer.selectAll("g.rangeslider-container").selectAll(p).remove())}r._zoomlayer&&r._zoomlayer.selectAll(".select-outline").remove()},v.linkSubplots=function(t,e,n,r){var a,i=r._plots||{},o=e._plots={},s={_fullData:t,_fullLayout:e},l=u.Axes.getSubplots(s);for(a=0;a<l.length;a++){var c,d=l[a],f=i[d],p=u.Axes.getFromId(s,d,"x"),h=u.Axes.getFromId(s,d,"y");f?(c=o[d]=f,c._scene2d&&c._scene2d.updateRefs(e),c.xaxis.layer!==p.layer&&(c.xlines.attr("d",null),c.xaxislayer.selectAll("*").remove()),c.yaxis.layer!==h.layer&&(c.ylines.attr("d",null),c.yaxislayer.selectAll("*").remove())):(c=o[d]={},c.id=d),c.xaxis=p,c.yaxis=h,c._hasClipOnAxisFalse=!1;for(var g=0;g<t.length;g++){var v=t[g];if(v.xaxis===c.xaxis._id&&v.yaxis===c.yaxis._id&&!1===v.cliponaxis){c._hasClipOnAxisFalse=!0;break}}}var m=u.Axes.list(s,null,!0);for(a=0;a<m.length;a++){var y=m[a],b=null;y.overlaying&&(b=u.Axes.getFromId(s,y.overlaying))&&b.overlaying&&(y.overlaying=!1,b=null),y._mainAxis=b||y,b&&(y.domain=b.domain.slice()),y._anchorAxis="free"===y.anchor?null:u.Axes.getFromId(s,y.anchor)}},v.clearExpandedTraceDefaultColors=function(t){function e(t,e,a,i){r[i]=e,r.length=i+1,"color"===t.valType&&void 0===t.dflt&&n.push(r.join("."))}var n,r,a;for(r=[],n=t._module._colorAttrs,n||(t._module._colorAttrs=n=[],d.crawl(t._module.attributes,e)),a=0;a<n.length;a++)p.nestedProperty(t,"_input."+n[a]).get()||p.nestedProperty(t,n[a]).set(null)},v.supplyDataDefaults=function(t,e,n,r){function a(t){e.push(t);var n=t._module;n&&(p.pushUnique(c,n),p.pushUnique(u,t._module.basePlotModule),d++)}var o,s,l,c=r._modules=[],u=r._basePlotModules=[],d=0;r._transformModules=[];var h={},g=[];for(o=0;o<t.length;o++){if(l=t[o],s=v.supplyTraceDefaults(l,d,r,o),s.index=o,s._input=l,s._expandedIndex=d,s.transforms&&s.transforms.length)for(var m=i(s,e,n,r),y=0;y<m.length;y++){var x=m[y],_=v.supplyTraceDefaults(x,d,r,o);b(_,x),x.uid=_.uid=s.uid+y,_.index=o,_._input=l,_._fullInput=s,_._expandedIndex=d,_._expandedInput=x,a(_)}else s._fullInput=s,s._expandedInput=s,a(s);f.traceIs(s,"carpetAxis")&&(h[s.carpet]=s),f.traceIs(s,"carpetDependent")&&g.push(o)}for(o=0;o<g.length;o++)if(s=e[g[o]],s.visible){var w=h[s.carpet];s._carpet=w,w&&w.visible?(s.xaxis=w.xaxis,s.yaxis=w.yaxis):s.visible=!1}},v.supplyAnimationDefaults=function(t){function e(e,n){return p.coerce(t||{},r,m,e,n)}t=t||{};var n,r={};if(e("mode"),e("direction"),e("fromcurrent"),Array.isArray(t.frame))for(r.frame=[],n=0;n<t.frame.length;n++)r.frame[n]=v.supplyAnimationFrameDefaults(t.frame[n]||{});else r.frame=v.supplyAnimationFrameDefaults(t.frame||{});if(Array.isArray(t.transition))for(r.transition=[],n=0;n<t.transition.length;n++)r.transition[n]=v.supplyAnimationTransitionDefaults(t.transition[n]||{});else r.transition=v.supplyAnimationTransitionDefaults(t.transition||{});return r},v.supplyAnimationFrameDefaults=function(t){function e(e,r){return p.coerce(t||{},n,m.frame,e,r)}var n={};return e("duration"),e("redraw"),n},v.supplyAnimationTransitionDefaults=function(t){function e(e,r){return p.coerce(t||{},n,m.transition,e,r)}var n={};return e("duration"),e("easing"),n},v.supplyFrameDefaults=function(t){function e(e,r){return p.coerce(t,n,y,e,r)}var n={};return e("group"),e("name"),e("traces"),e("baseframe"),e("data"),e("layout"),n},v.supplyTraceDefaults=function(t,e,n,r){function a(e,n){return p.coerce(t,o,v.attributes,e,n)}function i(e,n){if(v.traceIs(o,e))return p.coerce(t,o,v.subplotsRegistry[e].attributes,n)}var o={},s=h.defaults[e%h.defaults.length],l=a("visible");a("type"),a("uid"),a("name","trace "+r);for(var c=Object.keys(x),u=0;u<c.length;u++){var d=c[u];if(-1===["cartesian","gl2d"].indexOf(d)){var g=x[d].attr;g&&i(d,g)}}if(l){a("customdata"),a("ids");var m=v.getModule(o);o._module=m,v.traceIs(o,"showLegend")&&(a("showlegend"),a("legendgroup")),f.getComponentMethod("fx","supplyDefaults")(t,o,s,n),m&&(m.supplyDefaults(t,o,s,n),p.coerceHoverinfo(t,o,n)),v.traceIs(o,"noOpacity")||a("opacity"),i("cartesian","xaxis"),i("cartesian","yaxis"),i("gl2d","xaxis"),i("gl2d","yaxis"),v.traceIs(o,"notLegendIsolatable")&&(o.visible=!!o.visible),v.supplyTransformDefaults(t,o,n)}return o},v.supplyTransformDefaults=function(t,e,n){var r=n._globalTransforms||[],a=n._transformModules||[];if(Array.isArray(t.transforms)||0!==r.length)for(var i=t.transforms||[],o=r.concat(i),s=e.transforms=[],l=0;l<o.length;l++){var c,u=o[l],d=u.type,f=_[d],h=!(u._module&&u._module===f),g=f&&"function"==typeof f.transform;f||p.warn("Unrecognized transform type "+d+"."),f&&f.supplyDefaults&&(h||g)?(c=f.supplyDefaults(u,e,n,t),c.type=d,c._module=f,p.pushUnique(a,f)):c=p.extendFlat({},u),s.push(c)}},v.supplyLayoutGlobalDefaults=function(t,e){function n(n,r){return p.coerce(t,e,v.layoutAttributes,n,r)}var r=p.coerceFont(n,"font");n("title"),p.coerceFont(n,"titlefont",{family:r.family,size:Math.round(1.4*r.size),color:r.color}),n("autosize",!(t.width&&t.height)),n("width"),n("height"),n("margin.l"),n("margin.r"),n("margin.t"),n("margin.b"),n("margin.pad"),n("margin.autoexpand"),t.width&&t.height&&v.sanitizeMargins(e),n("paper_bgcolor"),n("separators"),n("hidesources"),n("smith"),f.getComponentMethod("calendars","handleDefaults")(t,e,"calendar"),f.getComponentMethod("fx","supplyLayoutGlobalDefaults")(t,e,n)},v.plotAutoSize=function(t,e,n){var r,a,i=t._context||{},s=i.frameMargins,l=p.isPlotDiv(t);if(l&&t.emit("plotly_autosize"),i.fillFrame)r=window.innerWidth,a=window.innerHeight,document.body.style.overflow="hidden";else if(c(s)&&s>0){var u=o(t._boundingBoxMargins),d=u.left+u.right,f=u.bottom+u.top,h=1-2*s,g=n._container&&n._container.node?n._container.node().getBoundingClientRect():{width:n.width,height:n.height};r=Math.round(h*(g.width-d)),a=Math.round(h*(g.height-f))}else{var m=l?window.getComputedStyle(t):{};r=parseFloat(m.width)||n.width,a=parseFloat(m.height)||n.height}var y=v.layoutAttributes.width.min,b=v.layoutAttributes.height.min;r<y&&(r=y),a<b&&(a=b);var x=!e.width&&Math.abs(n.width-r)>1,_=!e.height&&Math.abs(n.height-a)>1;(_||x)&&(x&&(n.width=r),_&&(n.height=a)),t._initialAutoSize||(t._initialAutoSize={width:r,height:a}),v.sanitizeMargins(n)},v.supplyLayoutModuleDefaults=function(t,e,n,r){var a,i;u.Axes.supplyLayoutDefaults(t,e,n);var o=e._basePlotModules;for(a=0;a<o.length;a++)i=o[a],"cartesian"!==i.name&&i.supplyLayoutDefaults&&i.supplyLayoutDefaults(t,e,n);var s=e._modules;for(a=0;a<s.length;a++)i=s[a],i.supplyLayoutDefaults&&i.supplyLayoutDefaults(t,e,n);var l=e._transformModules;for(a=0;a<l.length;a++)i=l[a],i.supplyLayoutDefaults&&i.supplyLayoutDefaults(t,e,n,r);var c=Object.keys(f.componentsRegistry);for(a=0;a<c.length;a++)i=f.componentsRegistry[c[a]],i.supplyLayoutDefaults&&i.supplyLayoutDefaults(t,e,n)},v.purge=function(t){var e=t._fullLayout||{};void 0!==e._glcontainer&&e._glcontainer.remove(),void 0!==e._geocontainer&&e._geocontainer.remove(),e._modeBar&&e._modeBar.destroy(),t._transitionData&&(t._transitionData._interruptCallbacks&&(t._transitionData._interruptCallbacks.length=0),t._transitionData._animationRaf&&window.cancelAnimationFrame(t._transitionData._animationRaf)),delete t.data,delete t.layout,delete t._fullData,delete t._fullLayout,delete t.calcdata,delete t.framework,delete t.empty,delete t.fid,delete t.undoqueue,delete t.undonum,delete t.autoplay,delete t.changed,delete t._promises,delete t._redrawTimer,delete t.firstscatter,delete t._hmlumcount,delete t._hmpixcount,delete t.numboxes,delete t._transitionData,delete t._transitioning,delete t._initialAutoSize,delete t._transitioningWithDuration,delete t._dragging,delete t._dragged,delete t._hoverdata,delete t._snapshotInProgress,delete t._editing,delete t._replotPending,delete t._mouseDownTime,delete t._legendMouseDownTime,t.removeAllListeners&&t.removeAllListeners()},v.style=function(t){for(var e=t._fullLayout._modules,n=0;n<e.length;n++){var r=e[n];r.style&&r.style(t)}},v.sanitizeMargins=function(t){if(t&&t.margin){var e,n=t.width,r=t.height,a=t.margin,i=n-(a.l+a.r),o=r-(a.t+a.b);i<0&&(e=(n-1)/(a.l+a.r),a.l=Math.floor(e*a.l),a.r=Math.floor(e*a.r)),o<0&&(e=(r-1)/(a.t+a.b),a.t=Math.floor(e*a.t),a.b=Math.floor(e*a.b))}},v.autoMargin=function(t,e,n){var r=t._fullLayout;if(r._pushmargin||(r._pushmargin={}),!1!==r.margin.autoexpand){if(n){var a=void 0===n.pad?12:n.pad;n.l+n.r>.5*r.width&&(n.l=n.r=0),n.b+n.t>.5*r.height&&(n.b=n.t=0),r._pushmargin[e]={l:{val:n.x,size:n.l+a},r:{val:n.x,size:n.r+a},b:{val:n.y,size:n.b+a},t:{val:n.y,size:n.t+a}}}else delete r._pushmargin[e];r._replotting||v.doAutoMargin(t)}},v.doAutoMargin=function(t){var e=t._fullLayout;e._size||(e._size={}),e._pushmargin||(e._pushmargin={});var n=e._size,r=JSON.stringify(n),a=Math.max(e.margin.l||0,0),i=Math.max(e.margin.r||0,0),o=Math.max(e.margin.t||0,0),s=Math.max(e.margin.b||0,0),l=e._pushmargin;if(!1!==e.margin.autoexpand){l.base={l:{val:0,size:a},r:{val:1,size:i},t:{val:1,size:o},b:{val:0,size:s}};for(var d=Object.keys(l),f=0;f<d.length;f++)for(var p=d[f],h=l[p].l||{},g=l[p].b||{},v=h.val,m=h.size,y=g.val,b=g.size,x=0;x<d.length;x++){var _=d[x];if(c(m)&&l[_].r){var w=l[_].r.val,T=l[_].r.size;if(w>v){var k=(m*w+(T-e.width)*v)/(w-v),A=(T*(1-v)+(m-e.width)*(1-w))/(w-v);k>=0&&A>=0&&k+A>a+i&&(a=k,i=A)}}if(c(b)&&l[_].t){var M=l[_].t.val,C=l[_].t.size;if(M>y){var S=(b*M+(C-e.height)*y)/(M-y),E=(C*(1-y)+(b-e.height)*(1-M))/(M-y);S>=0&&E>=0&&S+E>s+o&&(s=S,o=E)}}}}if(n.l=Math.round(a),n.r=Math.round(i),n.t=Math.round(o),n.b=Math.round(s),n.p=Math.round(e.margin.pad),n.w=Math.round(e.width)-n.l-n.r,n.h=Math.round(e.height)-n.t-n.b,!e._replotting&&"{}"!==r&&r!==JSON.stringify(e._size))return u.plot(t)},v.graphJson=function(t,e,n,r,a){function i(t){if("function"==typeof t)return null;if(p.isPlainObject(t)){var e,r,a={};for(e in t)if("function"!=typeof t[e]&&-1===["_","["].indexOf(e.charAt(0))){if("keepdata"===n){if("src"===e.substr(e.length-3))continue}else if("keepstream"===n){if("string"==typeof(r=t[e+"src"])&&r.indexOf(":")>0&&!p.isPlainObject(t.stream))continue
}else if("keepall"!==n&&"string"==typeof(r=t[e+"src"])&&r.indexOf(":")>0)continue;a[e]=i(t[e])}return a}return Array.isArray(t)?t.map(i):p.isJSDate(t)?p.ms2DateTimeLocal(+t):t}(a&&e&&!t._fullData||a&&!e&&!t._fullLayout)&&v.supplyDefaults(t);var o=a?t._fullData:t.data,s=a?t._fullLayout:t.layout,l=(t._transitionData||{})._frames,c={data:(o||[]).map(function(t){var n=i(t);return e&&delete n.fit,n})};return e||(c.layout=i(s)),t.framework&&t.framework.isPolar&&(c=t.framework.getConfig()),l&&(c.frames=i(l)),"object"===r?c:JSON.stringify(c)},v.modifyFrames=function(t,e){var n,r,a,i=t._transitionData._frames,o=t._transitionData._frameHash;for(n=0;n<e.length;n++)switch(r=e[n],r.type){case"replace":a=r.value;var s=(i[r.index]||{}).name,l=a.name;i[r.index]=o[l]=a,l!==s&&(delete o[s],o[l]=a);break;case"insert":a=r.value,o[a.name]=a,i.splice(r.index,0,a);break;case"delete":a=i[r.index],delete o[a.name],i.splice(r.index,1)}return Promise.resolve()},v.computeFrame=function(t,e){var n,r,a,i,o=t._transitionData._frameHash;if(!e)throw new Error("computeFrame must be given a string frame name");var s=o[e.toString()];if(!s)return!1;for(var l=[s],c=[s.name];s.baseframe&&(s=o[s.baseframe.toString()])&&-1===c.indexOf(s.name);)l.push(s),c.push(s.name);for(var u={};s=l.pop();)if(s.layout&&(u.layout=v.extendLayout(u.layout,s.layout)),s.data){if(u.data||(u.data=[]),!(r=s.traces))for(r=[],n=0;n<s.data.length;n++)r[n]=n;for(u.traces||(u.traces=[]),n=0;n<s.data.length;n++)void 0!==(a=r[n])&&null!==a&&(i=u.traces.indexOf(a),-1===i&&(i=u.data.length,u.traces[i]=a),u.data[i]=v.extendTrace(u.data[i],s.data[n]))}return u},v.recomputeFrameHash=function(t){for(var e=t._transitionData._frameHash={},n=t._transitionData._frames,r=0;r<n.length;r++){var a=n[r];a&&a.name&&(e[a.name]=a)}},v.extendObjectWithContainers=function(t,e,n){var r,a,i,o,s,l,c,u,d=p.extendDeepNoArrays({},e||{}),f=p.expandObjectPaths(d),h={};if(n&&n.length)for(i=0;i<n.length;i++)r=p.nestedProperty(f,n[i]),a=r.get(),void 0===a?p.nestedProperty(h,n[i]).set(null):(r.set(null),p.nestedProperty(h,n[i]).set(a));if(t=p.extendDeepNoArrays(t||{},f),n&&n.length)for(i=0;i<n.length;i++)if(s=p.nestedProperty(h,n[i]),c=s.get()){for(l=p.nestedProperty(t,n[i]),u=l.get(),Array.isArray(u)||(u=[],l.set(u)),o=0;o<c.length;o++){var g=c[o];u[o]=null===g?null:v.extendObjectWithContainers(u[o],g)}l.set(u)}return t},v.dataArrayContainers=["transforms"],v.layoutArrayContainers=f.layoutArrayContainers,v.extendTrace=function(t,e){return v.extendObjectWithContainers(t,e,v.dataArrayContainers)},v.extendLayout=function(t,e){return v.extendObjectWithContainers(t,e,v.layoutArrayContainers)},v.transition=function(t,e,n,r,a,i){function o(){var r;for(r=0;r<y.length;r++){var a=y[r],i=t._fullData[a],o=i._module;o&&(o.animatable&&b.push(a),t.data[y[r]]=v.extendTrace(t.data[y[r]],e[r]))}var s=p.expandObjectPaths(p.extendDeepNoArrays({},n)),l=/^[xy]axis[0-9]*$/;for(var c in s)l.test(c)&&delete s[c].range;return v.extendLayout(t.layout,s),delete t.calcdata,v.supplyDefaults(t),v.doCalcdata(t),w.calc(t),Promise.resolve()}function s(t){var e=Promise.resolve();if(!t)return e;for(;t.length;)e=e.then(t.shift());return e}function l(t){if(t)for(;t.length;)t.shift()}function c(){return t.emit("plotly_transitioning",[]),new Promise(function(e){function r(){return l++,function(){c++,x||c!==l||d(e)}}t._transitioning=!0,i.duration>0&&(t._transitioningWithDuration=!0),t._transitionData._interruptCallbacks.push(function(){x=!0}),a.redraw&&t._transitionData._interruptCallbacks.push(function(){return u.redraw(t)}),t._transitionData._interruptCallbacks.push(function(){t.emit("plotly_transitioninterrupted",[])});var o,s,l=0,c=0,f=t._fullLayout._basePlotModules,h=!1;if(n)for(s=0;s<f.length;s++)if(f[s].transitionAxes){var g=p.expandObjectPaths(n);h=f[s].transitionAxes(t,g,i,r)||h}for(h?(o=p.extendFlat({},i),o.duration=0):o=i,s=0;s<f.length;s++)f[s].plot(t,b,o,r);setTimeout(r())})}function d(e){if(t._transitionData)return l(t._transitionData._interruptCallbacks),Promise.resolve().then(function(){if(a.redraw)return u.redraw(t)}).then(function(){t._transitioning=!1,t._transitioningWithDuration=!1,t.emit("plotly_transitioned",[])}).then(e)}function f(){if(t._transitionData)return t._transitioning=!1,s(t._transitionData._interruptCallbacks)}var h,g,m=Array.isArray(e)?e.length:0,y=r.slice(0,m),b=[],x=!1;for(h=0;h<y.length;h++){g=y[h];var _=t._fullData[g],T=_._module;if(T&&!T.animatable){var k={};for(var A in e[h])k[A]=[e[h][A]]}}var M=[v.previousPromises,f,o,v.rehover,c],C=p.syncOrAsync(M,t);return C&&C.then||(C=Promise.resolve()),C.then(function(){return t})},v.doCalcdata=function(t,e){var n,r,a,i,o=u.Axes.list(t),l=t._fullData,c=t._fullLayout,p=new Array(l.length),h=(t.calcdata||[]).slice(0);for(t.calcdata=p,t.firstscatter=!0,t.numboxes=0,t._hmpixcount=0,t._hmlumcount=0,c._piecolormap={},c._piedefaultcolorcount=0,a=0;a<l.length;a++)Array.isArray(e)&&-1===e.indexOf(a)&&(p[a]=h[a]);for(a=0;a<l.length;a++)n=l[a],n._arrayAttrs=d.findArrayAttributes(n);s(o);var v=!1;for(a=0;a<l.length;a++)if(n=l[a],!0===n.visible&&n.transforms)for(r=n._module,r&&r.calc&&r.calc(t,n),i=0;i<n.transforms.length;i++){var m=n.transforms[i];(r=_[m.type])&&r.calcTransform&&(n._hasCalcTransform=!0,v=!0,r.calcTransform(t,n,m))}if(v){for(a=0;a<o.length;a++)o[a]._min=[],o[a]._max=[],o[a]._categories=[],o[a]._categoriesMap={};s(o)}for(a=0;a<l.length;a++){var y=[];n=l[a],!0===n.visible&&(r=n._module)&&r.calc&&(y=r.calc(t,n)),Array.isArray(y)&&y[0]||(y=[{x:g,y:g}]),y[0].t||(y[0].t={}),y[0].trace=n,p[a]=y}f.getComponentMethod("fx","calc")(t)},v.rehover=function(t){t._fullLayout._rehover&&t._fullLayout._rehover()},v.generalUpdatePerTraceModule=function(t,e,n){var r,a=t.traceHash,i={};for(r=0;r<e.length;r++){var o=e[r],s=o[0].trace;s.visible&&(i[s.type]=i[s.type]||[],i[s.type].push(o))}var l=Object.keys(a),c=Object.keys(i);for(r=0;r<l.length;r++){var u=l[r];if(-1===c.indexOf(u)){var d=a[u][0];d[0].trace.visible=!1,i[u]=[d]}}for(c=Object.keys(i),r=0;r<c.length;r++){var f=i[c[r]];f[0][0].trace._module.plot(t,function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];!0===r[0].trace.visible&&e.push(r)}return e}(f),n)}t.traceHash=i}},{"../components/color":34,"../components/errorbars":64,"../constants/numerical":133,"../lib":149,"../plot_api/plot_schema":178,"../plotly":184,"../registry":225,"./animation_attributes":185,"./attributes":187,"./command":212,"./font_attributes":213,"./frame_attributes":214,"./layout_attributes":216,d3:7,"fast-isnumeric":10}],219:[function(t,e,n){"use strict";var r=t("../../traces/scatter/attributes"),a=r.marker;e.exports={r:r.r,t:r.t,marker:{color:a.color,size:a.size,symbol:a.symbol,opacity:a.opacity,editType:"calc"}}},{"../../traces/scatter/attributes":260}],220:[function(t,e,n){"use strict";function r(t,e){return i({},e,{showline:{valType:"boolean"},showticklabels:{valType:"boolean"},tickorientation:{valType:"enumerated",values:["horizontal","vertical"]},ticklen:{valType:"number",min:0},tickcolor:{valType:"color"},ticksuffix:{valType:"string"},endpadding:{valType:"number"},visible:{valType:"boolean"}})}var a=t("../cartesian/layout_attributes"),i=t("../../lib/extend").extendFlat,o=t("../../plot_api/edit_types").overrideAll,s=i({},a.domain,{});e.exports=o({radialaxis:r("radial",{range:{valType:"info_array",items:[{valType:"number"},{valType:"number"}]},domain:s,orientation:{valType:"number"}}),angularaxis:r("angular",{range:{valType:"info_array",items:[{valType:"number",dflt:0},{valType:"number",dflt:360}]},domain:s}),layout:{direction:{valType:"enumerated",values:["clockwise","counterclockwise"]},orientation:{valType:"angle"}}},"plot","nested")},{"../../lib/extend":143,"../../plot_api/edit_types":173,"../cartesian/layout_attributes":200}],221:[function(t,e,n){"use strict";(e.exports=t("./micropolar")).manager=t("./micropolar_manager")},{"./micropolar":222,"./micropolar_manager":223}],222:[function(t,e,n){var r=t("d3"),a=t("../../lib"),i=a.extendDeepAll,o=t("../../constants/alignment").MID_SHIFT,s=e.exports={version:"0.2.2"};s.Axis=function(){function t(t){n=t||n;var u=c.data,f=c.layout;return("string"==typeof n||n.nodeName)&&(n=r.select(n)),n.datum(u).each(function(t,n){function c(t,e){return l(t)%360+f.orientation}var u=t.slice();d={data:s.util.cloneJson(u),layout:s.util.cloneJson(f)};var p=0;u.forEach(function(t,e){t.color||(t.color=f.defaultColorRange[p],p=(p+1)%f.defaultColorRange.length),t.strokeColor||(t.strokeColor="LinePlot"===t.geometry?t.color:r.rgb(t.color).darker().toString()),d.data[e].color=t.color,d.data[e].strokeColor=t.strokeColor,d.data[e].strokeDash=t.strokeDash,d.data[e].strokeSize=t.strokeSize});var h=u.filter(function(t,e){var n=t.visible;return void 0===n||!0===n}),g=!1,v=h.map(function(t,e){return g=g||void 0!==t.groupId,t});if(g){var m=r.nest().key(function(t,e){return void 0!==t.groupId?t.groupId:"unstacked"}).entries(v),y=[],b=m.map(function(t,e){if("unstacked"===t.key)return t.values;var n=t.values[0].r.map(function(t,e){return 0});return t.values.forEach(function(t,e,r){t.yStack=[n],y.push(n),n=s.util.sumArrays(t.r,n)}),t.values});h=r.merge(b)}h.forEach(function(t,e){t.t=Array.isArray(t.t[0])?t.t:[t.t],t.r=Array.isArray(t.r[0])?t.r:[t.r]});var x=Math.min(f.width-f.margin.left-f.margin.right,f.height-f.margin.top-f.margin.bottom)/2;x=Math.max(10,x);var _,w=[f.margin.left+x,f.margin.top+x];_=g?[0,r.max(s.util.sumArrays(s.util.arrayLast(h).r[0],s.util.arrayLast(y)))]:r.extent(s.util.flattenArray(h.map(function(t,e){return t.r}))),f.radialAxis.domain!=s.DATAEXTENT&&(_[0]=0),a=r.scale.linear().domain(f.radialAxis.domain!=s.DATAEXTENT&&f.radialAxis.domain?f.radialAxis.domain:_).range([0,x]),d.layout.radialAxis.domain=a.domain();var T,k=s.util.flattenArray(h.map(function(t,e){return t.t})),A="string"==typeof k[0];A&&(k=s.util.deduplicate(k),T=k.slice(),k=r.range(k.length),h=h.map(function(t,e){var n=t;return t.t=[k],g&&(n.yStack=t.yStack),n}));var M=h.filter(function(t,e){return"LinePlot"===t.geometry||"DotPlot"===t.geometry}).length===h.length,C=null===f.needsEndSpacing?A||!M:f.needsEndSpacing,S=f.angularAxis.domain&&f.angularAxis.domain!=s.DATAEXTENT&&!A&&f.angularAxis.domain[0]>=0,E=S?f.angularAxis.domain:r.extent(k),L=Math.abs(k[1]-k[0]);M&&!A&&(L=0);var O=E.slice();C&&A&&(O[1]+=L);var D=f.angularAxis.ticksCount||4;D>8&&(D=D/(D/8)+D%8),f.angularAxis.ticksStep&&(D=(O[1]-O[0])/D);var I=f.angularAxis.ticksStep||(O[1]-O[0])/(D*(f.minorTicks+1));T&&(I=Math.max(Math.round(I),1)),O[2]||(O[2]=I);var P=r.range.apply(this,O);if(P=P.map(function(t,e){return parseFloat(t.toPrecision(12))}),l=r.scale.linear().domain(O.slice(0,2)).range("clockwise"===f.direction?[0,360]:[360,0]),d.layout.angularAxis.domain=l.domain(),d.layout.angularAxis.endPadding=C?L:0,void 0===(e=r.select(this).select("svg.chart-root"))||e.empty()){var N=(new DOMParser).parseFromString("<svg xmlns='http://www.w3.org/2000/svg' class='chart-root'>' + '<g class='outer-group'>' + '<g class='chart-group'>' + '<circle class='background-circle'></circle>' + '<g class='geometry-group'></g>' + '<g class='radial axis-group'>' + '<circle class='outside-circle'></circle>' + '</g>' + '<g class='angular axis-group'></g>' + '<g class='guides-group'><line></line><circle r='0'></circle></g>' + '</g>' + '<g class='legend-group'></g>' + '<g class='tooltips-group'></g>' + '<g class='title-group'><text></text></g>' + '</g>' + '</svg>","application/xml"),z=this.appendChild(this.ownerDocument.importNode(N.documentElement,!0));e=r.select(z)}e.select(".guides-group").style({"pointer-events":"none"}),e.select(".angular.axis-group").style({"pointer-events":"none"}),e.select(".radial.axis-group").style({"pointer-events":"none"});var R,F=e.select(".chart-group"),j={fill:"none",stroke:f.tickColor},H={"font-size":f.font.size,"font-family":f.font.family,fill:f.font.color,"text-shadow":["-1px 0px","1px -1px","-1px 1px","1px 1px"].map(function(t,e){return" "+t+" 0 "+f.font.outlineColor}).join(",")};if(f.showLegend){R=e.select(".legend-group").attr({transform:"translate("+[x,f.margin.top]+")"}).style({display:"block"});var B=h.map(function(t,e){var n=s.util.cloneJson(t);return n.symbol="DotPlot"===t.geometry?t.dotType||"circle":"LinePlot"!=t.geometry?"square":"line",n.visibleInLegend=void 0===t.visibleInLegend||t.visibleInLegend,n.color="LinePlot"===t.geometry?t.strokeColor:t.color,n});s.Legend().config({data:h.map(function(t,e){return t.name||"Element"+e}),legendConfig:i({},s.Legend.defaultConfig().legendConfig,{container:R,elements:B,reverseOrder:f.legend.reverseOrder})})();var V=R.node().getBBox();x=Math.min(f.width-V.width-f.margin.left-f.margin.right,f.height-f.margin.top-f.margin.bottom)/2,x=Math.max(10,x),w=[f.margin.left+x,f.margin.top+x],a.range([0,x]),d.layout.radialAxis.domain=a.domain(),R.attr("transform","translate("+[w[0]+x,w[1]-x]+")")}else R=e.select(".legend-group").style({display:"none"});e.attr({width:f.width,height:f.height}).style({opacity:f.opacity}),F.attr("transform","translate("+w+")").style({cursor:"crosshair"});var q=[(f.width-(f.margin.left+f.margin.right+2*x+(V?V.width:0)))/2,(f.height-(f.margin.top+f.margin.bottom+2*x))/2];if(q[0]=Math.max(0,q[0]),q[1]=Math.max(0,q[1]),e.select(".outer-group").attr("transform","translate("+q+")"),f.title){var $=e.select("g.title-group text").style(H).text(f.title),U=$.node().getBBox();$.attr({x:w[0]-U.width/2,y:w[1]-x-20})}var W=e.select(".radial.axis-group");if(f.radialAxis.gridLinesVisible){var G=W.selectAll("circle.grid-circle").data(a.ticks(5));G.enter().append("circle").attr({class:"grid-circle"}).style(j),G.attr("r",a),G.exit().remove()}W.select("circle.outside-circle").attr({r:x}).style(j);var Y=e.select("circle.background-circle").attr({r:x}).style({fill:f.backgroundColor,stroke:f.stroke});if(f.radialAxis.visible){var X=r.svg.axis().scale(a).ticks(5).tickSize(5);W.call(X).attr({transform:"rotate("+f.radialAxis.orientation+")"}),W.selectAll(".domain").style(j),W.selectAll("g>text").text(function(t,e){return this.textContent+f.radialAxis.ticksSuffix}).style(H).style({"text-anchor":"start"}).attr({x:0,y:0,dx:0,dy:0,transform:function(t,e){return"horizontal"===f.radialAxis.tickOrientation?"rotate("+-f.radialAxis.orientation+") translate("+[0,H["font-size"]]+")":"translate("+[0,H["font-size"]]+")"}}),W.selectAll("g>line").style({stroke:"black"})}var Z=e.select(".angular.axis-group").selectAll("g.angular-tick").data(P),Q=Z.enter().append("g").classed("angular-tick",!0);Z.attr({transform:function(t,e){return"rotate("+c(t,e)+")"}}).style({display:f.angularAxis.visible?"block":"none"}),Z.exit().remove(),Q.append("line").classed("grid-line",!0).classed("major",function(t,e){return e%(f.minorTicks+1)==0}).classed("minor",function(t,e){return!(e%(f.minorTicks+1)==0)}).style(j),Q.selectAll(".minor").style({stroke:f.minorTickColor}),Z.select("line.grid-line").attr({x1:f.tickLength?x-f.tickLength:0,x2:x}).style({display:f.angularAxis.gridLinesVisible?"block":"none"}),Q.append("text").classed("axis-text",!0).style(H);var K=Z.select("text.axis-text").attr({x:x+f.labelOffset,dy:o+"em",transform:function(t,e){var n=c(t,e),r=x+f.labelOffset,a=f.angularAxis.tickOrientation;return"horizontal"==a?"rotate("+-n+" "+r+" 0)":"radial"==a?n<270&&n>90?"rotate(180 "+r+" 0)":null:"rotate("+(n<=180&&n>0?-90:90)+" "+r+" 0)"}}).style({"text-anchor":"middle",display:f.angularAxis.labelsVisible?"block":"none"}).text(function(t,e){return e%(f.minorTicks+1)!=0?"":T?T[t]+f.angularAxis.ticksSuffix:t+f.angularAxis.ticksSuffix}).style(H);f.angularAxis.rewriteTicks&&K.text(function(t,e){return e%(f.minorTicks+1)!=0?"":f.angularAxis.rewriteTicks(this.textContent,e)});var J=r.max(F.selectAll(".angular-tick text")[0].map(function(t,e){return t.getCTM().e+t.getBBox().width}));R.attr({transform:"translate("+[x+J,f.margin.top]+")"});var tt=e.select("g.geometry-group").selectAll("g").size()>0,et=e.select("g.geometry-group").selectAll("g.geometry").data(h);if(et.enter().append("g").attr({class:function(t,e){return"geometry geometry"+e}}),et.exit().remove(),h[0]||tt){var nt=[];h.forEach(function(t,e){var n={};n.radialScale=a,n.angularScale=l,n.container=et.filter(function(t,n){return n==e}),n.geometry=t.geometry,n.orientation=f.orientation,n.direction=f.direction,n.index=e,nt.push({data:t,geometryConfig:n})});var rt=r.nest().key(function(t,e){return void 0!==t.data.groupId||"unstacked"}).entries(nt),at=[];rt.forEach(function(t,e){"unstacked"===t.key?at=at.concat(t.values.map(function(t,e){return[t]})):at.push(t.values)}),at.forEach(function(t,e){var n;n=Array.isArray(t)?t[0].geometryConfig.geometry:t.geometryConfig.geometry;var r=t.map(function(t,e){return i(s[n].defaultConfig(),t)});s[n]().config(r)()})}var it,ot,st=e.select(".guides-group"),lt=e.select(".tooltips-group"),ct=s.tooltipPanel().config({container:lt,fontSize:8})(),ut=s.tooltipPanel().config({container:lt,fontSize:8})(),dt=s.tooltipPanel().config({container:lt,hasTick:!0})();if(!A){var ft=st.select("line").attr({x1:0,y1:0,y2:0}).style({stroke:"grey","pointer-events":"none"});F.on("mousemove.angular-guide",function(t,e){var n=s.util.getMousePos(Y).angle;ft.attr({x2:-x,transform:"rotate("+n+")"}).style({opacity:.5});var r=(n+180+360-f.orientation)%360;it=l.invert(r);var a=s.util.convertToCartesian(x+12,n+180);ct.text(s.util.round(it)).move([a[0]+w[0],a[1]+w[1]])}).on("mouseout.angular-guide",function(t,e){st.select("line").style({opacity:0})})}var pt=st.select("circle").style({stroke:"grey",fill:"none"});F.on("mousemove.radial-guide",function(t,e){var n=s.util.getMousePos(Y).radius;pt.attr({r:n}).style({opacity:.5}),ot=a.invert(s.util.getMousePos(Y).radius);var r=s.util.convertToCartesian(n,f.radialAxis.orientation);ut.text(s.util.round(ot)).move([r[0]+w[0],r[1]+w[1]])}).on("mouseout.radial-guide",function(t,e){pt.style({opacity:0}),dt.hide(),ct.hide(),ut.hide()}),e.selectAll(".geometry-group .mark").on("mouseover.tooltip",function(t,n){var a=r.select(this),i=this.style.fill,o="black",l=this.style.opacity||1;if(a.attr({"data-opacity":l}),i&&"none"!==i){a.attr({"data-fill":i}),o=r.hsl(i).darker().toString(),a.style({fill:o,opacity:1});var c={t:s.util.round(t[0]),r:s.util.round(t[1])};A&&(c.t=T[t[0]]);var u="t: "+c.t+", r: "+c.r,d=this.getBoundingClientRect(),f=e.node().getBoundingClientRect(),p=[d.left+d.width/2-q[0]-f.left,d.top+d.height/2-q[1]-f.top];dt.config({color:o}).text(u),dt.move(p)}else i=this.style.stroke||"black",a.attr({"data-stroke":i}),o=r.hsl(i).darker().toString(),a.style({stroke:o,opacity:1})}).on("mousemove.tooltip",function(t,e){if(0!=r.event.which)return!1;r.select(this).attr("data-fill")&&dt.show()}).on("mouseout.tooltip",function(t,e){dt.hide();var n=r.select(this),a=n.attr("data-fill");a?n.style({fill:a,opacity:n.attr("data-opacity")}):n.style({stroke:n.attr("data-stroke"),opacity:n.attr("data-opacity")})})}),p}var e,n,a,l,c={data:[],layout:{}},u={},d={},f=r.dispatch("hover"),p={};return p.render=function(e){return t(e),this},p.config=function(t){if(!arguments.length)return c;var e=s.util.cloneJson(t);return e.data.forEach(function(t,e){c.data[e]||(c.data[e]={}),i(c.data[e],s.Axis.defaultConfig().data[0]),i(c.data[e],t)}),i(c.layout,s.Axis.defaultConfig().layout),i(c.layout,e.layout),this},p.getLiveConfig=function(){return d},p.getinputConfig=function(){return u},p.radialScale=function(t){return a},p.angularScale=function(t){return l},p.svg=function(){return e},r.rebind(p,f,"on"),p},s.Axis.defaultConfig=function(t,e){return{data:[{t:[1,2,3,4],r:[10,11,12,13],name:"Line1",geometry:"LinePlot",color:null,strokeDash:"solid",strokeColor:null,strokeSize:"1",visibleInLegend:!0,opacity:1}],layout:{defaultColorRange:r.scale.category10().range(),title:null,height:450,width:500,margin:{top:40,right:40,bottom:40,left:40},font:{size:12,color:"gray",outlineColor:"white",family:"Tahoma, sans-serif"},direction:"clockwise",orientation:0,labelOffset:10,radialAxis:{domain:null,orientation:-45,ticksSuffix:"",visible:!0,gridLinesVisible:!0,tickOrientation:"horizontal",rewriteTicks:null},angularAxis:{domain:[0,360],ticksSuffix:"",visible:!0,gridLinesVisible:!0,labelsVisible:!0,tickOrientation:"horizontal",rewriteTicks:null,ticksCount:null,ticksStep:null},minorTicks:0,tickLength:null,tickColor:"silver",minorTickColor:"#eee",backgroundColor:"none",needsEndSpacing:null,showLegend:!0,legend:{reverseOrder:!1},opacity:1}}},s.util={},s.DATAEXTENT="dataExtent",s.AREA="AreaChart",s.LINE="LinePlot",s.DOT="DotPlot",s.BAR="BarChart",s.util._override=function(t,e){for(var n in t)n in e&&(e[n]=t[n])},s.util._extend=function(t,e){for(var n in t)e[n]=t[n]},s.util._rndSnd=function(){return 2*Math.random()-1+(2*Math.random()-1)+(2*Math.random()-1)},s.util.dataFromEquation2=function(t,e){var n=e||6;return r.range(0,360+n,n).map(function(e,n){var r=e*Math.PI/180;return[e,t(r)]})},s.util.dataFromEquation=function(t,e,n){var a=e||6,i=[],o=[];r.range(0,360+a,a).forEach(function(e,n){var r=e*Math.PI/180,a=t(r);i.push(e),o.push(a)});var s={t:i,r:o};return n&&(s.name=n),s},s.util.ensureArray=function(t,e){if(void 0===t)return null;var n=[].concat(t);return r.range(e).map(function(t,e){return n[e]||n[0]})},s.util.fillArrays=function(t,e,n){return e.forEach(function(e,r){t[e]=s.util.ensureArray(t[e],n)}),t},s.util.cloneJson=function(t){return JSON.parse(JSON.stringify(t))},s.util.validateKeys=function(t,e){"string"==typeof e&&(e=e.split("."));var n=e.shift();return t[n]&&(!e.length||objHasKeys(t[n],e))},s.util.sumArrays=function(t,e){return r.zip(t,e).map(function(t,e){return r.sum(t)})},s.util.arrayLast=function(t){return t[t.length-1]},s.util.arrayEqual=function(t,e){for(var n=Math.max(t.length,e.length,1);n-- >=0&&t[n]===e[n];);return-2===n},s.util.flattenArray=function(t){for(var e=[];!s.util.arrayEqual(e,t);)e=t,t=[].concat.apply([],t);return t},s.util.deduplicate=function(t){return t.filter(function(t,e,n){return n.indexOf(t)==e})},s.util.convertToCartesian=function(t,e){var n=e*Math.PI/180;return[t*Math.cos(n),t*Math.sin(n)]},s.util.round=function(t,e){var n=e||2,r=Math.pow(10,n);return Math.round(t*r)/r},s.util.getMousePos=function(t){var e=r.mouse(t.node()),n=e[0],a=e[1],i={};return i.x=n,i.y=a,i.pos=e,i.angle=180*(Math.atan2(a,n)+Math.PI)/Math.PI,i.radius=Math.sqrt(n*n+a*a),i},s.util.duplicatesCount=function(t){for(var e,n={},r={},a=0,i=t.length;a<i;a++)e=t[a],e in n?(n[e]++,r[e]=n[e]):n[e]=1;return r},s.util.duplicates=function(t){return Object.keys(s.util.duplicatesCount(t))},s.util.translator=function(t,e,n,r){if(r){var a=n.slice();n=e,e=a}var i=e.reduce(function(t,e){if(void 0!==t)return t[e]},t);void 0!==i&&(e.reduce(function(t,n,r){if(void 0!==t)return r===e.length-1&&delete t[n],t[n]},t),n.reduce(function(t,e,r){return void 0===t[e]&&(t[e]={}),r===n.length-1&&(t[e]=i),t[e]},t))},s.PolyChart=function(){function t(){var t=e[0].geometryConfig,n=t.container;"string"==typeof n&&(n=r.select(n)),n.datum(e).each(function(e,n){function i(e,n){return{r:t.radialScale(e[1]),t:(t.angularScale(e[0])+t.orientation)*Math.PI/180}}function o(t){return{x:t.r*Math.cos(t.t),y:t.r*Math.sin(t.t)}}var s=!!e[0].data.yStack,l=e.map(function(t,e){return s?r.zip(t.data.t[0],t.data.r[0],t.data.yStack[0]):r.zip(t.data.t[0],t.data.r[0])}),c=t.angularScale,u=t.radialScale.domain()[0],d={};d.bar=function(n,a,i){var o=e[i].data,s=t.radialScale(n[1])-t.radialScale(0),l=t.radialScale(n[2]||0),u=o.barWidth;r.select(this).attr({class:"mark bar",d:"M"+[[s+l,-u/2],[s+l,u/2],[l,u/2],[l,-u/2]].join("L")+"Z",transform:function(e,n){return"rotate("+(t.orientation+c(e[0]))+")"}})},d.dot=function(t,n,a){var s=t[2]?[t[0],t[1]+t[2]]:t,l=r.svg.symbol().size(e[a].data.dotSize).type(e[a].data.dotType)(t,n);r.select(this).attr({class:"mark dot",d:l,transform:function(t,e){var n=o(i(s));return"translate("+[n.x,n.y]+")"}})};var f=r.svg.line.radial().interpolate(e[0].data.lineInterpolation).radius(function(e){return t.radialScale(e[1])}).angle(function(e){return t.angularScale(e[0])*Math.PI/180});d.line=function(n,a,i){var o=n[2]?l[i].map(function(t,e){return[t[0],t[1]+t[2]]}):l[i];if(r.select(this).each(d.dot).style({opacity:function(t,n){return+e[i].data.dotVisible},fill:v.stroke(n,a,i)}).attr({class:"mark dot"}),!(a>0)){var s=r.select(this.parentNode).selectAll("path.line").data([0]);s.enter().insert("path"),s.attr({class:"line",d:f(o),transform:function(e,n){return"rotate("+(t.orientation+90)+")"},"pointer-events":"none"}).style({fill:function(t,e){return v.fill(n,a,i)},"fill-opacity":0,stroke:function(t,e){return v.stroke(n,a,i)},"stroke-width":function(t,e){return v["stroke-width"](n,a,i)},"stroke-dasharray":function(t,e){return v["stroke-dasharray"](n,a,i)},opacity:function(t,e){return v.opacity(n,a,i)},display:function(t,e){return v.display(n,a,i)}})}};var p=t.angularScale.range(),h=Math.abs(p[1]-p[0])/l[0].length*Math.PI/180,g=r.svg.arc().startAngle(function(t){return-h/2}).endAngle(function(t){return h/2}).innerRadius(function(e){return t.radialScale(u+(e[2]||0))}).outerRadius(function(e){return t.radialScale(u+(e[2]||0))+t.radialScale(e[1])});d.arc=function(e,n,a){r.select(this).attr({class:"mark arc",d:g,transform:function(e,n){return"rotate("+(t.orientation+c(e[0])+90)+")"}})};var v={fill:function(t,n,r){return e[r].data.color},stroke:function(t,n,r){return e[r].data.strokeColor},"stroke-width":function(t,n,r){return e[r].data.strokeSize+"px"},"stroke-dasharray":function(t,n,r){return a[e[r].data.strokeDash]},opacity:function(t,n,r){return e[r].data.opacity},display:function(t,n,r){return void 0===e[r].data.visible||e[r].data.visible?"block":"none"}},m=r.select(this).selectAll("g.layer").data(l);m.enter().append("g").attr({class:"layer"});var y=m.selectAll("path.mark").data(function(t,e){return t});y.enter().append("path").attr({class:"mark"}),y.style(v).each(d[t.geometryType]),y.exit().remove(),m.exit().remove()})}var e=[s.PolyChart.defaultConfig()],n=r.dispatch("hover"),a={solid:"none",dash:[5,2],dot:[2,5]};return t.config=function(t){return arguments.length?(t.forEach(function(t,n){e[n]||(e[n]={}),i(e[n],s.PolyChart.defaultConfig()),i(e[n],t)}),this):e},t.getColorScale=function(){},r.rebind(t,n,"on"),t},s.PolyChart.defaultConfig=function(){return{data:{name:"geom1",t:[[1,2,3,4]],r:[[1,2,3,4]],dotType:"circle",dotSize:64,dotVisible:!1,barWidth:20,color:"#ffa500",strokeSize:1,strokeColor:"silver",strokeDash:"solid",opacity:1,index:0,visible:!0,visibleInLegend:!0},geometryConfig:{geometry:"LinePlot",geometryType:"arc",direction:"clockwise",orientation:0,container:"body",radialScale:null,angularScale:null,colorScale:r.scale.category20()}}},s.BarChart=function(){return s.PolyChart()},s.BarChart.defaultConfig=function(){return{geometryConfig:{geometryType:"bar"}}},s.AreaChart=function(){return s.PolyChart()},s.AreaChart.defaultConfig=function(){return{geometryConfig:{geometryType:"arc"}}},s.DotPlot=function(){return s.PolyChart()},s.DotPlot.defaultConfig=function(){return{geometryConfig:{geometryType:"dot",dotType:"circle"}}},s.LinePlot=function(){return s.PolyChart()},s.LinePlot.defaultConfig=function(){return{geometryConfig:{geometryType:"line"}}},s.Legend=function(){function t(){var n=e.legendConfig,a=e.data.map(function(t,e){return[].concat(t).map(function(t,r){var a=i({},n.elements[e]);return a.name=t,a.color=[].concat(n.elements[e].color)[r],a})}),o=r.merge(a);o=o.filter(function(t,e){return n.elements[e]&&(n.elements[e].visibleInLegend||void 0===n.elements[e].visibleInLegend)}),n.reverseOrder&&(o=o.reverse());var s=n.container;("string"==typeof s||s.nodeName)&&(s=r.select(s));var l=o.map(function(t,e){return t.color}),c=n.fontSize,u=null==n.isContinuous?"number"==typeof o[0]:n.isContinuous,d=u?n.height:c*o.length,f=s.classed("legend-group",!0),p=f.selectAll("svg").data([0]),h=p.enter().append("svg").attr({width:300,height:d+c,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1"});h.append("g").classed("legend-axis",!0),h.append("g").classed("legend-marks",!0);var g=r.range(o.length),v=r.scale[u?"linear":"ordinal"]().domain(g).range(l),m=r.scale[u?"linear":"ordinal"]().domain(g)[u?"range":"rangePoints"]([0,d]),y=function(t,e){var n=3*e;return"line"===t?"M"+[[-e/2,-e/12],[e/2,-e/12],[e/2,e/12],[-e/2,e/12]]+"Z":-1!=r.svg.symbolTypes.indexOf(t)?r.svg.symbol().type(t).size(n)():r.svg.symbol().type("square").size(n)()};if(u){var b=p.select(".legend-marks").append("defs").append("linearGradient").attr({id:"grad1",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}).selectAll("stop").data(l);b.enter().append("stop"),b.attr({offset:function(t,e){return e/(l.length-1)*100+"%"}}).style({"stop-color":function(t,e){return t}}),p.append("rect").classed("legend-mark",!0).attr({height:n.height,width:n.colorBandWidth,fill:"url(#grad1)"})}else{var x=p.select(".legend-marks").selectAll("path.legend-mark").data(o);x.enter().append("path").classed("legend-mark",!0),x.attr({transform:function(t,e){return"translate("+[c/2,m(e)+c/2]+")"},d:function(t,e){var n=t.symbol;return y(n,c)},fill:function(t,e){return v(e)}}),x.exit().remove()}var _=r.svg.axis().scale(m).orient("right"),w=p.select("g.legend-axis").attr({transform:"translate("+[u?n.colorBandWidth:c,c/2]+")"}).call(_);return w.selectAll(".domain").style({fill:"none",stroke:"none"}),w.selectAll("line").style({fill:"none",stroke:u?n.textColor:"none"}),w.selectAll("text").style({fill:n.textColor,"font-size":n.fontSize}).text(function(t,e){return o[e].name}),t}var e=s.Legend.defaultConfig(),n=r.dispatch("hover");return t.config=function(t){return arguments.length?(i(e,t),this):e},r.rebind(t,n,"on"),t},s.Legend.defaultConfig=function(t,e){return{data:["a","b","c"],legendConfig:{elements:[{symbol:"line",color:"red"},{symbol:"square",color:"yellow"},{symbol:"diamond",color:"limegreen"}],height:150,colorBandWidth:30,fontSize:12,container:"body",isContinuous:null,textColor:"grey",reverseOrder:!1}}},s.tooltipPanel=function(){var t,e,n,a={container:null,hasTick:!1,fontSize:12,color:"white",padding:5},o="tooltip-"+s.tooltipPanel.uid++,l=function(){t=a.container.selectAll("g."+o).data([0]);var r=t.enter().append("g").classed(o,!0).style({"pointer-events":"none",display:"none"});return n=r.append("path").style({fill:"white","fill-opacity":.9}).attr({d:"M0 0"}),e=r.append("text").attr({dx:a.padding+10,dy:.3*+a.fontSize}),l};return l.text=function(i){var o=r.hsl(a.color).l,s=o>=.5?"#aaa":"white",c=o>=.5?"black":"white",u=i||"";e.style({fill:c,"font-size":a.fontSize+"px"}).text(u);var d=a.padding,f=e.node().getBBox(),p={fill:a.color,stroke:s,"stroke-width":"2px"},h=f.width+2*d+10,g=f.height+2*d;return n.attr({d:"M"+[[10,-g/2],[10,-g/4],[a.hasTick?0:10,0],[10,g/4],[10,g/2],[h,g/2],[h,-g/2]].join("L")+"Z"}).style(p),t.attr({transform:"translate("+[10,-g/2+2*d]+")"}),t.style({display:"block"}),l},l.move=function(e){if(t)return t.attr({transform:"translate("+[e[0],e[1]]+")"}).style({display:"block"}),l},l.hide=function(){if(t)return t.style({display:"none"}),l},l.show=function(){if(t)return t.style({display:"block"}),l},l.config=function(t){return i(a,t),l},l},s.tooltipPanel.uid=1,s.adapter={},s.adapter.plotly=function(){var t={};return t.convert=function(t,e){var n={};if(t.data&&(n.data=t.data.map(function(t,n){var r=i({},t);return[[r,["marker","color"],["color"]],[r,["marker","opacity"],["opacity"]],[r,["marker","line","color"],["strokeColor"]],[r,["marker","line","dash"],["strokeDash"]],[r,["marker","line","width"],["strokeSize"]],[r,["marker","symbol"],["dotType"]],[r,["marker","size"],["dotSize"]],[r,["marker","barWidth"],["barWidth"]],[r,["line","interpolation"],["lineInterpolation"]],[r,["showlegend"],["visibleInLegend"]]].forEach(function(t,n){s.util.translator.apply(null,t.concat(e))}),e||delete r.marker,e&&delete r.groupId,e?("LinePlot"===r.geometry?(r.type="scatter",!0===r.dotVisible?(delete r.dotVisible,r.mode="lines+markers"):r.mode="lines"):"DotPlot"===r.geometry?(r.type="scatter",r.mode="markers"):"AreaChart"===r.geometry?r.type="area":"BarChart"===r.geometry&&(r.type="bar"),
delete r.geometry):("scatter"===r.type?"lines"===r.mode?r.geometry="LinePlot":"markers"===r.mode?r.geometry="DotPlot":"lines+markers"===r.mode&&(r.geometry="LinePlot",r.dotVisible=!0):"area"===r.type?r.geometry="AreaChart":"bar"===r.type&&(r.geometry="BarChart"),delete r.mode,delete r.type),r}),!e&&t.layout&&"stack"===t.layout.barmode)){var a=s.util.duplicates(n.data.map(function(t,e){return t.geometry}));n.data.forEach(function(t,e){var r=a.indexOf(t.geometry);-1!=r&&(n.data[e].groupId=r)})}if(t.layout){var o=i({},t.layout);if([[o,["plot_bgcolor"],["backgroundColor"]],[o,["showlegend"],["showLegend"]],[o,["radialaxis"],["radialAxis"]],[o,["angularaxis"],["angularAxis"]],[o.angularaxis,["showline"],["gridLinesVisible"]],[o.angularaxis,["showticklabels"],["labelsVisible"]],[o.angularaxis,["nticks"],["ticksCount"]],[o.angularaxis,["tickorientation"],["tickOrientation"]],[o.angularaxis,["ticksuffix"],["ticksSuffix"]],[o.angularaxis,["range"],["domain"]],[o.angularaxis,["endpadding"],["endPadding"]],[o.radialaxis,["showline"],["gridLinesVisible"]],[o.radialaxis,["tickorientation"],["tickOrientation"]],[o.radialaxis,["ticksuffix"],["ticksSuffix"]],[o.radialaxis,["range"],["domain"]],[o.angularAxis,["showline"],["gridLinesVisible"]],[o.angularAxis,["showticklabels"],["labelsVisible"]],[o.angularAxis,["nticks"],["ticksCount"]],[o.angularAxis,["tickorientation"],["tickOrientation"]],[o.angularAxis,["ticksuffix"],["ticksSuffix"]],[o.angularAxis,["range"],["domain"]],[o.angularAxis,["endpadding"],["endPadding"]],[o.radialAxis,["showline"],["gridLinesVisible"]],[o.radialAxis,["tickorientation"],["tickOrientation"]],[o.radialAxis,["ticksuffix"],["ticksSuffix"]],[o.radialAxis,["range"],["domain"]],[o.font,["outlinecolor"],["outlineColor"]],[o.legend,["traceorder"],["reverseOrder"]],[o,["labeloffset"],["labelOffset"]],[o,["defaultcolorrange"],["defaultColorRange"]]].forEach(function(t,n){s.util.translator.apply(null,t.concat(e))}),e?(void 0!==o.tickLength&&(o.angularaxis.ticklen=o.tickLength,delete o.tickLength),o.tickColor&&(o.angularaxis.tickcolor=o.tickColor,delete o.tickColor)):(o.angularAxis&&void 0!==o.angularAxis.ticklen&&(o.tickLength=o.angularAxis.ticklen),o.angularAxis&&void 0!==o.angularAxis.tickcolor&&(o.tickColor=o.angularAxis.tickcolor)),o.legend&&"boolean"!=typeof o.legend.reverseOrder&&(o.legend.reverseOrder="normal"!=o.legend.reverseOrder),o.legend&&"boolean"==typeof o.legend.traceorder&&(o.legend.traceorder=o.legend.traceorder?"reversed":"normal",delete o.legend.reverseOrder),o.margin&&void 0!==o.margin.t){var l=["t","r","b","l","pad"],c=["top","right","bottom","left","pad"],u={};r.entries(o.margin).forEach(function(t,e){u[c[l.indexOf(t.key)]]=t.value}),o.margin=u}e&&(delete o.needsEndSpacing,delete o.minorTickColor,delete o.minorTicks,delete o.angularaxis.ticksCount,delete o.angularaxis.ticksCount,delete o.angularaxis.ticksStep,delete o.angularaxis.rewriteTicks,delete o.angularaxis.nticks,delete o.radialaxis.ticksCount,delete o.radialaxis.ticksCount,delete o.radialaxis.ticksStep,delete o.radialaxis.rewriteTicks,delete o.radialaxis.nticks),n.layout=o}return n},t}},{"../../constants/alignment":131,"../../lib":149,d3:7}],223:[function(t,e,n){"use strict";var r=t("d3"),a=t("../../lib"),i=t("../../components/color"),o=t("./micropolar"),s=t("./undo_manager"),l=a.extendDeepAll,c=e.exports={};c.framework=function(t){function e(e,a){return a&&(d=a),r.select(r.select(d).node().parentNode).selectAll(".svg-container>*:not(.chart-root)").remove(),n=n?l(n,e):e,i||(i=o.Axis()),u=o.adapter.plotly().convert(n),i.config(u).render(d),t.data=n.data,t.layout=n.layout,c.fillLayout(t),n}var n,a,i,u,d,f=new s;return e.isPolar=!0,e.svg=function(){return i.svg()},e.getConfig=function(){return n},e.getLiveConfig=function(){return o.adapter.plotly().convert(i.getLiveConfig(),!0)},e.getLiveScales=function(){return{t:i.angularScale(),r:i.radialScale()}},e.setUndoPoint=function(){var t=this,e=o.util.cloneJson(n);!function(e,n){f.add({undo:function(){n&&t(n)},redo:function(){t(e)}})}(e,a),a=o.util.cloneJson(e)},e.undo=function(){f.undo()},e.redo=function(){f.redo()},e},c.fillLayout=function(t){var e=r.select(t).selectAll(".plot-container"),n=e.selectAll(".svg-container"),a=t.framework&&t.framework.svg&&t.framework.svg(),o={width:800,height:600,paper_bgcolor:i.background,_container:e,_paperdiv:n,_paper:a};t._fullLayout=l(o,t.layout)}},{"../../components/color":34,"../../lib":149,"./micropolar":222,"./undo_manager":224,d3:7}],224:[function(t,e,n){"use strict";e.exports=function(){function t(t,e){return t?(a=!0,t[e](),a=!1,this):this}var e,n=[],r=-1,a=!1;return{add:function(t){return a?this:(n.splice(r+1,n.length-r),n.push(t),r=n.length-1,this)},setCallback:function(t){e=t},undo:function(){var a=n[r];return a?(t(a,"undo"),r-=1,e&&e(a.undo),this):this},redo:function(){var a=n[r+1];return a?(t(a,"redo"),r+=1,e&&e(a.redo),this):this},clear:function(){n=[],r=-1},hasUndo:function(){return-1!==r},hasRedo:function(){return r<n.length-1},getCommands:function(){return n},getPreviousCommand:function(){return n[r-1]},getIndex:function(){return r}}}},{}],225:[function(t,e,n){"use strict";function r(t){if(t.layoutAttributes){var e=t.layoutAttributes._arrayAttrRegexps;if(e)for(var r=0;r<e.length;r++)u(n.layoutArrayRegexes,e[r])}}function a(t,e){var r=n.componentsRegistry[t].schema;if(r&&r.traces){var a=r.traces[e];a&&p(n.modules[e]._module.attributes,a)}}function i(t,e){var r=n.componentsRegistry[t].schema;if(r&&r.transforms){var a=r.transforms[e];a&&p(n.transformsRegistry[e].attributes,a)}}function o(t,e){var r=n.componentsRegistry[t].schema;if(r&&r.subplots){var a=n.subplotsRegistry[e],i=a.layoutAttributes,o="subplot"===a.attr?a.name:a.attr;Array.isArray(o)&&(o=o[0]);var s=r.subplots[o];i&&s&&p(i,s)}}function s(t){return"object"==typeof t&&(t=t.type),t}var l=t("./lib/loggers"),c=t("./lib/noop"),u=t("./lib/push_unique"),d=t("./lib/extend"),f=d.extendFlat,p=d.extendDeepAll,h=t("./plots/attributes"),g=t("./plots/layout_attributes");n.modules={},n.allCategories={},n.allTypes=[],n.subplotsRegistry={},n.transformsRegistry={},n.componentsRegistry={},n.layoutArrayContainers=[],n.layoutArrayRegexes=[],n.traceLayoutAttributes={},n.register=function(t,e,r,i){if(n.modules[e])return void l.log("Type "+e+" already registered");for(var o={},s=0;s<r.length;s++)o[r[s]]=!0,n.allCategories[r[s]]=!0;n.modules[e]={_module:t,categories:o},i&&Object.keys(i).length&&(n.modules[e].meta=i),n.allTypes.push(e);for(var c in n.componentsRegistry)a(c,e);t.layoutAttributes&&f(n.traceLayoutAttributes,t.layoutAttributes)},n.registerSubplot=function(t){var e=t.name;if(n.subplotsRegistry[e])return void l.log("Plot type "+e+" already registered.");r(t),n.subplotsRegistry[e]=t;for(var a in n.componentsRegistry)o(a,t.name)},n.registerComponent=function(t){var e=t.name;n.componentsRegistry[e]=t,t.layoutAttributes&&(t.layoutAttributes._isLinkedToArray&&u(n.layoutArrayContainers,e),r(t));for(var s in n.modules)a(e,s);for(var l in n.subplotsRegistry)o(e,l);for(var c in n.transformsRegistry)i(e,c);t.schema&&t.schema.layout&&p(g,t.schema.layout)},n.registerTransform=function(t){n.transformsRegistry[t.name]=t;for(var e in n.componentsRegistry)i(e,t.name)},n.getModule=function(t){if(void 0!==t.r)return l.warn("Tried to put a polar trace on an incompatible graph of cartesian data. Ignoring this dataset.",t),!1;var e=n.modules[s(t)];return!!e&&e._module},n.traceIs=function(t,e){if("various"===(t=s(t)))return!1;var r=n.modules[t];return r||(t&&"area"!==t&&l.log("Unrecognized trace type "+t+"."),r=n.modules[h.type.dflt]),!!r.categories[e]},n.getTransformIndices=function(t,e){for(var n=[],r=t.transforms||[],a=0;a<r.length;a++)r[a].type===e&&n.push(a);return n},n.hasTransform=function(t,e){for(var n=t.transforms||[],r=0;r<n.length;r++)if(n[r].type===e)return!0;return!1},n.getComponentMethod=function(t,e){var r=n.componentsRegistry[t];return r?r[e]||c:c}},{"./lib/extend":143,"./lib/loggers":153,"./lib/noop":157,"./lib/push_unique":161,"./plots/attributes":187,"./plots/layout_attributes":216}],226:[function(t,e,n){"use strict";function r(t){var e;switch(t){case"themes__thumb":e={autosize:!0,width:150,height:150,title:"",showlegend:!1,margin:{l:5,r:5,t:5,b:5,pad:0},annotations:[]};break;case"thumbnail":e={title:"",hidesources:!0,showlegend:!1,borderwidth:0,bordercolor:"",margin:{l:1,r:1,t:1,b:1,pad:0},annotations:[]};break;default:e={}}return e}function a(t){return["xaxis","yaxis","zaxis"].indexOf(t.slice(0,5))>-1}var i=t("../lib"),o=t("../plots/plots"),s=i.extendFlat,l=i.extendDeep;e.exports=function(t,e){t.framework&&t.framework.isPolar&&(t=t.framework.getConfig());var n,i=t.data,c=t.layout,u=l([],i),d=l({},c,r(e.tileClass)),f=t._context||{};if(e.width&&(d.width=e.width),e.height&&(d.height=e.height),"thumbnail"===e.tileClass||"themes__thumb"===e.tileClass){d.annotations=[];var p=Object.keys(d);for(n=0;n<p.length;n++)a(p[n])&&(d[p[n]].title="");for(n=0;n<u.length;n++){var h=u[n];h.showscale=!1,h.marker&&(h.marker.showscale=!1),"pie"===h.type&&(h.textposition="none")}}if(Array.isArray(e.annotations))for(n=0;n<e.annotations.length;n++)d.annotations.push(e.annotations[n]);var g=o.getSubplotIds(d,"gl3d");if(g.length){var v={};for("thumbnail"===e.tileClass&&(v={title:"",showaxeslabels:!1,showticklabels:!1,linetickenable:!1}),n=0;n<g.length;n++){var m=d[g[n]];m.xaxis||(m.xaxis={}),m.yaxis||(m.yaxis={}),m.zaxis||(m.zaxis={}),s(m.xaxis,v),s(m.yaxis,v),s(m.zaxis,v),m._scene=null}}var y=document.createElement("div");e.tileClass&&(y.className=e.tileClass);var b={gd:y,td:y,layout:d,data:u,config:{staticPlot:void 0===e.staticPlot||e.staticPlot,plotGlPixelRatio:void 0===e.plotGlPixelRatio?2:e.plotGlPixelRatio,displaylogo:e.displaylogo||!1,showLink:e.showLink||!1,showTips:e.showTips||!1,mapboxAccessToken:f.mapboxAccessToken}};return"transparent"!==e.setBackground&&(b.config.setBackground=e.setBackground||"opaque"),b.gd.defaultLayout=r(e.tileClass),b}},{"../lib":149,"../plots/plots":218}],227:[function(t,e,n){"use strict";function r(t,e){return e=e||{},e.format=e.format||"png",new Promise(function(n,r){t._snapshotInProgress&&r(new Error("Snapshotting already in progress.")),i.isIE()&&"svg"!==e.format&&r(new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.")),t._snapshotInProgress=!0;var s=a(t,e),l=e.filename||t.fn||"newplot";l+="."+e.format,s.then(function(e){return t._snapshotInProgress=!1,o(e,l)}).then(function(t){n(t)}).catch(function(e){t._snapshotInProgress=!1,r(e)})})}var a=t("../plot_api/to_image"),i=t("../lib"),o=t("./filesaver");e.exports=r},{"../lib":149,"../plot_api/to_image":182,"./filesaver":228}],228:[function(t,e,n){"use strict";var r=function(t,e){var n=document.createElement("a"),r="download"in n,a=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent);return new Promise(function(i,o){if("undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent)&&o(new Error("IE < 10 unsupported")),a&&(document.location.href="data:application/octet-stream"+t.slice(t.search(/[,;]/)),i(e)),e||(e="download"),r&&(n.href=t,n.download=e,document.body.appendChild(n),n.click(),document.body.removeChild(n),i(e)),"undefined"!=typeof navigator&&navigator.msSaveBlob){var s=t.split(/^data:image\/svg\+xml,/)[1],l=decodeURIComponent(s);navigator.msSaveBlob(new Blob([l]),e),i(e)}o(new Error("download error"))})};e.exports=r},{}],229:[function(t,e,n){"use strict";n.getDelay=function(t){return t._has&&(t._has("gl3d")||t._has("gl2d"))?500:0},n.getRedrawFunc=function(t){if(!(t.data&&t.data[0]&&t.data[0].r))return function(){(t.calcdata||[]).forEach(function(t){t[0]&&t[0].t&&t[0].t.cb&&t[0].t.cb()})}}},{}],230:[function(t,e,n){"use strict";var r=t("./helpers"),a={getDelay:r.getDelay,getRedrawFunc:r.getRedrawFunc,clone:t("./cloneplot"),toSVG:t("./tosvg"),svgToImg:t("./svgtoimg"),toImage:t("./toimage"),downloadImage:t("./download")};e.exports=a},{"./cloneplot":226,"./download":227,"./helpers":229,"./svgtoimg":231,"./toimage":232,"./tosvg":233}],231:[function(t,e,n){"use strict";function r(t){var e=t.emitter||new i,n=new Promise(function(r,i){var o=window.Image,s=t.svg,l=t.format||"png";if(a.isIE()&&"svg"!==l){var c=new Error("Sorry IE does not support downloading from canvas. Try {format:'svg'} instead.");return i(c),t.promise?n:e.emit("error",c)}var u=t.canvas,d=t.scale||1,f=t.width||300,p=t.height||150,h=d*f,g=d*p,v=u.getContext("2d"),m=new o,y="data:image/svg+xml,"+encodeURIComponent(s);u.width=h,u.height=g,m.onload=function(){var n;switch("svg"!==l&&v.drawImage(m,0,0,h,g),l){case"jpeg":n=u.toDataURL("image/jpeg");break;case"png":n=u.toDataURL("image/png");break;case"webp":n=u.toDataURL("image/webp");break;case"svg":n=y;break;default:var a="Image format is not jpeg, png, svg or webp.";if(i(new Error(a)),!t.promise)return e.emit("error",a)}r(n),t.promise||e.emit("success",n)},m.onerror=function(n){if(i(n),!t.promise)return e.emit("error",n)},m.src=y});return t.promise?n:e}var a=t("../lib"),i=t("events").EventEmitter;e.exports=r},{"../lib":149,events:9}],232:[function(t,e,n){"use strict";function r(t,e){function n(){var t=s.getDelay(f._fullLayout);setTimeout(function(){var t=c(f),n=document.createElement("canvas");n.id=o.randstr(),r=u({format:e.format,width:f._fullLayout.width,height:f._fullLayout.height,canvas:n,emitter:r,svg:t}),r.clean=function(){f&&document.body.removeChild(f)}},t)}var r=new a,d=l(t,{format:"png"}),f=d.gd;f.style.position="absolute",f.style.left="-5000px",document.body.appendChild(f);var p=s.getRedrawFunc(f);return i.plot(f,d.data,d.layout,d.config).then(p).then(n).catch(function(t){r.emit("error",t)}),r}var a=t("events").EventEmitter,i=t("../plotly"),o=t("../lib"),s=t("./helpers"),l=t("./cloneplot"),c=t("./tosvg"),u=t("./svgtoimg");e.exports=r},{"../lib":149,"../plotly":184,"./cloneplot":226,"./helpers":229,"./svgtoimg":231,"./tosvg":233,events:9}],233:[function(t,e,n){"use strict";function r(t){var e=i.select("body").append("div").style({display:"none"}).html(""),n=t.replace(/(&[^;]*;)/gi,function(t){return"&lt;"===t?"&#60;":"&rt;"===t?"&#62;":-1!==t.indexOf("<")||-1!==t.indexOf(">")?"":e.html(t).text()});return e.remove(),n}function a(t){return t.replace(/&(?!\w+;|\#[0-9]+;| \#x[0-9A-F]+;)/g,"&amp;")}var i=t("d3"),o=t("../lib"),s=t("../components/drawing"),l=t("../components/color"),c=t("../constants/xmlns_namespaces"),u=/"/g,d=new RegExp('("TOBESTRIPPED)|(TOBESTRIPPED")',"g");e.exports=function(t,e,n){var f,p=t._fullLayout,h=p._paper,g=p._toppaper,v=p.width,m=p.height;h.insert("rect",":first-child").call(s.setRect,0,0,v,m).call(l.fill,p.paper_bgcolor);var y=p._basePlotModules||[];for(f=0;f<y.length;f++){var b=y[f];b.toSVG&&b.toSVG(t)}if(g){var x=g.node().childNodes,_=Array.prototype.slice.call(x);for(f=0;f<_.length;f++){var w=_[f];w.childNodes.length&&h.node().appendChild(w)}}p._draggers&&p._draggers.remove(),h.node().style.background="",h.selectAll("text").attr({"data-unformatted":null,"data-math":null}).each(function(){var t=i.select(this);if("hidden"===this.style.visibility||"none"===this.style.display)return void t.remove();t.style({visibility:null,display:null});var e=this.style.fontFamily;e&&-1!==e.indexOf('"')&&t.style("font-family",e.replace(u,"TOBESTRIPPED"))}),h.selectAll(".point,.scatterpts").each(function(){var t=i.select(this),e=this.style.fill;e&&-1!==e.indexOf("url(")&&t.style("fill",e.replace(u,"TOBESTRIPPED"))}),"pdf"!==e&&"eps"!==e||h.selectAll("#MathJax_SVG_glyphs path").attr("stroke-width",0),h.node().setAttributeNS(c.xmlns,"xmlns",c.svg),h.node().setAttributeNS(c.xmlns,"xmlns:xlink",c.xlink),"svg"===e&&n&&(h.attr("width",n*v),h.attr("height",n*m),h.attr("viewBox","0 0 "+v+" "+m));var T=(new window.XMLSerializer).serializeToString(h.node());return T=r(T),T=a(T),T=T.replace(d,"'"),o.isIE()&&(T=T.replace(/"/gi,"'"),T=T.replace(/(\('#)([^']*)('\))/gi,'("#$2")'),T=T.replace(/(\\')/gi,'"')),T}},{"../components/color":34,"../components/drawing":58,"../constants/xmlns_namespaces":135,"../lib":149,d3:7}],234:[function(t,e,n){"use strict";var r=t("../../lib").mergeArray;e.exports=function(t,e){r(e.text,t,"tx"),r(e.hovertext,t,"htx");var n=e.marker;if(n){r(n.opacity,t,"mo"),r(n.color,t,"mc");var a=n.line;a&&(r(a.color,t,"mlc"),r(a.width,t,"mlw"))}}},{"../../lib":149}],235:[function(t,e,n){"use strict";var r=t("../scatter/attributes"),a=t("../../components/colorscale/color_attributes"),i=t("../../components/errorbars/attributes"),o=t("../../components/colorbar/attributes"),s=t("../../plots/font_attributes"),l=t("../../lib/extend").extendFlat,c=s({editType:"calc",arrayOk:!0}),u=r.marker,d=u.line,f=l({},d.width,{dflt:0}),p=l({width:f,editType:"calc"},a("marker.line")),h=l({line:p,editType:"calc"},a("marker"),{showscale:u.showscale,colorbar:o});e.exports={x:r.x,x0:r.x0,dx:r.dx,y:r.y,y0:r.y0,dy:r.dy,text:r.text,hovertext:r.hovertext,textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"none",arrayOk:!0,editType:"calc"},textfont:l({},c,{}),insidetextfont:l({},c,{}),outsidetextfont:l({},c,{}),constraintext:{valType:"enumerated",values:["inside","outside","both","none"],dflt:"both",editType:"calc"},orientation:{valType:"enumerated",values:["v","h"],editType:"calc+clearAxisTypes"},base:{valType:"any",dflt:null,arrayOk:!0,editType:"calc"},offset:{valType:"number",dflt:null,arrayOk:!0,editType:"calc"},width:{valType:"number",dflt:null,min:0,arrayOk:!0,editType:"calc"},marker:h,r:r.r,t:r.t,error_y:i,error_x:i,_deprecated:{bardir:{valType:"enumerated",editType:"calc",values:["v","h"]}}}},{"../../components/colorbar/attributes":35,"../../components/colorscale/color_attributes":41,"../../components/errorbars/attributes":60,"../../lib/extend":143,"../../plots/font_attributes":213,"../scatter/attributes":260}],236:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),a=t("../../plots/cartesian/axes"),i=t("../../components/colorscale/has_colorscale"),o=t("../../components/colorscale/calc"),s=t("./arrays_to_calcdata");e.exports=function(t,e){var n,l,c,u,d,f=a.getFromId(t,e.xaxis||"x"),p=a.getFromId(t,e.yaxis||"y");"h"===(e.orientation||(e.x&&!e.y?"h":"v"))?(n=f,c=f.makeCalcdata(e,"x"),l=p.makeCalcdata(e,"y"),d=e.xcalendar):(n=p,c=p.makeCalcdata(e,"y"),l=f.makeCalcdata(e,"x"),d=e.ycalendar);var h=Math.min(l.length,c.length),g=new Array(h);for(u=0;u<h;u++)g[u]={p:l[u],s:c[u]};var v,m=e.base;if(Array.isArray(m)){for(u=0;u<Math.min(m.length,g.length);u++)v=n.d2c(m[u],0,d),r(v)?(g[u].b=+v,g[u].hasB=1):g[u].b=0;for(;u<g.length;u++)g[u].b=0}else{v=n.d2c(m,0,d);var y=r(v);for(v=y?v:0,u=0;u<g.length;u++)g[u].b=v,y&&(g[u].hasB=1)}return i(e,"marker")&&o(e,e.marker.color,"marker","c"),i(e,"marker.line")&&o(e,e.marker.line.color,"marker.line","c"),s(g,e),g}},{"../../components/colorscale/calc":40,"../../components/colorscale/has_colorscale":47,"../../plots/cartesian/axes":189,"./arrays_to_calcdata":234,"fast-isnumeric":10}],237:[function(t,e,n){"use strict";var r=t("../../lib"),a=t("../../components/color"),i=t("../scatter/xy_defaults"),o=t("../bar/style_defaults"),s=t("../../components/errorbars/defaults"),l=t("./attributes");e.exports=function(t,e,n,c){function u(n,a){return r.coerce(t,e,l,n,a)}var d=r.coerceFont;if(!i(t,e,c,u))return void(e.visible=!1);u("orientation",e.x&&!e.y?"h":"v"),u("base"),u("offset"),u("width"),u("text"),u("hovertext");var f=u("textposition"),p=Array.isArray(f)||"auto"===f,h=p||"inside"===f,g=p||"outside"===f;if(h||g){var v=d(u,"textfont",c.font);h&&d(u,"insidetextfont",v),g&&d(u,"outsidetextfont",v),u("constraintext")}o(t,e,u,n,c),s(t,e,a.defaultLine,{axis:"y"}),s(t,e,a.defaultLine,{axis:"x",inherit:"y"})}},{"../../components/color":34,"../../components/errorbars/defaults":63,"../../lib":149,"../bar/style_defaults":247,"../scatter/xy_defaults":283,"./attributes":235}],238:[function(t,e,n){"use strict";var r=t("../../components/fx"),a=t("../../components/errorbars"),i=t("../../components/color"),o=t("../scatter/fill_hover_text");e.exports=function(t,e,n,s){var l,c,u,d,f,p,h,g=t.cd,v=g[0].trace,m=g[0].t,y=t.xa,b=t.ya,x=function(t){return r.inbox(d(t)-l,f(t)-l)};"h"===v.orientation?(l=n,c=function(t){return t.y-t.w/2},u=function(t){return t.y+t.w/2},p=function(t){return r.inbox(t.b-e,t.x-e)+(t.x-e)/(t.x-t.b)},h=x):(l=e,c=function(t){return t.x-t.w/2},u=function(t){return t.x+t.w/2},h=function(t){return r.inbox(t.b-n,t.y-n)+(t.y-n)/(t.y-t.b)},p=x),d="closest"===s?c:function(t){return Math.min(c(t),t.p-m.bargroupwidth/2)},f="closest"===s?u:function(t){return Math.max(u(t),t.p+m.bargroupwidth/2)};var _=r.getDistanceFunction(s,p,h);if(r.getClosest(g,_,t),!1!==t.index){var w=t.index,T=g[w],k=T.mcc||v.marker.color,A=T.mlcc||v.marker.line.color,M=T.mlw||v.marker.line.width;i.opacity(k)?t.color=k:i.opacity(A)&&M&&(t.color=A);var C=v.base?T.b+T.s:T.s;return"h"===v.orientation?(t.x0=t.x1=y.c2p(T.x,!0),t.xLabelVal=C,t.y0=b.c2p(d(T),!0),t.y1=b.c2p(f(T),!0),t.yLabelVal=T.p):(t.y0=t.y1=b.c2p(T.y,!0),t.yLabelVal=C,t.x0=y.c2p(d(T),!0),t.x1=y.c2p(f(T),!0),t.xLabelVal=T.p),o(T,v,t),a.hoverInfo(T,v,t),[t]}}},{"../../components/color":34,"../../components/errorbars":64,"../../components/fx":75,"../scatter/fill_hover_text":267}],239:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.layoutAttributes=t("./layout_attributes"),r.supplyDefaults=t("./defaults"),r.supplyLayoutDefaults=t("./layout_defaults"),r.calc=t("./calc"),r.setPositions=t("./set_positions"),r.colorbar=t("../scatter/colorbar"),r.arraysToCalcdata=t("./arrays_to_calcdata"),r.plot=t("./plot"),r.style=t("./style"),r.hoverPoints=t("./hover"),r.selectPoints=t("./select"),r.moduleType="trace",r.name="bar",r.basePlotModule=t("../../plots/cartesian"),r.categories=["cartesian","bar","oriented","markerColorscale","errorBarsOK","showLegend"],r.meta={},e.exports=r},{"../../plots/cartesian":199,"../scatter/colorbar":263,"./arrays_to_calcdata":234,"./attributes":235,"./calc":236,"./defaults":237,"./hover":238,"./layout_attributes":240,"./layout_defaults":241,"./plot":242,"./select":243,"./set_positions":244,"./style":246}],240:[function(t,e,n){"use strict";e.exports={barmode:{valType:"enumerated",values:["stack","group","overlay","relative"],dflt:"group",editType:"calc"},barnorm:{valType:"enumerated",values:["","fraction","percent"],dflt:"",editType:"calc"},bargap:{valType:"number",min:0,max:1,editType:"calc"},bargroupgap:{valType:"number",min:0,max:1,dflt:0,editType:"calc"}}},{}],241:[function(t,e,n){"use strict";var r=t("../../registry"),a=t("../../plots/cartesian/axes"),i=t("../../lib"),o=t("./layout_attributes");e.exports=function(t,e,n){function s(n,r){return i.coerce(t,e,o,n,r)}for(var l=!1,c=!1,u=!1,d={},f=0;f<n.length;f++){var p=n[f];if(r.traceIs(p,"bar")){if(l=!0,"overlay"!==t.barmode&&"stack"!==t.barmode){var h=p.xaxis+p.yaxis;d[h]&&(u=!0),d[h]=!0}p.visible&&"histogram"===p.type&&"category"!==a.getFromId({_fullLayout:e},p["v"===p.orientation?"xaxis":"yaxis"]).type&&(c=!0)}}l&&("overlay"!==s("barmode")&&s("barnorm"),s("bargap",c&&!u?0:.2),s("bargroupgap"))}},{"../../lib":149,"../../plots/cartesian/axes":189,"../../registry":225,"./layout_attributes":240}],242:[function(t,e,n){"use strict";function r(t,e,n,r,o,f,p,h){function g(e,n,r){return e.append("text").text(n).attr({class:"bartext",transform:"","text-anchor":"middle","data-notex":1}).call(k.font,r).call(w.convertToTspans,t)}var v=n[0].trace,m=v.orientation,y=s(v,r);if(y){var b=l(v,r);if("none"!==b){var x,_,T,A,M=c(v,r,t._fullLayout.font),C=u(v,r,M),S=d(v,r,M),E=t._fullLayout.barmode,L="stack"===E,O="relative"===E,I=L||O,P=n[r],N=!I||P._outmost,z=Math.abs(f-o)-2*D,R=Math.abs(h-p)-2*D;if("outside"===b&&(N||(b="inside")),"auto"===b)if(N){x=g(e,y,C),_=k.bBox(x.node()),T=_.width,A=_.height;var F=T>0&&A>0,j=T<=z&&A<=R,H=T<=R&&A<=z,B="h"===m?z>=T*(R/A):R>=A*(z/T);F&&(j||H||B)?b="inside":(b="outside",x.remove(),x=null)}else b="inside";if(!x&&(x=g(e,y,"outside"===b?S:C),_=k.bBox(x.node()),T=_.width,A=_.height,T<=0||A<=0))return void x.remove();var V,q;"outside"===b?(q="both"===v.constraintext||"outside"===v.constraintext,V=i(o,f,p,h,_,m,q)):(q="both"===v.constraintext||"inside"===v.constraintext,V=a(o,f,p,h,_,m,q)),x.attr("transform",V)}}}function a(t,e,n,r,a,i,s){var l,c,u,d,f,p=a.width,h=a.height,g=(a.left+a.right)/2,v=(a.top+a.bottom)/2,m=Math.abs(e-t),y=Math.abs(r-n);m>2*D&&y>2*D?(f=D,m-=2*f,y-=2*f):f=0;var b,x;return p<=m&&h<=y?(b=!1,x=1):p<=y&&h<=m?(b=!0,x=1):p<h==m<y?(b=!1,x=s?Math.min(m/p,y/h):1):(b=!0,x=s?Math.min(y/p,m/h):1),b&&(b=90),b?(l=x*h,c=x*p):(l=x*p,c=x*h),"h"===i?e<t?(u=e+f+l/2,d=(n+r)/2):(u=e-f-l/2,d=(n+r)/2):r>n?(u=(t+e)/2,d=r-f-c/2):(u=(t+e)/2,d=r+f+c/2),o(g,v,u,d,x,b)}function i(t,e,n,r,a,i,s){var l,c="h"===i?Math.abs(r-n):Math.abs(e-t);c>2*D&&(l=D);var u=1;s&&(u="h"===i?Math.min(1,c/a.height):Math.min(1,c/a.width));var d,f,p,h,g=(a.left+a.right)/2,v=(a.top+a.bottom)/2;return d=u*a.width,f=u*a.height,"h"===i?e<t?(p=e-l-d/2,h=(n+r)/2):(p=e+l+d/2,h=(n+r)/2):r>n?(p=(t+e)/2,h=r+l+f/2):(p=(t+e)/2,h=r-l-f/2),o(g,v,p,h,u,!1)}function o(t,e,n,r,a,i){var o,s;return a<1?o="scale("+a+") ":(a=1,o=""),s=i?"rotate("+i+" "+t+" "+e+") ":"","translate("+(n-a*t)+" "+(r-a*e)+")"+o+s}function s(t,e){var n=p(t.text,e);return h(C,n)}function l(t,e){var n=p(t.textposition,e);return g(S,n)}function c(t,e,n){return f(E,t.textfont,e,n)}function u(t,e,n){return f(L,t.insidetextfont,e,n)}function d(t,e,n){return f(O,t.outsidetextfont,e,n)}function f(t,e,n,r){e=e||{};var a=p(e.family,n),i=p(e.size,n),o=p(e.color,n);return{family:h(t.family,a,r.family),size:v(t.size,i,r.size),color:m(t.color,o,r.color)}}function p(t,e){var n;return Array.isArray(t)?e<t.length&&(n=t[e]):n=t,n}function h(t,e,n){if("string"==typeof e){if(e||!t.noBlank)return e}else if("number"==typeof e&&!t.strict)return String(e);return void 0!==n?n:t.dflt}function g(t,e,n){return t.coerceNumber&&(e=+e),-1!==t.values.indexOf(e)?e:void 0!==n?n:t.dflt}function v(t,e,n){if(b(e)){e=+e;var r=t.min,a=t.max;if(!(void 0!==r&&e<r||void 0!==a&&e>a))return e}return void 0!==n?n:t.dflt}function m(t,e,n){return x(e).isValid()?e:void 0!==n?n:t.dflt}var y=t("d3"),b=t("fast-isnumeric"),x=t("tinycolor2"),_=t("../../lib"),w=t("../../lib/svg_text_utils"),T=t("../../components/color"),k=t("../../components/drawing"),A=t("../../components/errorbars"),M=t("./attributes"),C=M.text,S=M.textposition,E=M.textfont,L=M.insidetextfont,O=M.outsidetextfont,D=3;e.exports=function(t,e,n){var a=e.xaxis,i=e.yaxis,o=t._fullLayout,s=e.plot.select(".barlayer").selectAll("g.trace.bars").data(n);s.enter().append("g").attr("class","trace bars"),s.append("g").attr("class","points").each(function(e){var n=e[0].node3=y.select(this),s=e[0].t,l=e[0].trace,c=s.poffset,u=Array.isArray(c);n.selectAll("g.point").data(_.identity).enter().append("g").classed("point",!0).each(function(n,s){function d(t){return 0===o.bargap&&0===o.bargroupgap?y.round(Math.round(t)-A,2):t}function f(t,e){return Math.abs(t-e)>=2?d(t):t>e?Math.ceil(t):Math.floor(t)}var p,h,g,v,m=n.p+(u?c[s]:c),x=m+n.w,_=n.b,w=_+n.s;if("h"===l.orientation?(g=i.c2p(m,!0),v=i.c2p(x,!0),p=a.c2p(_,!0),h=a.c2p(w,!0),n.ct=[h,(g+v)/2]):(p=a.c2p(m,!0),h=a.c2p(x,!0),g=i.c2p(_,!0),v=i.c2p(w,!0),n.ct=[(p+h)/2,v]),!(b(p)&&b(h)&&b(g)&&b(v)&&p!==h&&g!==v))return void y.select(this).remove();var k=(n.mlw+1||l.marker.line.width+1||(n.trace?n.trace.marker.line.width:0)+1)-1,A=y.round(k/2%1,2);if(!t._context.staticPlot){var M=T.opacity(n.mc||l.marker.color),C=M<1||k>.01?d:f;p=C(p,h),h=C(h,p),g=C(g,v),v=C(v,g)}var S=y.select(this);S.append("path").style("vector-effect","non-scaling-stroke").attr("d","M"+p+","+g+"V"+v+"H"+h+"V"+g+"Z"),r(t,S,e,s,p,h,g,v)})}),s.call(A.plot,e)}},{"../../components/color":34,"../../components/drawing":58,"../../components/errorbars":64,"../../lib":149,"../../lib/svg_text_utils":169,"./attributes":235,d3:7,"fast-isnumeric":10,tinycolor2:16}],243:[function(t,e,n){"use strict";var r=t("../../constants/interactions").DESELECTDIM;e.exports=function(t,e){var n,a=t.cd,i=[],o=a[0].node3;if(!1===e)for(n=0;n<a.length;n++)a[n].dim=0;else for(n=0;n<a.length;n++){var s=a[n];e.contains(s.ct)?(i.push({pointNumber:n,x:s.x,y:s.y}),s.dim=0):s.dim=1}return o.selectAll(".point").style("opacity",function(t){return t.dim?r:1}),o.selectAll("text").style("opacity",function(t){return t.dim?r:1}),i}},{"../../constants/interactions":132}],244:[function(t,e,n){"use strict";function r(t,e,n,r){if(r.length){var s,l,c,u,d,f=t._fullLayout.barmode,p="overlay"===f,h="group"===f;if(p)a(t,e,n,r);else if(h){for(s=[],l=[],c=0;c<r.length;c++)u=r[c],d=u[0].trace,void 0===d.offset?l.push(u):s.push(u);l.length&&i(t,e,n,l),s.length&&a(t,e,n,s)}else{for(s=[],l=[],c=0;c<r.length;c++)u=r[c],d=u[0].trace,void 0===d.base?l.push(u):s.push(u);l.length&&o(t,e,n,l),s.length&&a(t,e,n,s)}}}function a(t,e,n,r){for(var a=t._fullLayout.barnorm,i=!a,o=0;o<r.length;o++){var l=r[o],c=new w([l],!1,i);s(t,e,c),a?(g(t,n,c),v(t,n,c)):p(t,n,c)}}function i(t,e,n,r){var a=t._fullLayout,i=a.barnorm,o=!i,s=new w(r,!1,o);l(t,e,s),i?(g(t,n,s),v(t,n,s)):p(t,n,s)}function o(t,e,n,r){var a=t._fullLayout,i=a.barmode,o="stack"===i,l="relative"===i,c=t._fullLayout.barnorm,u=l,d=!(c||o||l),f=new w(r,u,d);s(t,e,f),h(t,n,f);for(var p=0;p<r.length;p++)for(var g=r[p],m=0;m<g.length;m++){var y=g[m];if(y.s!==b){var x=y.b+y.s===f.get(y.p,y.s);x&&(y._outmost=!0)}}c&&v(t,n,f)}function s(t,e,n){var r,a,i,o,s=t._fullLayout,l=s.bargap,f=s.bargroupgap,p=n.minDiff,h=n.traces,g=p*(1-l),v=g,m=v*(1-f),y=-m/2;for(r=0;r<h.length;r++)a=h[r],i=a[0],o=i.t,o.barwidth=m,o.poffset=y,o.bargroupwidth=g;n.binWidth=h[0][0].t.barwidth/100,c(n),u(t,e,n),d(t,e,n)}function l(t,e,n){var r,a,i,o,s=t._fullLayout,l=s.bargap,f=s.bargroupgap,p=n.positions,h=n.distinctPositions,g=n.minDiff,v=n.traces,m=p.length!==h.length,y=v.length,b=g*(1-l),x=m?b/y:b,_=x*(1-f);for(r=0;r<y;r++){a=v[r],i=a[0];var w=m?((2*r+1-y)*x-_)/2:-_/2;o=i.t,o.barwidth=_,o.poffset=w,o.bargroupwidth=b}n.binWidth=v[0][0].t.barwidth/100,c(n),u(t,e,n),d(t,e,n,m)}function c(t){var e,n,r,a,i,o,s=t.traces;for(e=0;e<s.length;e++){n=s[e],r=n[0],a=r.trace,o=r.t;var l,c=a.offset,u=o.poffset;if(Array.isArray(c)){for(l=c.slice(0,n.length),i=0;i<l.length;i++)y(l[i])||(l[i]=u);for(i=l.length;i<n.length;i++)l.push(u);o.poffset=l}else void 0!==c&&(o.poffset=c);var d=a.width,f=o.barwidth;if(Array.isArray(d)){var p=d.slice(0,n.length);for(i=0;i<p.length;i++)y(p[i])||(p[i]=f);for(i=p.length;i<n.length;i++)p.push(f);if(o.barwidth=p,void 0===c){for(l=[],i=0;i<n.length;i++)l.push(u+(f-p[i])/2);o.poffset=l}}else void 0!==d&&(o.barwidth=d,void 0===c&&(o.poffset=u+(f-d)/2))}}function u(t,e,n){for(var r=n.traces,a=m(e),i=0;i<r.length;i++)for(var o=r[i],s=o[0].t,l=s.poffset,c=Array.isArray(l),u=s.barwidth,d=Array.isArray(u),f=0;f<o.length;f++){var p=o[f],h=p.w=d?u[f]:u;p[a]=p.p+(c?l[f]:l)+h/2}}function d(t,e,n,r){var a=n.traces,i=n.distinctPositions,o=i[0],s=n.minDiff,l=s/2;_.minDtick(e,s,o,r);for(var c=Math.min.apply(Math,i)-l,u=Math.max.apply(Math,i)+l,d=0;d<a.length;d++){var f=a[d],p=f[0],h=p.trace;if(void 0!==h.width||void 0!==h.offset)for(var g=p.t,v=g.poffset,m=g.barwidth,y=Array.isArray(v),b=Array.isArray(m),x=0;x<f.length;x++){var w=f[x],T=y?v[x]:v,k=b?m[x]:m,A=w.p,M=A+T,C=M+k;c=Math.min(c,M),u=Math.max(u,C)}}_.expand(e,[c,u],{padded:!1})}function f(t,e){y(t[0])?t[0]=Math.min(t[0],e):t[0]=e,y(t[1])?t[1]=Math.max(t[1],e):t[1]=e}function p(t,e,n){for(var r=n.traces,a=m(e),i=[null,null],o=0;o<r.length;o++)for(var s=r[o],l=0;l<s.length;l++){var c=s[l],u=c.b,d=u+c.s;c[a]=d,y(e.c2l(d))&&f(i,d),c.hasB&&y(e.c2l(u))&&f(i,u)}_.expand(e,i,{tozero:!0,padded:!0})}function h(t,e,n){var r,a,i,o,s=t._fullLayout,l=s.barnorm,c=m(e),u=n.traces,d=[null,null];for(r=0;r<u.length;r++)for(a=u[r],i=0;i<a.length;i++)if(o=a[i],o.s!==b){var p=n.put(o.p,o.b+o.s),h=p+o.b+o.s;o.b=p,o[c]=h,l||(y(e.c2l(h))&&f(d,h),o.hasB&&y(e.c2l(p))&&f(d,p))}l||_.expand(e,d,{tozero:!0,padded:!0})}function g(t,e,n){for(var r=n.traces,a=0;a<r.length;a++)for(var i=r[a],o=0;o<i.length;o++){var s=i[o];s.s!==b&&n.put(s.p,s.b+s.s)}}function v(t,e,n){function r(t){y(e.c2l(t))&&(t<l-s||t>c+s||!y(l))&&(d=!0,f(u,t))}
for(var a=n.traces,i=m(e),o="fraction"===t._fullLayout.barnorm?1:100,s=o/1e9,l=e.l2c(e.c2l(0)),c="stack"===t._fullLayout.barmode?o:l,u=[l,c],d=!1,p=0;p<a.length;p++)for(var h=a[p],g=0;g<h.length;g++){var v=h[g];if(v.s!==b){var x=Math.abs(o/n.get(v.p,v.s));v.b*=x,v.s*=x;var w=v.b,T=w+v.s;v[i]=T,r(T),v.hasB&&r(w)}}_.expand(e,u,{tozero:!0,padded:d})}function m(t){return t._id.charAt(0)}var y=t("fast-isnumeric"),b=t("../../constants/numerical").BADNUM,x=t("../../registry"),_=t("../../plots/cartesian/axes"),w=t("./sieve.js");e.exports=function(t,e){var n,a=e.xaxis,i=e.yaxis,o=t._fullData,s=t.calcdata,l=[],c=[];for(n=0;n<o.length;n++){var u=o[n];!0===u.visible&&x.traceIs(u,"bar")&&u.xaxis===a._id&&u.yaxis===i._id&&("h"===u.orientation?l.push(s[n]):c.push(s[n]))}r(t,a,i,c),r(t,i,a,l)}},{"../../constants/numerical":133,"../../plots/cartesian/axes":189,"../../registry":225,"./sieve.js":245,"fast-isnumeric":10}],245:[function(t,e,n){"use strict";function r(t,e,n){this.traces=t,this.separateNegativeValues=e,this.dontMergeOverlappingData=n;for(var r=1/0,o=[],s=0;s<t.length;s++){for(var l=t[s],c=0;c<l.length;c++){var u=l[c];u.p!==i&&o.push(u.p)}l[0]&&l[0].width1&&(r=Math.min(l[0].width1,r))}this.positions=o;var d=a.distinctVals(o);this.distinctPositions=d.vals,1===d.vals.length&&r!==1/0?this.minDiff=r:this.minDiff=Math.min(d.minDiff,r),this.binWidth=this.minDiff,this.bins={}}e.exports=r;var a=t("../../lib"),i=t("../../constants/numerical").BADNUM;r.prototype.put=function(t,e){var n=this.getLabel(t,e),r=this.bins[n]||0;return this.bins[n]=r+e,r},r.prototype.get=function(t,e){var n=this.getLabel(t,e);return this.bins[n]||0},r.prototype.getLabel=function(t,e){return(e<0&&this.separateNegativeValues?"v":"^")+(this.dontMergeOverlappingData?t:Math.round(t/this.binWidth))}},{"../../constants/numerical":133,"../../lib":149}],246:[function(t,e,n){"use strict";var r=t("d3"),a=t("../../components/color"),i=t("../../components/drawing"),o=t("../../components/errorbars");e.exports=function(t){var e=r.select(t).selectAll("g.trace.bars"),n=e.size(),s=t._fullLayout;e.style("opacity",function(t){return t[0].trace.opacity}).each(function(t){("stack"===s.barmode&&n>1||0===s.bargap&&0===s.bargroupgap&&!t[0].trace.marker.line.width)&&r.select(this).attr("shape-rendering","crispEdges")}),e.selectAll("g.points").each(function(t){var e=t[0].trace,n=e.marker,o=n.line,s=i.tryColorscale(n,""),l=i.tryColorscale(n,"line");r.select(this).selectAll("path").each(function(t){var e,i,c=(t.mlw+1||o.width+1)-1,u=r.select(this);e="mc"in t?t.mcc=s(t.mc):Array.isArray(n.color)?a.defaultLine:n.color,u.style("stroke-width",c+"px").call(a.fill,e),c&&(i="mlc"in t?t.mlcc=l(t.mlc):Array.isArray(o.color)?a.defaultLine:o.color,u.call(a.stroke,i))})}),e.call(o.style)}},{"../../components/color":34,"../../components/drawing":58,"../../components/errorbars":64,d3:7}],247:[function(t,e,n){"use strict";var r=t("../../components/color"),a=t("../../components/colorscale/has_colorscale"),i=t("../../components/colorscale/defaults");e.exports=function(t,e,n,o,s){n("marker.color",o),a(t,"marker")&&i(t,e,s,n,{prefix:"marker.",cLetter:"c"}),n("marker.line.color",r.defaultLine),a(t,"marker.line")&&i(t,e,s,n,{prefix:"marker.line.",cLetter:"c"}),n("marker.line.width")}},{"../../components/color":34,"../../components/colorscale/defaults":43,"../../components/colorscale/has_colorscale":47}],248:[function(t,e,n){"use strict";var r=t("../../components/color/attributes"),a=t("../../plots/font_attributes"),i=t("../../plots/attributes"),o=t("../../lib/extend").extendFlat,s=a({editType:"calc",colorEditType:"style"});e.exports={labels:{valType:"data_array",editType:"calc"},label0:{valType:"number",dflt:0,editType:"calc"},dlabel:{valType:"number",dflt:1,editType:"calc"},values:{valType:"data_array",editType:"calc"},marker:{colors:{valType:"data_array",editType:"calc"},line:{color:{valType:"color",dflt:r.defaultLine,arrayOk:!0,editType:"style"},width:{valType:"number",min:0,dflt:0,arrayOk:!0,editType:"style"},editType:"calc"},editType:"calc"},text:{valType:"data_array",editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},scalegroup:{valType:"string",dflt:"",editType:"calc"},textinfo:{valType:"flaglist",flags:["label","text","value","percent"],extras:["none"],editType:"calc"},hoverinfo:o({},i.hoverinfo,{flags:["label","text","value","percent","name"]}),textposition:{valType:"enumerated",values:["inside","outside","auto","none"],dflt:"auto",arrayOk:!0,editType:"calc"},textfont:o({},s,{}),insidetextfont:o({},s,{}),outsidetextfont:o({},s,{}),domain:{x:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"calc"},{valType:"number",min:0,max:1,editType:"calc"}],dflt:[0,1],editType:"calc"},y:{valType:"info_array",items:[{valType:"number",min:0,max:1,editType:"calc"},{valType:"number",min:0,max:1,editType:"calc"}],dflt:[0,1],editType:"calc"},editType:"calc"},hole:{valType:"number",min:0,max:1,dflt:0,editType:"calc"},sort:{valType:"boolean",dflt:!0,editType:"calc"},direction:{valType:"enumerated",values:["clockwise","counterclockwise"],dflt:"counterclockwise",editType:"calc"},rotation:{valType:"number",min:-360,max:360,dflt:0,editType:"calc"},pull:{valType:"number",min:0,max:1,dflt:0,arrayOk:!0,editType:"calc"}}},{"../../components/color/attributes":33,"../../lib/extend":143,"../../plots/attributes":187,"../../plots/font_attributes":213}],249:[function(t,e,n){"use strict";function r(t,e){for(var n=[],r=0;r<t.length;r++){var a=t[r],i=a[0].trace;i._module===e&&!0===i.visible&&n.push(a)}return n}var a=t("../../registry");n.name="pie",n.plot=function(t){var e=a.getModule("pie"),n=r(t.calcdata,e);n.length&&e.plot(t,n)},n.clean=function(t,e,n,r){var a=r._has&&r._has("pie"),i=e._has&&e._has("pie");a&&!i&&r._pielayer.selectAll("g.trace").remove()}},{"../../registry":225}],250:[function(t,e,n){"use strict";function r(t){if(!l){var e=o.defaults;l=e.slice();var n;for(n=0;n<e.length;n++)l.push(i(e[n]).lighten(20).toHexString());for(n=0;n<o.defaults.length;n++)l.push(i(e[n]).darken(20).toHexString())}return l[t%l.length]}var a=t("fast-isnumeric"),i=t("tinycolor2"),o=t("../../components/color"),s=t("./helpers");e.exports=function(t,e){var n,l,c,u,d,f,p=e.values,h=e.labels,g=[],v=t._fullLayout,m=v._piecolormap,y={},b=!1,x=0,_=v.hiddenlabels||[];if(e.dlabel)for(h=new Array(p.length),n=0;n<p.length;n++)h[n]=String(e.label0+n*e.dlabel);for(n=0;n<p.length;n++)l=p[n],a(l)&&((l=+l)<0||(c=h[n],void 0!==c&&""!==c||(c=n),c=String(c),void 0===y[c]&&(y[c]=!0,u=i(e.marker.colors[n]),u.isValid()?(u=o.addOpacity(u,u.getAlpha()),m[c]||(m[c]=u)):m[c]?u=m[c]:(u=!1,b=!0),d=-1!==_.indexOf(c),d||(x+=l),g.push({v:l,label:c,color:u,i:n,hidden:d}))));if(e.sort&&g.sort(function(t,e){return e.v-t.v}),b)for(n=0;n<g.length;n++)f=g[n],!1===f.color&&(m[f.label]=f.color=r(v._piedefaultcolorcount),v._piedefaultcolorcount++);if(g[0]&&(g[0].vTotal=x),e.textinfo&&"none"!==e.textinfo){var w,T=-1!==e.textinfo.indexOf("label"),k=-1!==e.textinfo.indexOf("text"),A=-1!==e.textinfo.indexOf("value"),M=-1!==e.textinfo.indexOf("percent"),C=v.separators;for(n=0;n<g.length;n++)f=g[n],w=T?[f.label]:[],k&&e.text[f.i]&&w.push(e.text[f.i]),A&&w.push(s.formatPieValue(f.v,C)),M&&w.push(s.formatPiePercent(f.v/x,C)),f.text=w.join("<br>")}return g};var l},{"../../components/color":34,"./helpers":252,"fast-isnumeric":10,tinycolor2:16}],251:[function(t,e,n){"use strict";var r=t("../../lib"),a=t("./attributes");e.exports=function(t,e,n,i){function o(n,i){return r.coerce(t,e,a,n,i)}var s=r.coerceFont,l=o("values");if(!Array.isArray(l)||!l.length)return void(e.visible=!1);var c=o("labels");Array.isArray(c)||(o("label0"),o("dlabel")),o("marker.line.width")&&o("marker.line.color");var u=o("marker.colors");Array.isArray(u)||(e.marker.colors=[]),o("scalegroup");var d=o("text"),f=o("textinfo",Array.isArray(d)?"text+percent":"percent");if(o("hovertext"),f&&"none"!==f){var p=o("textposition"),h=Array.isArray(p)||"auto"===p,g=h||"inside"===p,v=h||"outside"===p;if(g||v){var m=s(o,"textfont",i.font);g&&s(o,"insidetextfont",m),v&&s(o,"outsidetextfont",m)}}o("domain.x"),o("domain.y"),o("hole"),o("sort"),o("direction"),o("rotation"),o("pull")}},{"../../lib":149,"./attributes":248}],252:[function(t,e,n){"use strict";var r=t("../../lib");n.formatPiePercent=function(t,e){var n=(100*t).toPrecision(3);return-1!==n.lastIndexOf(".")&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,e)+"%"},n.formatPieValue=function(t,e){var n=t.toPrecision(10);return-1!==n.lastIndexOf(".")&&(n=n.replace(/[.]?0+$/,"")),r.numSeparate(n,e)}},{"../../lib":149}],253:[function(t,e,n){"use strict";var r={};r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.supplyLayoutDefaults=t("./layout_defaults"),r.layoutAttributes=t("./layout_attributes"),r.calc=t("./calc"),r.plot=t("./plot"),r.style=t("./style"),r.styleOne=t("./style_one"),r.moduleType="trace",r.name="pie",r.basePlotModule=t("./base_plot"),r.categories=["pie","showLegend"],r.meta={},e.exports=r},{"./attributes":248,"./base_plot":249,"./calc":250,"./defaults":251,"./layout_attributes":254,"./layout_defaults":255,"./plot":256,"./style":257,"./style_one":258}],254:[function(t,e,n){"use strict";e.exports={hiddenlabels:{valType:"data_array",editType:"calc"}}},{}],255:[function(t,e,n){"use strict";var r=t("../../lib"),a=t("./layout_attributes");e.exports=function(t,e){!function(n,i){r.coerce(t,e,a,"hiddenlabels",void 0)}()}},{"../../lib":149,"./layout_attributes":254}],256:[function(t,e,n){"use strict";function r(t,e,n){var r=Math.sqrt(t.width*t.width+t.height*t.height),i=t.width/t.height,o=Math.PI*Math.min(e.v/n.vTotal,.5),s=1-n.trace.hole,l=a(e,n),c={scale:l*n.r*2/r,rCenter:1-l,rotate:0};if(c.scale>=1)return c;var u=i+1/(2*Math.tan(o)),d=n.r*Math.min(1/(Math.sqrt(u*u+.5)+u),s/(Math.sqrt(i*i+s/2)+i)),f={scale:2*d/t.height,rCenter:Math.cos(d/n.r)-d*i/n.r,rotate:(180/Math.PI*e.midangle+720)%180-90},p=1/i,h=p+1/(2*Math.tan(o)),g=n.r*Math.min(1/(Math.sqrt(h*h+.5)+h),s/(Math.sqrt(p*p+s/2)+p)),v={scale:2*g/t.width,rCenter:Math.cos(g/n.r)-g/i/n.r,rotate:(180/Math.PI*e.midangle+810)%180-90},m=v.scale>f.scale?v:f;return c.scale<1&&m.scale>c.scale?m:c}function a(t,e){if(t.v===e.vTotal&&!e.trace.hole)return 1;var n=Math.PI*Math.min(t.v/e.vTotal,.5);return Math.min(1/(1+1/Math.sin(n)),(1-e.trace.hole)/2)}function i(t,e){var n=e.pxmid[0],r=e.pxmid[1],a=t.width/2,i=t.height/2;return n<0&&(a*=-1),r<0&&(i*=-1),{scale:1,rCenter:1,rotate:0,x:a+Math.abs(i)*(a>0?1:-1)/2,y:i/(1+n*n/(r*r)),outside:!0}}function o(t,e){function n(t,e){return t.pxmid[1]-e.pxmid[1]}function r(t,e){return e.pxmid[1]-t.pxmid[1]}var a,i,o,s,l,c,u,d,f,p,h,g,v;for(i=0;i<2;i++)for(o=i?n:r,l=i?Math.max:Math.min,u=i?1:-1,a=0;a<2;a++){for(s=a?Math.max:Math.min,c=a?1:-1,d=t[i][a],d.sort(o),f=t[1-i][a],p=f.concat(d),g=[],h=0;h<d.length;h++)void 0!==d[h].yLabelMid&&g.push(d[h]);for(v=!1,h=0;i&&h<f.length;h++)if(void 0!==f[h].yLabelMid){v=f[h];break}for(h=0;h<g.length;h++){var m=h&&g[h-1];v&&!h&&(m=v),function(t,n){n||(n={});var r,a,o,d,f,h,g=n.labelExtraY+(i?n.yLabelMax:n.yLabelMin),v=i?t.yLabelMin:t.yLabelMax,m=i?t.yLabelMax:t.yLabelMin,y=t.cyFinal+l(t.px0[1],t.px1[1]),b=g-v;if(b*u>0&&(t.labelExtraY=b),Array.isArray(e.pull))for(a=0;a<p.length;a++)(o=p[a])===t||(e.pull[t.i]||0)>=e.pull[o.i]||((t.pxmid[1]-o.pxmid[1])*u>0?(d=o.cyFinal+l(o.px0[1],o.px1[1]),(b=d-v-t.labelExtraY)*u>0&&(t.labelExtraY+=b)):(m+t.labelExtraY-y)*u>0&&(r=3*c*Math.abs(a-p.indexOf(t)),f=o.cxFinal+s(o.px0[0],o.px1[0]),(h=f+r-(t.cxFinal+t.pxmid[0])-t.labelExtraX)*c>0&&(t.labelExtraX+=h)))}(g[h],m)}}}function s(t,e){var n,r,a,i,o,s,l,u,d,f,p=[];for(a=0;a<t.length;a++){if(o=t[a][0],s=o.trace,n=e.w*(s.domain.x[1]-s.domain.x[0]),r=e.h*(s.domain.y[1]-s.domain.y[0]),l=s.tiltaxis*Math.PI/180,u=s.pull,Array.isArray(u))for(u=0,i=0;i<s.pull.length;i++)s.pull[i]>u&&(u=s.pull[i]);o.r=Math.min(n/c(s.tilt,Math.sin(l),s.depth),r/c(s.tilt,Math.cos(l),s.depth))/(2+2*u),o.cx=e.l+e.w*(s.domain.x[1]+s.domain.x[0])/2,o.cy=e.t+e.h*(2-s.domain.y[1]-s.domain.y[0])/2,s.scalegroup&&-1===p.indexOf(s.scalegroup)&&p.push(s.scalegroup)}for(i=0;i<p.length;i++){for(f=1/0,d=p[i],a=0;a<t.length;a++)o=t[a][0],o.trace.scalegroup===d&&(f=Math.min(f,o.r*o.r/o.vTotal));for(a=0;a<t.length;a++)o=t[a][0],o.trace.scalegroup===d&&(o.r=Math.sqrt(f*o.vTotal))}}function l(t){function e(t){var e=d.r*Math.sin(t),n=-d.r*Math.cos(t);return p?[e*(1-s*r*r)+n*o*s,e*o*s+n*(1-s*a*a),Math.sin(i)*(n*a-e*r)]:[e,n]}var n,r,a,i,o,s,l,c,u,d=t[0],f=d.trace,p=f.tilt,h=f.rotation*Math.PI/180,g=2*Math.PI/d.vTotal,v="px0",m="px1";if("counterclockwise"===f.direction){for(l=0;l<t.length&&t[l].hidden;l++);if(l===t.length)return;h+=g*t[l].v,g*=-1,v="px1",m="px0"}for(p&&(i=p*Math.PI/180,n=f.tiltaxis*Math.PI/180,o=Math.sin(n)*Math.cos(n),s=1-Math.cos(i),r=Math.sin(n),a=Math.cos(n)),u=e(h),l=0;l<t.length;l++)c=t[l],c.hidden||(c[v]=u,h+=g*c.v/2,c.pxmid=e(h),c.midangle=h,h+=g*c.v/2,u=e(h),c[m]=u,c.largeArc=c.v>d.vTotal/2?1:0)}function c(t,e,n){if(!t)return 1;var r=Math.sin(t*Math.PI/180);return Math.max(.01,n*r*Math.abs(e)+2*Math.sqrt(1-r*r*e*e))}var u=t("d3"),d=t("../../components/fx"),f=t("../../components/color"),p=t("../../components/drawing"),h=t("../../lib/svg_text_utils"),g=t("./helpers");e.exports=function(t,e){var n=t._fullLayout;s(e,n._size);var c=n._pielayer.selectAll("g.trace").data(e);c.enter().append("g").attr({"stroke-linejoin":"round",class:"trace"}),c.exit().remove(),c.order(),c.each(function(e){var s=u.select(this),c=e[0],v=c.trace,m=(v.depth||0)*c.r*Math.sin(0)/2,y=v.tiltaxis||0,b=y*Math.PI/180,x=[m*Math.sin(b),m*Math.cos(b)],_=c.r*Math.cos(0),w=s.selectAll("g.part").data(v.tilt?["top","sides"]:["top"]);w.enter().append("g").attr("class",function(t){return t+" part"}),w.exit().remove(),w.order(),l(e),s.selectAll(".top").each(function(){var s=u.select(this).selectAll("g.slice").data(e);s.enter().append("g").classed("slice",!0),s.exit().remove();var l=[[[],[]],[[],[]]],m=!1;s.each(function(e){function o(r){r.originalEvent=u.event;var i=t._fullLayout,o=t._fullData[v.index],s=d.castHoverinfo(o,i,e.i);if("all"===s&&(s="label+text+value+percent+name"),t._dragging||!1===i.hovermode||"none"===s||"skip"===s||!s)return void d.hover(t,r,"pie");var l=a(e,c),f=w+e.pxmid[0]*(1-l),p=T+e.pxmid[1]*(1-l),h=n.separators,m=[];-1!==s.indexOf("label")&&m.push(e.label),-1!==s.indexOf("text")&&(o.hovertext?m.push(Array.isArray(o.hovertext)?o.hovertext[e.i]:o.hovertext):o.text&&o.text[e.i]&&m.push(o.text[e.i])),-1!==s.indexOf("value")&&m.push(g.formatPieValue(e.v,h)),-1!==s.indexOf("percent")&&m.push(g.formatPiePercent(e.v/c.vTotal,h)),d.loneHover({x0:f-l*c.r,x1:f+l*c.r,y:p,text:m.join("<br>"),name:-1!==s.indexOf("name")?o.name:void 0,idealAlign:e.pxmid[0]<0?"left":"right",color:d.castHoverOption(v,e.i,"bgcolor")||e.color,borderColor:d.castHoverOption(v,e.i,"bordercolor"),fontFamily:d.castHoverOption(v,e.i,"font.family"),fontSize:d.castHoverOption(v,e.i,"font.size"),fontColor:d.castHoverOption(v,e.i,"font.color")},{container:i._hoverlayer.node(),outerContainer:i._paper.node(),gd:t}),d.hover(t,r,"pie"),M=!0}function s(e){e.originalEvent=u.event,t.emit("plotly_unhover",{event:u.event,points:[e]}),M&&(d.loneUnhover(n._hoverlayer.node()),M=!1)}function f(){t._hoverdata=[e],t._hoverdata.trace=c.trace,d.click(t,u.event)}function b(t,n,r,a){return"a"+a*c.r+","+a*_+" "+y+" "+e.largeArc+(r?" 1 ":" 0 ")+a*(n[0]-t[0])+","+a*(n[1]-t[1])}if(e.hidden)return void u.select(this).selectAll("path,g").remove();e.pointNumber=e.i,e.curveNumber=v.index,l[e.pxmid[1]<0?0:1][e.pxmid[0]<0?0:1].push(e);var w=c.cx+x[0],T=c.cy+x[1],k=u.select(this),A=k.selectAll("path.surface").data([e]),M=!1;if(A.enter().append("path").classed("surface",!0).style({"pointer-events":"all"}),k.select("path.textline").remove(),k.on("mouseover",o).on("mouseout",s).on("click",f),v.pull){var C=+(Array.isArray(v.pull)?v.pull[e.i]:v.pull)||0;C>0&&(w+=C*e.pxmid[0],T+=C*e.pxmid[1])}e.cxFinal=w,e.cyFinal=T;var S=v.hole;if(e.v===c.vTotal){var E="M"+(w+e.px0[0])+","+(T+e.px0[1])+b(e.px0,e.pxmid,!0,1)+b(e.pxmid,e.px0,!0,1)+"Z";S?A.attr("d","M"+(w+S*e.px0[0])+","+(T+S*e.px0[1])+b(e.px0,e.pxmid,!1,S)+b(e.pxmid,e.px0,!1,S)+"Z"+E):A.attr("d",E)}else{var L=b(e.px0,e.px1,!0,1);if(S){var O=1-S;A.attr("d","M"+(w+S*e.px1[0])+","+(T+S*e.px1[1])+b(e.px1,e.px0,!1,S)+"l"+O*e.px0[0]+","+O*e.px0[1]+L+"Z")}else A.attr("d","M"+w+","+T+"l"+e.px0[0]+","+e.px0[1]+L+"Z")}var D=Array.isArray(v.textposition)?v.textposition[e.i]:v.textposition,I=k.selectAll("g.slicetext").data(e.text&&"none"!==D?[0]:[]);I.enter().append("g").classed("slicetext",!0),I.exit().remove(),I.each(function(){var n=u.select(this).selectAll("text").data([0]);n.enter().append("text").attr("data-notex",1),n.exit().remove(),n.text(e.text).attr({class:"slicetext",transform:"","text-anchor":"middle"}).call(p.font,"outside"===D?v.outsidetextfont:v.insidetextfont).call(h.convertToTspans,t);var a,o=p.bBox(n.node());"outside"===D?a=i(o,e):(a=r(o,e,c),"auto"===D&&a.scale<1&&(n.call(p.font,v.outsidetextfont),v.outsidetextfont.family===v.insidetextfont.family&&v.outsidetextfont.size===v.insidetextfont.size||(o=p.bBox(n.node())),a=i(o,e)));var s=w+e.pxmid[0]*a.rCenter+(a.x||0),l=T+e.pxmid[1]*a.rCenter+(a.y||0);a.outside&&(e.yLabelMin=l-o.height/2,e.yLabelMid=l,e.yLabelMax=l+o.height/2,e.labelExtraX=0,e.labelExtraY=0,m=!0),n.attr("transform","translate("+s+","+l+")"+(a.scale<1?"scale("+a.scale+")":"")+(a.rotate?"rotate("+a.rotate+")":"")+"translate("+-(o.left+o.right)/2+","+-(o.top+o.bottom)/2+")")})}),m&&o(l,v),s.each(function(t){if(t.labelExtraX||t.labelExtraY){var e=u.select(this),n=e.select("g.slicetext text");n.attr("transform","translate("+t.labelExtraX+","+t.labelExtraY+")"+n.attr("transform"));var r=t.cxFinal+t.pxmid[0],a=t.cyFinal+t.pxmid[1],i="M"+r+","+a,o=(t.yLabelMax-t.yLabelMin)*(t.pxmid[0]<0?-1:1)/4;if(t.labelExtraX){var s=t.labelExtraX*t.pxmid[1]/t.pxmid[0],l=t.yLabelMid+t.labelExtraY-(t.cyFinal+t.pxmid[1]);Math.abs(s)>Math.abs(l)?i+="l"+l*t.pxmid[0]/t.pxmid[1]+","+l+"H"+(r+t.labelExtraX+o):i+="l"+t.labelExtraX+","+s+"v"+(l-s)+"h"+o}else i+="V"+(t.yLabelMid+t.labelExtraY)+"h"+o;e.append("path").classed("textline",!0).call(f.stroke,v.outsidetextfont.color).attr({"stroke-width":Math.min(2,v.outsidetextfont.size/8),d:i,fill:"none"})}})})}),setTimeout(function(){c.selectAll("tspan").each(function(){var t=u.select(this);t.attr("dy")&&t.attr("dy",t.attr("dy"))})},0)}},{"../../components/color":34,"../../components/drawing":58,"../../components/fx":75,"../../lib/svg_text_utils":169,"./helpers":252,d3:7}],257:[function(t,e,n){"use strict";var r=t("d3"),a=t("./style_one");e.exports=function(t){t._fullLayout._pielayer.selectAll(".trace").each(function(t){var e=t[0],n=e.trace,i=r.select(this);i.style({opacity:n.opacity}),i.selectAll(".top path.surface").each(function(t){r.select(this).call(a,t,n)})})}},{"./style_one":258,d3:7}],258:[function(t,e,n){"use strict";var r=t("../../components/color");e.exports=function(t,e,n){var a=n.marker.line.color;Array.isArray(a)&&(a=a[e.i]||r.defaultLine);var i=n.marker.line.width||0;Array.isArray(i)&&(i=i[e.i]||0),t.style({"stroke-width":i}).call(r.fill,e.color).call(r.stroke,a)}},{"../../components/color":34}],259:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e){for(var n=0;n<t.length;n++)t[n].i=n;r.mergeArray(e.text,t,"tx"),r.mergeArray(e.hovertext,t,"htx"),r.mergeArray(e.customdata,t,"data"),r.mergeArray(e.textposition,t,"tp"),e.textfont&&(r.mergeArray(e.textfont.size,t,"ts"),r.mergeArray(e.textfont.color,t,"tc"),r.mergeArray(e.textfont.family,t,"tf"));var a=e.marker;if(a){r.mergeArray(a.size,t,"ms"),r.mergeArray(a.opacity,t,"mo"),r.mergeArray(a.symbol,t,"mx"),r.mergeArray(a.color,t,"mc");var i=a.line;a.line&&(r.mergeArray(i.color,t,"mlc"),r.mergeArray(i.width,t,"mlw"));var o=a.gradient;o&&"none"!==o.type&&(r.mergeArray(o.type,t,"mgt"),r.mergeArray(o.color,t,"mgc"))}}},{"../../lib":149}],260:[function(t,e,n){"use strict";var r=t("../../components/colorscale/color_attributes"),a=t("../../components/errorbars/attributes"),i=t("../../components/colorbar/attributes"),o=t("../../plots/font_attributes"),s=t("../../components/drawing/attributes").dash,l=t("../../components/drawing"),c=(t("./constants"),t("../../lib/extend").extendFlat);e.exports={x:{valType:"data_array",editType:"calc+clearAxisTypes"},x0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dx:{valType:"number",dflt:1,editType:"calc"},y:{valType:"data_array",editType:"calc+clearAxisTypes"},y0:{valType:"any",dflt:0,editType:"calc+clearAxisTypes"},dy:{valType:"number",dflt:1,editType:"calc"},text:{valType:"string",dflt:"",arrayOk:!0,editType:"calc"},hovertext:{valType:"string",dflt:"",arrayOk:!0,editType:"style"},mode:{valType:"flaglist",flags:["lines","markers","text"],extras:["none"],editType:"calc"},hoveron:{valType:"flaglist",flags:["points","fills"],editType:"style"},line:{color:{valType:"color",editType:"style"},width:{valType:"number",min:0,dflt:2,editType:"style"},shape:{valType:"enumerated",values:["linear","spline","hv","vh","hvh","vhv"],dflt:"linear",editType:"plot"},smoothing:{valType:"number",min:0,max:1.3,dflt:1,editType:"plot"},dash:c({},s,{editType:"style"}),simplify:{valType:"boolean",dflt:!0,editType:"plot"},editType:"plot"},connectgaps:{valType:"boolean",dflt:!1,editType:"calc"},cliponaxis:{valType:"boolean",dflt:!0,editType:"plot"},fill:{valType:"enumerated",values:["none","tozeroy","tozerox","tonexty","tonextx","toself","tonext"],dflt:"none",editType:"calc"},fillcolor:{valType:"color",editType:"style"},marker:c({symbol:{valType:"enumerated",values:l.symbolList,dflt:"circle",arrayOk:!0,editType:"style"},opacity:{valType:"number",min:0,max:1,arrayOk:!0,editType:"style"},size:{valType:"number",min:0,dflt:6,arrayOk:!0,editType:"calcIfAutorange"},maxdisplayed:{valType:"number",min:0,dflt:0,editType:"plot"},sizeref:{valType:"number",dflt:1,editType:"calc"},sizemin:{valType:"number",min:0,dflt:0,editType:"calc"},sizemode:{valType:"enumerated",values:["diameter","area"],dflt:"diameter",editType:"calc"},showscale:{valType:"boolean",dflt:!1,editType:"calc"},colorbar:i,line:c({width:{valType:"number",min:0,arrayOk:!0,editType:"style"},editType:"calc"},r("marker.line")),gradient:{type:{valType:"enumerated",values:["radial","horizontal","vertical","none"],arrayOk:!0,dflt:"none",editType:"calc"},color:{valType:"color",arrayOk:!0,editType:"calc"},editType:"calc"},editType:"calc"},r("marker")),textposition:{valType:"enumerated",values:["top left","top center","top right","middle left","middle center","middle right","bottom left","bottom center","bottom right"],dflt:"middle center",arrayOk:!0,editType:"calc"},textfont:o({editType:"calc",colorEditType:"style",arrayOk:!0}),r:{valType:"data_array",editType:"calc"},t:{valType:"data_array",editType:"calc"},error_y:a,error_x:a}},{"../../components/colorbar/attributes":35,"../../components/colorscale/color_attributes":41,"../../components/drawing":58,"../../components/drawing/attributes":57,"../../components/errorbars/attributes":60,"../../lib/extend":143,"../../plots/font_attributes":213,"./constants":265}],261:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),a=t("../../plots/cartesian/axes"),i=t("../../constants/numerical").BADNUM,o=t("./subtypes"),s=t("./colorscale_calc"),l=t("./arrays_to_calcdata");e.exports=function(t,e){var n,c,u,d=a.getFromId(t,e.xaxis||"x"),f=a.getFromId(t,e.yaxis||"y"),p=d.makeCalcdata(e,"x"),h=f.makeCalcdata(e,"y"),g=Math.min(p.length,h.length);d._minDtick=0,f._minDtick=0,p.length>g&&p.splice(g,p.length-g),h.length>g&&h.splice(g,h.length-g);var v={padded:!0},m={padded:!0};if(o.hasMarkers(e)){if(n=e.marker,c=n.size,Array.isArray(c)){var y={type:"linear"};a.setConvert(y),c=y.makeCalcdata(e.marker,"size"),c.length>g&&c.splice(g,c.length-g)}var b,x=1.6*(e.marker.sizeref||1);b="area"===e.marker.sizemode?function(t){return Math.max(Math.sqrt((t||0)/x),3)}:function(t){return Math.max((t||0)/x,3)},v.ppad=m.ppad=Array.isArray(c)?c.map(b):b(c)}s(e),!("tozerox"===e.fill||"tonextx"===e.fill&&t.firstscatter)||p[0]===p[g-1]&&h[0]===h[g-1]?e.error_y.visible||-1===["tonexty","tozeroy"].indexOf(e.fill)&&(o.hasMarkers(e)||o.hasText(e))||(v.padded=!1,v.ppad=0):v.tozero=!0,!("tozeroy"===e.fill||"tonexty"===e.fill&&t.firstscatter)||p[0]===p[g-1]&&h[0]===h[g-1]?-1!==["tonextx","tozerox"].indexOf(e.fill)&&(m.padded=!1):m.tozero=!0,a.expand(d,p,v),a.expand(f,h,m);var _=new Array(g);for(u=0;u<g;u++)_[u]=r(p[u])&&r(h[u])?{x:p[u],y:h[u]}:{x:i,y:i},e.ids&&(_[u].id=String(e.ids[u]));return l(_,e),t.firstscatter=!1,_}},{"../../constants/numerical":133,"../../plots/cartesian/axes":189,"./arrays_to_calcdata":259,"./colorscale_calc":264,"./subtypes":281,"fast-isnumeric":10}],262:[function(t,e,n){"use strict";e.exports=function(t){for(var e=0;e<t.length;e++){var n=t[e];if("scatter"===n.type){var r=n.fill;if("none"!==r&&"toself"!==r&&(n.opacity=void 0,"tonexty"===r||"tonextx"===r))for(var a=e-1;a>=0;a--){var i=t[a];if("scatter"===i.type&&i.xaxis===n.xaxis&&i.yaxis===n.yaxis){i.opacity=void 0;break}}}}}},{}],263:[function(t,e,n){"use strict";var r=t("fast-isnumeric"),a=t("../../lib"),i=t("../../plots/plots"),o=t("../../components/colorscale"),s=t("../../components/colorbar/draw");e.exports=function(t,e){var n=e[0].trace,l=n.marker,c="cb"+n.uid;if(t._fullLayout._infolayer.selectAll("."+c).remove(),void 0===l||!l.showscale)return void i.autoMargin(t,c);var u=l.color,d=l.cmin,f=l.cmax;r(d)||(d=a.aggNums(Math.min,null,u)),r(f)||(f=a.aggNums(Math.max,null,u));var p=e[0].t.cb=s(t,c),h=o.makeColorScaleFunc(o.extractScale(l.colorscale,d,f),{noNumericCheck:!0});p.fillcolor(h).filllevels({start:d,end:f,size:(f-d)/254}).options(l.colorbar)()}},{"../../components/colorbar/draw":37,"../../components/colorscale":48,"../../lib":149,"../../plots/plots":218,"fast-isnumeric":10}],264:[function(t,e,n){"use strict";var r=t("../../components/colorscale/has_colorscale"),a=t("../../components/colorscale/calc"),i=t("./subtypes");e.exports=function(t){i.hasLines(t)&&r(t,"line")&&a(t,t.line.color,"line","c"),i.hasMarkers(t)&&(r(t,"marker")&&a(t,t.marker.color,"marker","c"),r(t,"marker.line")&&a(t,t.marker.line.color,"marker.line","c"))}},{"../../components/colorscale/calc":40,"../../components/colorscale/has_colorscale":47,"./subtypes":281}],265:[function(t,e,n){"use strict";e.exports={PTS_LINESONLY:20,minTolerance:.2,toleranceGrowth:10,maxScreensAway:20}},{}],266:[function(t,e,n){"use strict";var r=t("../../lib"),a=t("./attributes"),i=t("./constants"),o=t("./subtypes"),s=t("./xy_defaults"),l=t("./marker_defaults"),c=t("./line_defaults"),u=t("./line_shape_defaults"),d=t("./text_defaults"),f=t("./fillcolor_defaults"),p=t("../../components/errorbars/defaults");e.exports=function(t,e,n,h){function g(n,i){return r.coerce(t,e,a,n,i)}var v=s(t,e,h,g),m=v<i.PTS_LINESONLY?"lines+markers":"lines";if(!v)return void(e.visible=!1);g("text"),g("hovertext"),g("mode",m),o.hasLines(e)&&(c(t,e,n,h,g),u(t,e,g),g("connectgaps"),g("line.simplify")),o.hasMarkers(e)&&l(t,e,n,h,g,{gradient:!0}),o.hasText(e)&&d(t,e,h,g);var y=[];(o.hasMarkers(e)||o.hasText(e))&&(g("marker.maxdisplayed"),y.push("points")),g("fill"),"none"!==e.fill&&(f(t,e,n,g),o.hasLines(e)||u(t,e,g)),"tonext"!==e.fill&&"toself"!==e.fill||y.push("fills"),g("hoveron",y.join("+")||"points"),p(t,e,n,{axis:"y"}),p(t,e,n,{axis:"x",inherit:"y"}),g("cliponaxis")}},{"../../components/errorbars/defaults":63,"../../lib":149,"./attributes":260,"./constants":265,"./fillcolor_defaults":268,"./line_defaults":272,"./line_shape_defaults":274,"./marker_defaults":277,"./subtypes":281,"./text_defaults":282,"./xy_defaults":283}],267:[function(t,e,n){"use strict";function r(t){return t||0===t}var a=t("../../lib");e.exports=function(t,e,n){var i=Array.isArray(n)?function(t){n.push(t)}:function(t){n.text=t},o=a.extractOption(t,e,"htx","hovertext");if(r(o))return i(o);var s=a.extractOption(t,e,"tx","text");return r(s)?i(s):void 0}},{"../../lib":149}],268:[function(t,e,n){"use strict";var r=t("../../components/color");e.exports=function(t,e,n,a){var i=!1;if(e.marker){var o=e.marker.color,s=(e.marker.line||{}).color;o&&!Array.isArray(o)?i=o:s&&!Array.isArray(s)&&(i=s)}a("fillcolor",r.addOpacity((e.line||{}).color||i||n,.5))}},{"../../components/color":34}],269:[function(t,e,n){"use strict";var r=t("../../components/color"),a=t("./subtypes");e.exports=function(t,e){var n,i;if("lines"===t.mode)return n=t.line.color,n&&r.opacity(n)?n:t.fillcolor;if("none"===t.mode)return t.fill?t.fillcolor:"";var o=e.mcc||(t.marker||{}).color,s=e.mlcc||((t.marker||{}).line||{}).color;return i=o&&r.opacity(o)?o:s&&r.opacity(s)&&(e.mlw||((t.marker||{}).line||{}).width)?s:"",i?r.opacity(i)<.3?r.addOpacity(i,.3):i:(n=(t.line||{}).color,n&&r.opacity(n)&&a.hasLines(t)&&t.line.width?n:t.fillcolor)}},{"../../components/color":34,"./subtypes":281}],270:[function(t,e,n){"use strict";var r=t("../../lib"),a=t("../../components/fx"),i=t("../../components/errorbars"),o=t("./get_trace_color"),s=t("../../components/color"),l=t("./fill_hover_text"),c=a.constants.MAXDIST;e.exports=function(t,e,n,u){var d=t.cd,f=d[0].trace,p=t.xa,h=t.ya,g=p.c2p(e),v=h.c2p(n),m=[g,v],y=f.hoveron||"";if(-1!==y.indexOf("points")){var b=function(t){var e=Math.max(3,t.mrc||0);return Math.max(Math.abs(p.c2p(t.x)-g)-e,1-3/e)},x=function(t){var e=Math.max(3,t.mrc||0);return Math.max(Math.abs(h.c2p(t.y)-v)-e,1-3/e)},_=function(t){var e=Math.max(3,t.mrc||0),n=p.c2p(t.x)-g,r=h.c2p(t.y)-v;return Math.max(Math.sqrt(n*n+r*r)-e,1-3/e)},w=a.getDistanceFunction(u,b,x,_);if(a.getClosest(d,w,t),!1!==t.index){var T=d[t.index],k=p.c2p(T.x,!0),A=h.c2p(T.y,!0),M=T.mrc||1;return r.extendFlat(t,{color:o(f,T),x0:k-M,x1:k+M,xLabelVal:T.x,y0:A-M,y1:A+M,yLabelVal:T.y}),l(T,f,t),i.hoverInfo(T,f,t),[t]}}if(-1!==y.indexOf("fills")&&f._polygons){var C,S,E,L,O,D,I,P,N,z=f._polygons,R=[],F=!1,j=1/0,H=-1/0,B=1/0,V=-1/0;for(C=0;C<z.length;C++)E=z[C],E.contains(m)&&(F=!F,R.push(E),B=Math.min(B,E.ymin),V=Math.max(V,E.ymax));if(F){B=Math.max(B,0),V=Math.min(V,h._length);var q=(B+V)/2;for(C=0;C<R.length;C++)for(L=R[C].pts,S=1;S<L.length;S++)P=L[S-1][1],N=L[S][1],P>q!=N>=q&&(D=L[S-1][0],I=L[S][0],O=D+(I-D)*(q-P)/(N-P),j=Math.min(j,O),H=Math.max(H,O));j=Math.max(j,0),H=Math.min(H,p._length);var $=s.defaultLine;return s.opacity(f.fillcolor)?$=f.fillcolor:s.opacity((f.line||{}).color)&&($=f.line.color),r.extendFlat(t,{distance:c+10,x0:j,x1:H,y0:q,y1:q,color:$}),delete t.index,f.text&&!Array.isArray(f.text)?t.text=String(f.text):t.text=f.name,[t]}}}},{"../../components/color":34,"../../components/errorbars":64,"../../components/fx":75,"../../lib":149,"./fill_hover_text":267,"./get_trace_color":269}],271:[function(t,e,n){"use strict";var r={},a=t("./subtypes");r.hasLines=a.hasLines,r.hasMarkers=a.hasMarkers,r.hasText=a.hasText,r.isBubble=a.isBubble,r.attributes=t("./attributes"),r.supplyDefaults=t("./defaults"),r.cleanData=t("./clean_data"),r.calc=t("./calc"),r.arraysToCalcdata=t("./arrays_to_calcdata"),r.plot=t("./plot"),r.colorbar=t("./colorbar"),r.style=t("./style"),r.hoverPoints=t("./hover"),r.selectPoints=t("./select"),r.animatable=!0,r.moduleType="trace",r.name="scatter",r.basePlotModule=t("../../plots/cartesian"),r.categories=["cartesian","symbols","markerColorscale","errorBarsOK","showLegend","scatter-like"],r.meta={},e.exports=r},{"../../plots/cartesian":199,"./arrays_to_calcdata":259,"./attributes":260,"./calc":261,"./clean_data":262,"./colorbar":263,"./defaults":266,"./hover":270,"./plot":278,"./select":279,"./style":280,"./subtypes":281}],272:[function(t,e,n){"use strict";var r=t("../../components/colorscale/has_colorscale"),a=t("../../components/colorscale/defaults");e.exports=function(t,e,n,i,o,s){var l=(t.marker||{}).color;o("line.color",n),r(t,"line")?a(t,e,i,o,{prefix:"line.",cLetter:"c"}):o("line.color",!Array.isArray(l)&&l||n),o("line.width"),(s||{}).noDash||o("line.dash")}},{"../../components/colorscale/defaults":43,"../../components/colorscale/has_colorscale":47}],273:[function(t,e,n){"use strict"
;var r=t("../../constants/numerical").BADNUM,a=t("../../lib"),i=a.segmentsIntersect,o=a.constrain,s=t("./constants");e.exports=function(t,e){function n(e){var n=N.c2p(t[e].x),a=z.c2p(t[e].y);return n!==r&&a!==r&&[n,a]}function l(t){var e=t[0]/N._length,n=t[1]/z._length;return(1+s.toleranceGrowth*Math.max(0,-e,e-1,-n,n-1))*j}function c(t,e){var n=t[0]-e[0],r=t[1]-e[1];return Math.sqrt(n*n+r*r)}function u(t,e){for(var n=[],r=0,a=0;a<4;a++){var o=at[a],s=i(t[0],t[1],e[0],e[1],o[0],o[1],o[2],o[3]);s&&(!r||Math.abs(s.x-n[0][0])>1||Math.abs(s.y-n[0][1])>1)&&(s=[s.x,s.y],r&&c(s,t)<c(n[0],t)?n.unshift(s):n.push(s),r++)}return n}function d(t){if(t[0]<tt||t[0]>et||t[1]<nt||t[1]>rt)return[o(t[0],tt,et),o(t[1],nt,rt)]}function f(t,e){return t[0]===e[0]&&(t[0]===tt||t[0]===et)||t[1]===e[1]&&(t[1]===nt||t[1]===rt)||void 0}function p(t,e){var n=[],r=d(t),a=d(e);return r&&a&&f(r,a)?n:(r&&n.push(r),a&&n.push(a),n)}function h(t,e,n){return function(r,i){var o=d(r),s=d(i),l=[];if(o&&s&&f(o,s))return l;o&&l.push(o),s&&l.push(s);var c=2*a.constrain((r[t]+i[t])/2,e,n)-((o||r)[t]+(s||i)[t]);if(c){var u;u=o&&s?c>0==o[t]>s[t]?o:s:o||s,u[t]+=c}return l}}function g(t,e){var n=e[0]-t[0],r=(e[1]-t[1])/n;return(t[1]*e[0]-e[1]*t[0])/n>0?[r>0?tt:et,rt]:[r>0?et:tt,nt]}function v(t){var e=t[0],n=t[1],r=e===$[U-1][0],a=n===$[U-1][1];if(!r||!a)if(U>1){var i=e===$[U-2][0],o=n===$[U-2][1];r&&(e===tt||e===et)&&i?o?U--:$[U-1]=t:a&&(n===nt||n===rt)&&o?i?U--:$[U-1]=t:$[U++]=t}else $[U++]=t}function m(t){$[U-1][0]!==t[0]&&$[U-1][1]!==t[1]&&v([Y,X]),v(t),Z=null,Y=X=0}function y(t){if(W=t[0]<tt?tt:t[0]>et?et:0,G=t[1]<nt?nt:t[1]>rt?rt:0,W||G){if(U)if(Z){var e=K(Z,t);e.length>1&&(m(e[0]),$[U++]=e[1])}else Q=K($[U-1],t)[0],$[U++]=Q;else $[U++]=[W||t[0],G||t[1]];var n=$[U-1];W&&G&&(n[0]!==W||n[1]!==G)?(Z&&(Y!==W&&X!==G?v(Y&&X?g(Z,t):[Y||W,X||G]):Y&&X&&v([Y,X])),v([W,G])):Y-W&&X-G&&v([W||Y,G||X]),Z=t,Y=W,X=G}else Z&&m(K(Z,t)[0]),$[U++]=t}var b,x,_,w,T,k,A,M,C,S,E,L,O,D,I,P,N=e.xaxis,z=e.yaxis,R=e.simplify,F=e.connectGaps,j=e.baseTolerance,H=e.shape,B="linear"===H,V=[],q=s.minTolerance,$=new Array(t.length),U=0;R||(j=q=-1);var W,G,Y,X,Z,Q,K,J=s.maxScreensAway,tt=-N._length*J,et=N._length*(1+J),nt=-z._length*J,rt=z._length*(1+J),at=[[tt,nt,et,nt],[et,nt,et,rt],[et,rt,tt,rt],[tt,rt,tt,nt]];for("linear"===H||"spline"===H?K=u:"hv"===H||"vh"===H?K=p:"hvh"===H?K=h(0,tt,et):"vhv"===H&&(K=h(1,nt,rt)),b=0;b<t.length;b++)if(x=n(b)){for(U=0,Z=null,y(x),b++;b<t.length;b++){if(!(w=n(b))){if(F)continue;break}if(B){if(!((S=c(w,x))<l(w)*q)){for(M=[(w[0]-x[0])/S,(w[1]-x[1])/S],T=x,E=S,L=D=I=0,A=!1,_=w,b++;b<t.length;b++){if(!(k=n(b))){if(F)continue;break}if(C=[k[0]-x[0],k[1]-x[1]],P=C[0]*M[1]-C[1]*M[0],D=Math.min(D,P),(I=Math.max(I,P))-D>l(k))break;_=k,O=C[0]*M[0]+C[1]*M[1],O>E?(E=O,w=k,A=!1):O<L&&(L=O,T=k,A=!0)}if(A?(y(w),_!==T&&y(T)):(T!==x&&y(T),_!==w&&y(w)),y(_),b>=t.length||!k)break;y(k),x=k}}else y(w)}Z&&v([Y||Z[0],X||Z[1]]),V.push($.slice(0,U))}return V}},{"../../constants/numerical":133,"../../lib":149,"./constants":265}],274:[function(t,e,n){"use strict";e.exports=function(t,e,n){"spline"===n("line.shape")&&n("line.smoothing")}},{}],275:[function(t,e,n){"use strict";e.exports=function(t,e,n){for(var r,a,i=null,o=0;o<n.length;++o)r=n[o],a=r[0].trace,!0===a.visible?(a._nexttrace=null,-1!==["tonextx","tonexty","tonext"].indexOf(a.fill)&&(a._prevtrace=i,i&&(i._nexttrace=a)),i=a):a._prevtrace=a._nexttrace=null}},{}],276:[function(t,e,n){"use strict";var r=t("fast-isnumeric");e.exports=function(t){var e=t.marker,n=e.sizeref||1,a=e.sizemin||0,i="area"===e.sizemode?function(t){return Math.sqrt(t/n)}:function(t){return t/n};return function(t){var e=i(t/2);return r(e)&&e>0?Math.max(e,a):0}}},{"fast-isnumeric":10}],277:[function(t,e,n){"use strict";var r=t("../../components/color"),a=t("../../components/colorscale/has_colorscale"),i=t("../../components/colorscale/defaults"),o=t("./subtypes");e.exports=function(t,e,n,s,l,c){var u,d=o.isBubble(t),f=(t.line||{}).color;c=c||{},f&&(n=f),l("marker.symbol"),l("marker.opacity",d?.7:1),l("marker.size"),l("marker.color",n),a(t,"marker")&&i(t,e,s,l,{prefix:"marker.",cLetter:"c"}),c.noLine||(u=f&&!Array.isArray(f)&&e.marker.color!==f?f:d?r.background:r.defaultLine,l("marker.line.color",u),a(t,"marker.line")&&i(t,e,s,l,{prefix:"marker.line.",cLetter:"c"}),l("marker.line.width",d?1:0)),d&&(l("marker.sizeref"),l("marker.sizemin"),l("marker.sizemode")),c.gradient&&"none"!==l("marker.gradient.type")&&l("marker.gradient.color")}},{"../../components/color":34,"../../components/colorscale/defaults":43,"../../components/colorscale/has_colorscale":47,"./subtypes":281}],278:[function(t,e,n){"use strict";function r(t,e,n){var r;e.selectAll("g.trace").each(function(t){var e=o.select(this);if(r=t[0].trace,r._nexttrace){if(r._nextFill=e.select(".js-fill.js-tonext"),!r._nextFill.size()){var a=":first-child";e.select(".js-fill.js-tozero").size()&&(a+=" + *"),r._nextFill=e.insert("path",a).attr("class","js-fill js-tonext")}}else e.selectAll(".js-fill.js-tonext").remove(),r._nextFill=null;r.fill&&("tozero"===r.fill.substr(0,6)||"toself"===r.fill||"to"===r.fill.substr(0,2)&&!r._prevtrace)?(r._ownFill=e.select(".js-fill.js-tozero"),r._ownFill.size()||(r._ownFill=e.insert("path",":first-child").attr("class","js-fill js-tozero"))):(e.selectAll(".js-fill.js-tozero").remove(),r._ownFill=null),e.selectAll(".js-fill").call(l.setClipUrl,n.layerClipId)})}function a(t,e,n,r,a,f,h){function g(t){return T?t.transition():t}function v(t){return t.filter(function(t){return t.vis})}function m(t){return t.id}function y(t){if(t.ids)return m}function b(){return!1}function x(e){var r,a,i,c=e[0].trace,d=o.select(this),f=u.hasMarkers(c),p=u.hasText(c),h=y(c),m=b,x=b;f&&(m=c.marker.maxdisplayed||c._needsCull?v:s.identity),p&&(x=c.marker.maxdisplayed||c._needsCull?v:s.identity),a=d.selectAll("path.point"),r=a.data(m,h);var _=r.enter().append("path").classed("point",!0);T&&_.call(l.pointStyle,c,t).call(l.translatePoints,k,A).style("opacity",0).transition().style("opacity",1);var w=f&&l.tryColorscale(c.marker,""),M=f&&l.tryColorscale(c.marker,"line");r.order(),r.each(function(e){var r=o.select(this),a=g(r);i=l.translatePoint(e,a,k,A),i?(l.singlePointStyle(e,a,c,w,M,t),n.layerClipId&&l.hideOutsideRangePoint(e,a,k,A),c.customdata&&r.classed("plotly-customdata",null!==e.data&&void 0!==e.data)):a.remove()}),T?r.exit().transition().style("opacity",0).remove():r.exit().remove(),a=d.selectAll("g"),r=a.data(x,h),r.enter().append("g").classed("textpoint",!0).append("text"),r.order(),r.each(function(t){var e=o.select(this),r=g(e.select("text"));i=l.translatePoint(t,r,k,A),i?n.layerClipId&&l.hideOutsideRangePoint(t,e,k,A):e.remove()}),r.selectAll("text").call(l.textPointStyle,c,t).each(function(t){var e=k.c2p(t.x),n=A.c2p(t.y);o.select(this).selectAll("tspan.line").each(function(){g(o.select(this)).attr({x:e,y:n})})}),r.exit().remove()}var _,w;i(t,e,n,r,a);var T=!!h&&h.duration>0,k=n.xaxis,A=n.yaxis,M=r[0].trace,C=M.line,S=o.select(f);if(S.call(c.plot,n,h),!0===M.visible){g(S).style("opacity",M.opacity);var E,L,O=M.fill.charAt(M.fill.length-1);"x"!==O&&"y"!==O&&(O=""),r[0].node3=S;var D="",I=[],P=M._prevtrace;P&&(D=P._prevRevpath||"",L=P._nextFill,I=P._polygons);var N,z,R,F,j,H,B,V,q,$="",U="",W=[],G=s.noop;if(E=M._ownFill,u.hasLines(M)||"none"!==M.fill){for(L&&L.datum(r),-1!==["hv","vh","hvh","vhv"].indexOf(C.shape)?(R=l.steps(C.shape),F=l.steps(C.shape.split("").reverse().join(""))):R=F="spline"===C.shape?function(t){var e=t[t.length-1];return t.length>1&&t[0][0]===e[0]&&t[0][1]===e[1]?l.smoothclosed(t.slice(1),C.smoothing):l.smoothopen(t,C.smoothing)}:function(t){return"M"+t.join("L")},j=function(t){return F(t.reverse())},W=d(r,{xaxis:k,yaxis:A,connectGaps:M.connectgaps,baseTolerance:Math.max(C.width||1,3)/4,shape:C.shape,simplify:C.simplify}),q=M._polygons=new Array(W.length),w=0;w<W.length;w++)M._polygons[w]=p(W[w]);W.length&&(H=W[0][0],B=W[W.length-1],V=B[B.length-1]),G=function(t){return function(e){if(N=R(e),z=j(e),$?O?($+="L"+N.substr(1),U=z+"L"+U.substr(1)):($+="Z"+N,U=z+"Z"+U):($=N,U=z),u.hasLines(M)&&e.length>1){var n=o.select(this);if(n.datum(r),t)g(n.style("opacity",0).attr("d",N).call(l.lineGroupStyle)).style("opacity",1);else{var a=g(n);a.attr("d",N),l.singleLineStyle(r,a)}}}}}var Y=S.selectAll(".js-line").data(W);g(Y.exit()).style("opacity",0).remove(),Y.each(G(!1)),Y.enter().append("path").classed("js-line",!0).style("vector-effect","non-scaling-stroke").call(l.lineGroupStyle).each(G(!0)),l.setClipUrl(Y,n.layerClipId),W.length&&(E?H&&V&&(O?("y"===O?H[1]=V[1]=A.c2p(0,!0):"x"===O&&(H[0]=V[0]=k.c2p(0,!0)),g(E).attr("d","M"+V+"L"+H+"L"+$.substr(1)).call(l.singleFillStyle)):g(E).attr("d",$+"Z").call(l.singleFillStyle)):"tonext"===M.fill.substr(0,6)&&$&&D&&("tonext"===M.fill?g(L).attr("d",$+"Z"+D+"Z").call(l.singleFillStyle):g(L).attr("d",$+"L"+D.substr(1)+"Z").call(l.singleFillStyle),M._polygons=M._polygons.concat(I)),M._prevRevpath=U,M._prevPolygons=q);var X=S.selectAll(".points");_=X.data([r]),X.each(x),_.enter().append("g").classed("points",!0).each(x),_.exit().remove(),_.each(function(t){var e=!1===t[0].trace.cliponaxis;l.setClipUrl(o.select(this),e?null:n.layerClipId)})}}function i(t,e,n,r,a){var i=n.xaxis,l=n.yaxis,c=o.extent(s.simpleMap(i.range,i.r2c)),d=o.extent(s.simpleMap(l.range,l.r2c)),f=r[0].trace;if(u.hasMarkers(f)){var p=f.marker.maxdisplayed;if(0!==p){var h=r.filter(function(t){return t.x>=c[0]&&t.x<=c[1]&&t.y>=d[0]&&t.y<=d[1]}),g=Math.ceil(h.length/p),v=0;a.forEach(function(t,n){var r=t[0].trace;u.hasMarkers(r)&&r.marker.maxdisplayed>0&&n<e&&v++});var m=Math.round(v*g/3+Math.floor(v/3)*g/7.1);r.forEach(function(t){delete t.vis}),h.forEach(function(t,e){0===Math.round((e+m)%g)&&(t.vis=!0)})}}}var o=t("d3"),s=t("../../lib"),l=t("../../components/drawing"),c=t("../../components/errorbars"),u=t("./subtypes"),d=t("./line_points"),f=t("./link_traces"),p=t("../../lib/polygon").tester;e.exports=function(t,e,n,i,s){var l,c,u,d,p,h=e.plot.select("g.scatterlayer"),g=!i,v=!!i&&i.duration>0;for(u=h.selectAll("g.trace"),d=u.data(n,function(t){return t[0].trace.uid}),d.enter().append("g").attr("class",function(t){return"trace scatter trace"+t[0].trace.uid}).style("stroke-miterlimit",2),f(t,e,n),r(t,h,e),l=0,c={};l<n.length;l++)c[n[l][0].trace.uid]=l;h.selectAll("g.trace").sort(function(t,e){return c[t[0].trace.uid]>c[e[0].trace.uid]?1:-1}),v?(s&&(p=s()),o.transition().duration(i.duration).ease(i.easing).each("end",function(){p&&p()}).each("interrupt",function(){p&&p()}).each(function(){h.selectAll("g.trace").each(function(r,o){a(t,o,e,r,n,this,i)})})):h.selectAll("g.trace").each(function(r,o){a(t,o,e,r,n,this,i)}),g&&d.exit().remove(),h.selectAll("path:not([d])").remove()}},{"../../components/drawing":58,"../../components/errorbars":64,"../../lib":149,"../../lib/polygon":160,"./line_points":273,"./link_traces":275,"./subtypes":281,d3:7}],279:[function(t,e,n){"use strict";var r=t("./subtypes"),a=t("../../constants/interactions").DESELECTDIM;e.exports=function(t,e){var n,i,o,s,l=t.cd,c=t.xaxis,u=t.yaxis,d=[],f=l[0].trace,p=f.marker;if(!r.hasMarkers(f)&&!r.hasText(f))return[];var h=Array.isArray(p.opacity)?1:p.opacity;if(!1===e)for(n=0;n<l.length;n++)l[n].dim=0;else for(n=0;n<l.length;n++)i=l[n],o=c.c2p(i.x),s=u.c2p(i.y),e.contains([o,s])?(d.push({pointNumber:n,x:i.x,y:i.y}),i.dim=0):i.dim=1;return l[0].node3.selectAll("path.point").style("opacity",function(t){return((t.mo+1||h+1)-1)*(t.dim?a:1)}),l[0].node3.selectAll("text").style("opacity",function(t){return t.dim?a:1}),d}},{"../../constants/interactions":132,"./subtypes":281}],280:[function(t,e,n){"use strict";var r=t("d3"),a=t("../../components/drawing"),i=t("../../components/errorbars");e.exports=function(t){var e=r.select(t).selectAll("g.trace.scatter");e.style("opacity",function(t){return t[0].trace.opacity}),e.selectAll("g.points").each(function(e){var n=r.select(this),i=n.selectAll("path.point"),o=e.trace||e[0].trace;i.call(a.pointStyle,o,t),n.selectAll("text").call(a.textPointStyle,o,t)}),e.selectAll("g.trace path.js-line").call(a.lineGroupStyle),e.selectAll("g.trace path.js-fill").call(a.fillGroupStyle),e.call(i.style)}},{"../../components/drawing":58,"../../components/errorbars":64,d3:7}],281:[function(t,e,n){"use strict";var r=t("../../lib");e.exports={hasLines:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("lines")},hasMarkers:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("markers")},hasText:function(t){return t.visible&&t.mode&&-1!==t.mode.indexOf("text")},isBubble:function(t){return r.isPlainObject(t.marker)&&Array.isArray(t.marker.size)}}},{"../../lib":149}],282:[function(t,e,n){"use strict";var r=t("../../lib");e.exports=function(t,e,n,a){a("textposition"),r.coerceFont(a,"textfont",n.font)}},{"../../lib":149}],283:[function(t,e,n){"use strict";var r=t("../../registry");e.exports=function(t,e,n,a){var i,o=a("x"),s=a("y");if(r.getComponentMethod("calendars","handleTraceDefaults")(t,e,["x","y"],n),o)s?(i=Math.min(o.length,s.length),i<o.length&&(e.x=o.slice(0,i)),i<s.length&&(e.y=s.slice(0,i))):(i=o.length,a("y0"),a("dy"));else{if(!s)return 0;i=e.y.length,a("x0"),a("dx")}return i}},{"../../registry":225}]},{},[5])(5)}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");!function(t){var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(jQuery),function(){function t(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function e(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(t){function e(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function n(t){return(t[0]||t).nodeType}function r(){return{bindType:o.end,delegateType:o.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}}}function a(){if(window.QUnit)return!1;var t=document.createElement("bootstrap");for(var e in s)if(void 0!==t.style[e])return{end:s[e]};return!1}function i(e){var n=this,r=!1;return t(this).one(l.TRANSITION_END,function(){r=!0}),setTimeout(function(){r||l.triggerTransitionEnd(n)},e),this}var o=!1,s={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},l={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(e){var n=e.getAttribute("data-target");n&&"#"!==n||(n=e.getAttribute("href")||"");try{return t(n).length>0?n:null}catch(t){return null}},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(o.end)},supportsTransitionEnd:function(){return Boolean(o)},typeCheckConfig:function(t,r,a){for(var i in a)if(a.hasOwnProperty(i)){var o=a[i],s=r[i],l=s&&n(s)?"element":e(s);if(!new RegExp(o).test(l))throw new Error(t.toUpperCase()+': Option "'+i+'" provided type "'+l+'" but expected type "'+o+'".')}}};return function(){o=a(),t.fn.emulateTransitionEnd=i,l.supportsTransitionEnd()&&(t.event.special[l.TRANSITION_END]=r())}(),l}(jQuery),o=(function(t){var e="alert",r=t.fn[e],o={DISMISS:'[data-dismiss="alert"]'},s={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},l={ALERT:"alert",FADE:"fade",SHOW:"show"},c=function(){function e(t){n(this,e),this._element=t}return e.prototype.close=function(t){t=t||this._element;var e=this._getRootElement(t);this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},e.prototype.dispose=function(){t.removeData(this._element,"bs.alert"),this._element=null},e.prototype._getRootElement=function(e){var n=i.getSelectorFromElement(e),r=!1;return n&&(r=t(n)[0]),r||(r=t(e).closest("."+l.ALERT)[0]),r},e.prototype._triggerCloseEvent=function(e){var n=t.Event(s.CLOSE);return t(e).trigger(n),n},e.prototype._removeElement=function(e){var n=this;if(t(e).removeClass(l.SHOW),!i.supportsTransitionEnd()||!t(e).hasClass(l.FADE))return void this._destroyElement(e);t(e).one(i.TRANSITION_END,function(t){return n._destroyElement(e,t)}).emulateTransitionEnd(150)},e.prototype._destroyElement=function(e){t(e).detach().trigger(s.CLOSED).remove()},e._jQueryInterface=function(n){return this.each(function(){var r=t(this),a=r.data("bs.alert");a||(a=new e(this),r.data("bs.alert",a)),"close"===n&&a[n](this)})},e._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},a(e,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}}]),e}();t(document).on(s.CLICK_DATA_API,o.DISMISS,c._handleDismiss(new c)),t.fn[e]=c._jQueryInterface,t.fn[e].Constructor=c,t.fn[e].noConflict=function(){return t.fn[e]=r,c._jQueryInterface}}(jQuery),function(t){var e="button",r=t.fn[e],i={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},o={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:"input",ACTIVE:".active",BUTTON:".btn"},s={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},l=function(){function e(t){n(this,e),this._element=t}return e.prototype.toggle=function(){var e=!0,n=!0,r=t(this._element).closest(o.DATA_TOGGLE)[0];if(r){var a=t(this._element).find(o.INPUT)[0];if(a){if("radio"===a.type)if(a.checked&&t(this._element).hasClass(i.ACTIVE))e=!1;else{var s=t(r).find(o.ACTIVE)[0];s&&t(s).removeClass(i.ACTIVE)}if(e){if(a.hasAttribute("disabled")||r.hasAttribute("disabled")||a.classList.contains("disabled")||r.classList.contains("disabled"))return;a.checked=!t(this._element).hasClass(i.ACTIVE),t(a).trigger("change")}a.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!t(this._element).hasClass(i.ACTIVE)),e&&t(this._element).toggleClass(i.ACTIVE)},e.prototype.dispose=function(){t.removeData(this._element,"bs.button"),this._element=null},e._jQueryInterface=function(n){return this.each(function(){var r=t(this).data("bs.button");r||(r=new e(this),t(this).data("bs.button",r)),"toggle"===n&&r[n]()})},a(e,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}}]),e}();t(document).on(s.CLICK_DATA_API,o.DATA_TOGGLE_CARROT,function(e){e.preventDefault();var n=e.target;t(n).hasClass(i.BUTTON)||(n=t(n).closest(o.BUTTON)),l._jQueryInterface.call(t(n),"toggle")}).on(s.FOCUS_BLUR_DATA_API,o.DATA_TOGGLE_CARROT,function(e){var n=t(e.target).closest(o.BUTTON)[0];t(n).toggleClass(i.FOCUS,/^focus(in)?$/.test(e.type))}),t.fn[e]=l._jQueryInterface,t.fn[e].Constructor=l,t.fn[e].noConflict=function(){return t.fn[e]=r,l._jQueryInterface}}(jQuery),function(t){var e="carousel",o="bs.carousel",s="."+o,l=t.fn[e],c={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},u={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},d={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},f={SLIDE:"slide"+s,SLID:"slid"+s,KEYDOWN:"keydown"+s,MOUSEENTER:"mouseenter"+s,MOUSELEAVE:"mouseleave"+s,TOUCHEND:"touchend"+s,LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},p={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item"},h={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},g=function(){function l(e,r){n(this,l),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(r),this._element=t(e)[0],this._indicatorsElement=t(this._element).find(h.INDICATORS)[0],this._addEventListeners()}return l.prototype.next=function(){this._isSliding||this._slide(d.NEXT)},l.prototype.nextWhenVisible=function(){document.hidden||this.next()},l.prototype.prev=function(){this._isSliding||this._slide(d.PREV)},l.prototype.pause=function(e){e||(this._isPaused=!0),t(this._element).find(h.NEXT_PREV)[0]&&i.supportsTransitionEnd()&&(i.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},l.prototype.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},l.prototype.to=function(e){var n=this;this._activeElement=t(this._element).find(h.ACTIVE_ITEM)[0];var r=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0)){if(this._isSliding)return void t(this._element).one(f.SLID,function(){return n.to(e)});if(r===e)return this.pause(),void this.cycle();var a=e>r?d.NEXT:d.PREV;this._slide(a,this._items[e])}},l.prototype.dispose=function(){t(this._element).off(s),t.removeData(this._element,o),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},l.prototype._getConfig=function(n){return n=t.extend({},c,n),i.typeCheckConfig(e,n,u),n},l.prototype._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(f.KEYDOWN,function(t){return e._keydown(t)}),"hover"===this._config.pause&&(t(this._element).on(f.MOUSEENTER,function(t){return e.pause(t)}).on(f.MOUSELEAVE,function(t){return e.cycle(t)}),"ontouchstart"in document.documentElement&&t(this._element).on(f.TOUCHEND,function(){e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout(function(t){return e.cycle(t)},500+e._config.interval)}))},l.prototype._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next();break;default:return}},l.prototype._getItemIndex=function(e){return this._items=t.makeArray(t(e).parent().find(h.ITEM)),this._items.indexOf(e)},l.prototype._getItemByDirection=function(t,e){var n=t===d.NEXT,r=t===d.PREV,a=this._getItemIndex(e),i=this._items.length-1;if((r&&0===a||n&&a===i)&&!this._config.wrap)return e;var o=t===d.PREV?-1:1,s=(a+o)%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},l.prototype._triggerSlideEvent=function(e,n){var r=this._getItemIndex(e),a=this._getItemIndex(t(this._element).find(h.ACTIVE_ITEM)[0]),i=t.Event(f.SLIDE,{relatedTarget:e,direction:n,from:a,to:r});return t(this._element).trigger(i),i},l.prototype._setActiveIndicatorElement=function(e){if(this._indicatorsElement){t(this._indicatorsElement).find(h.ACTIVE).removeClass(p.ACTIVE);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&t(n).addClass(p.ACTIVE)}},l.prototype._slide=function(e,n){var r=this,a=t(this._element).find(h.ACTIVE_ITEM)[0],o=this._getItemIndex(a),s=n||a&&this._getItemByDirection(e,a),l=this._getItemIndex(s),c=Boolean(this._interval),u=void 0,g=void 0,v=void 0;if(e===d.NEXT?(u=p.LEFT,g=p.NEXT,v=d.LEFT):(u=p.RIGHT,g=p.PREV,v=d.RIGHT),s&&t(s).hasClass(p.ACTIVE))return void(this._isSliding=!1);if(!this._triggerSlideEvent(s,v).isDefaultPrevented()&&a&&s){this._isSliding=!0,c&&this.pause(),this._setActiveIndicatorElement(s);var m=t.Event(f.SLID,{relatedTarget:s,direction:v,from:o,to:l});i.supportsTransitionEnd()&&t(this._element).hasClass(p.SLIDE)?(t(s).addClass(g),i.reflow(s),t(a).addClass(u),t(s).addClass(u),t(a).one(i.TRANSITION_END,function(){t(s).removeClass(u+" "+g).addClass(p.ACTIVE),t(a).removeClass(p.ACTIVE+" "+g+" "+u),r._isSliding=!1,setTimeout(function(){return t(r._element).trigger(m)},0)}).emulateTransitionEnd(600)):(t(a).removeClass(p.ACTIVE),t(s).addClass(p.ACTIVE),this._isSliding=!1,t(this._element).trigger(m)),c&&this.cycle()}},l._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(o),a=t.extend({},c,t(this).data());"object"===(void 0===e?"undefined":r(e))&&t.extend(a,e);var i="string"==typeof e?e:a.slide;if(n||(n=new l(this,a),t(this).data(o,n)),"number"==typeof e)n.to(e);else if("string"==typeof i){if(void 0===n[i])throw new Error('No method named "'+i+'"');n[i]()}else a.interval&&(n.pause(),n.cycle())})},l._dataApiClickHandler=function(e){var n=i.getSelectorFromElement(this);if(n){var r=t(n)[0];if(r&&t(r).hasClass(p.CAROUSEL)){var a=t.extend({},t(r).data(),t(this).data()),s=this.getAttribute("data-slide-to");s&&(a.interval=!1),l._jQueryInterface.call(t(r),a),s&&t(r).data(o).to(s),e.preventDefault()}}},a(l,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}},{key:"Default",get:function(){return c}}]),l}();t(document).on(f.CLICK_DATA_API,h.DATA_SLIDE,g._dataApiClickHandler),t(window).on(f.LOAD_DATA_API,function(){t(h.DATA_RIDE).each(function(){var e=t(this);g._jQueryInterface.call(e,e.data())})}),t.fn[e]=g._jQueryInterface,t.fn[e].Constructor=g,t.fn[e].noConflict=function(){return t.fn[e]=l,g._jQueryInterface}}(jQuery),function(t){var e="collapse",o="bs.collapse",s=t.fn[e],l={toggle:!0,parent:""},c={toggle:"boolean",parent:"string"},u={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},d={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},f={WIDTH:"width",HEIGHT:"height"},p={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},h=function(){function s(e,r){n(this,s),this._isTransitioning=!1,this._element=e,this._config=this._getConfig(r),this._triggerArray=t.makeArray(t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var a=t(p.DATA_TOGGLE),o=0;o<a.length;o++){var l=a[o],c=i.getSelectorFromElement(l);null!==c&&t(c).filter(e).length>0&&this._triggerArray.push(l)}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}return s.prototype.toggle=function(){t(this._element).hasClass(d.SHOW)?this.hide():this.show()},s.prototype.show=function(){var e=this;if(!this._isTransitioning&&!t(this._element).hasClass(d.SHOW)){var n=void 0,r=void 0;if(this._parent&&(n=t.makeArray(t(this._parent).children().children(p.ACTIVES)),n.length||(n=null)),!(n&&(r=t(n).data(o))&&r._isTransitioning)){var a=t.Event(u.SHOW);if(t(this._element).trigger(a),!a.isDefaultPrevented()){n&&(s._jQueryInterface.call(t(n),"hide"),r||t(n).data(o,null));var l=this._getDimension();t(this._element).removeClass(d.COLLAPSE).addClass(d.COLLAPSING),this._element.style[l]=0,this._triggerArray.length&&t(this._triggerArray).removeClass(d.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var c=function(){t(e._element).removeClass(d.COLLAPSING).addClass(d.COLLAPSE).addClass(d.SHOW),e._element.style[l]="",e.setTransitioning(!1),t(e._element).trigger(u.SHOWN)};if(!i.supportsTransitionEnd())return void c();var f=l[0].toUpperCase()+l.slice(1),h="scroll"+f;t(this._element).one(i.TRANSITION_END,c).emulateTransitionEnd(600),this._element.style[l]=this._element[h]+"px"}}}},s.prototype.hide=function(){var e=this;if(!this._isTransitioning&&t(this._element).hasClass(d.SHOW)){var n=t.Event(u.HIDE);if(t(this._element).trigger(n),!n.isDefaultPrevented()){var r=this._getDimension();if(this._element.style[r]=this._element.getBoundingClientRect()[r]+"px",i.reflow(this._element),t(this._element).addClass(d.COLLAPSING).removeClass(d.COLLAPSE).removeClass(d.SHOW),this._triggerArray.length)for(var a=0;a<this._triggerArray.length;a++){var o=this._triggerArray[a],s=i.getSelectorFromElement(o);if(null!==s){var l=t(s);l.hasClass(d.SHOW)||t(o).addClass(d.COLLAPSED).attr("aria-expanded",!1)}}this.setTransitioning(!0);var c=function(){e.setTransitioning(!1),t(e._element).removeClass(d.COLLAPSING).addClass(d.COLLAPSE).trigger(u.HIDDEN)};if(this._element.style[r]="",!i.supportsTransitionEnd())return void c();t(this._element).one(i.TRANSITION_END,c).emulateTransitionEnd(600)}}},s.prototype.setTransitioning=function(t){this._isTransitioning=t},s.prototype.dispose=function(){t.removeData(this._element,o),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},s.prototype._getConfig=function(n){return n=t.extend({},l,n),n.toggle=Boolean(n.toggle),i.typeCheckConfig(e,n,c),n},s.prototype._getDimension=function(){return t(this._element).hasClass(f.WIDTH)?f.WIDTH:f.HEIGHT},s.prototype._getParent=function(){var e=this,n=t(this._config.parent)[0],r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return t(n).find(r).each(function(t,n){e._addAriaAndCollapsedClass(s._getTargetFromElement(n),[n])}),n},s.prototype._addAriaAndCollapsedClass=function(e,n){if(e){var r=t(e).hasClass(d.SHOW);n.length&&t(n).toggleClass(d.COLLAPSED,!r).attr("aria-expanded",r)}},s._getTargetFromElement=function(e){var n=i.getSelectorFromElement(e);return n?t(n)[0]:null},s._jQueryInterface=function(e){return this.each(function(){var n=t(this),a=n.data(o),i=t.extend({},l,n.data(),"object"===(void 0===e?"undefined":r(e))&&e);if(!a&&i.toggle&&/show|hide/.test(e)&&(i.toggle=!1),a||(a=new s(this,i),n.data(o,a)),"string"==typeof e){if(void 0===a[e])throw new Error('No method named "'+e+'"');a[e]()}})},a(s,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}},{key:"Default",get:function(){return l}}]),s}();t(document).on(u.CLICK_DATA_API,p.DATA_TOGGLE,function(e){/input|textarea/i.test(e.target.tagName)||e.preventDefault();var n=t(this),r=i.getSelectorFromElement(this);t(r).each(function(){var e=t(this),r=e.data(o),a=r?"toggle":n.data();h._jQueryInterface.call(e,a)})}),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=s,h._jQueryInterface}}(jQuery),function(t){if("undefined"==typeof Popper)throw new Error("Bootstrap dropdown require Popper.js (https://popper.js.org)");var e="dropdown",o="bs.dropdown",s="."+o,l=t.fn[e],c=new RegExp("38|40|27"),u={HIDE:"hide"+s,HIDDEN:"hidden"+s,SHOW:"show"+s,SHOWN:"shown"+s,CLICK:"click"+s,CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},d={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left"},f={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled)"},p={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end"},h={placement:p.BOTTOM,offset:0,flip:!0},g={placement:"string",offset:"(number|string)",flip:"boolean"},v=function(){function l(t,e){n(this,l),this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}return l.prototype.toggle=function(){if(!this._element.disabled&&!t(this._element).hasClass(d.DISABLED)){
var e=l._getParentFromElement(this._element),n=t(this._menu).hasClass(d.SHOW);if(l._clearMenus(),!n){var r={relatedTarget:this._element},a=t.Event(u.SHOW,r);if(t(e).trigger(a),!a.isDefaultPrevented()){var i=this._element;t(e).hasClass(d.DROPUP)&&(t(this._menu).hasClass(d.MENULEFT)||t(this._menu).hasClass(d.MENURIGHT))&&(i=e),this._popper=new Popper(i,this._menu,this._getPopperConfig()),"ontouchstart"in document.documentElement&&!t(e).closest(f.NAVBAR_NAV).length&&t("body").children().on("mouseover",null,t.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),t(this._menu).toggleClass(d.SHOW),t(e).toggleClass(d.SHOW).trigger(t.Event(u.SHOWN,r))}}}},l.prototype.dispose=function(){t.removeData(this._element,o),t(this._element).off(s),this._element=null,this._menu=null,null!==this._popper&&this._popper.destroy(),this._popper=null},l.prototype.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},l.prototype._addEventListeners=function(){var e=this;t(this._element).on(u.CLICK,function(t){t.preventDefault(),t.stopPropagation(),e.toggle()})},l.prototype._getConfig=function(n){var r=t(this._element).data();return void 0!==r.placement&&(r.placement=p[r.placement.toUpperCase()]),n=t.extend({},this.constructor.Default,t(this._element).data(),n),i.typeCheckConfig(e,n,this.constructor.DefaultType),n},l.prototype._getMenuElement=function(){if(!this._menu){var e=l._getParentFromElement(this._element);this._menu=t(e).find(f.MENU)[0]}return this._menu},l.prototype._getPlacement=function(){var e=t(this._element).parent(),n=this._config.placement;return e.hasClass(d.DROPUP)||this._config.placement===p.TOP?(n=p.TOP,t(this._menu).hasClass(d.MENURIGHT)&&(n=p.TOPEND)):t(this._menu).hasClass(d.MENURIGHT)&&(n=p.BOTTOMEND),n},l.prototype._detectNavbar=function(){return t(this._element).closest(".navbar").length>0},l.prototype._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:{offset:this._config.offset},flip:{enabled:this._config.flip}}};return this._inNavbar&&(t.modifiers.applyStyle={enabled:!this._inNavbar}),t},l._jQueryInterface=function(e){return this.each(function(){var n=t(this).data(o),a="object"===(void 0===e?"undefined":r(e))?e:null;if(n||(n=new l(this,a),t(this).data(o,n)),"string"==typeof e){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e]()}})},l._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var n=t.makeArray(t(f.DATA_TOGGLE)),r=0;r<n.length;r++){var a=l._getParentFromElement(n[r]),i=t(n[r]).data(o),s={relatedTarget:n[r]};if(i){var c=i._menu;if(t(a).hasClass(d.SHOW)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&t.contains(a,e.target))){var p=t.Event(u.HIDE,s);t(a).trigger(p),p.isDefaultPrevented()||("ontouchstart"in document.documentElement&&t("body").children().off("mouseover",null,t.noop),n[r].setAttribute("aria-expanded","false"),t(c).removeClass(d.SHOW),t(a).removeClass(d.SHOW).trigger(t.Event(u.HIDDEN,s)))}}}},l._getParentFromElement=function(e){var n=void 0,r=i.getSelectorFromElement(e);return r&&(n=t(r)[0]),n||e.parentNode},l._dataApiKeydownHandler=function(e){if(!(!c.test(e.which)||/button/i.test(e.target.tagName)&&32===e.which||/input|textarea/i.test(e.target.tagName)||(e.preventDefault(),e.stopPropagation(),this.disabled||t(this).hasClass(d.DISABLED)))){var n=l._getParentFromElement(this),r=t(n).hasClass(d.SHOW);if(!r&&(27!==e.which||32!==e.which)||r&&(27===e.which||32===e.which)){if(27===e.which){var a=t(n).find(f.DATA_TOGGLE)[0];t(a).trigger("focus")}return void t(this).trigger("click")}var i=t(n).find(f.VISIBLE_ITEMS).get();if(i.length){var o=i.indexOf(e.target);38===e.which&&o>0&&o--,40===e.which&&o<i.length-1&&o++,o<0&&(o=0),i[o].focus()}}},a(l,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}},{key:"Default",get:function(){return h}},{key:"DefaultType",get:function(){return g}}]),l}();t(document).on(u.KEYDOWN_DATA_API,f.DATA_TOGGLE,v._dataApiKeydownHandler).on(u.KEYDOWN_DATA_API,f.MENU,v._dataApiKeydownHandler).on(u.CLICK_DATA_API+" "+u.KEYUP_DATA_API,v._clearMenus).on(u.CLICK_DATA_API,f.DATA_TOGGLE,function(e){e.preventDefault(),e.stopPropagation(),v._jQueryInterface.call(t(this),"toggle")}).on(u.CLICK_DATA_API,f.FORM_CHILD,function(t){t.stopPropagation()}),t.fn[e]=v._jQueryInterface,t.fn[e].Constructor=v,t.fn[e].noConflict=function(){return t.fn[e]=l,v._jQueryInterface}}(jQuery),function(t){var e="modal",o=".bs.modal",s=t.fn[e],l={backdrop:!0,keyboard:!0,focus:!0,show:!0},c={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},u={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},d={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},f={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",NAVBAR_TOGGLER:".navbar-toggler"},p=function(){function s(e,r){n(this,s),this._config=this._getConfig(r),this._element=e,this._dialog=t(e).find(f.DIALOG)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._originalBodyPadding=0,this._scrollbarWidth=0}return s.prototype.toggle=function(t){return this._isShown?this.hide():this.show(t)},s.prototype.show=function(e){var n=this;if(!this._isTransitioning){i.supportsTransitionEnd()&&t(this._element).hasClass(d.FADE)&&(this._isTransitioning=!0);var r=t.Event(u.SHOW,{relatedTarget:e});t(this._element).trigger(r),this._isShown||r.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),t(document.body).addClass(d.OPEN),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(u.CLICK_DISMISS,f.DATA_DISMISS,function(t){return n.hide(t)}),t(this._dialog).on(u.MOUSEDOWN_DISMISS,function(){t(n._element).one(u.MOUSEUP_DISMISS,function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(e)}))}},s.prototype.hide=function(e){var n=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var r=i.supportsTransitionEnd()&&t(this._element).hasClass(d.FADE);r&&(this._isTransitioning=!0);var a=t.Event(u.HIDE);t(this._element).trigger(a),this._isShown&&!a.isDefaultPrevented()&&(this._isShown=!1,this._setEscapeEvent(),this._setResizeEvent(),t(document).off(u.FOCUSIN),t(this._element).removeClass(d.SHOW),t(this._element).off(u.CLICK_DISMISS),t(this._dialog).off(u.MOUSEDOWN_DISMISS),r?t(this._element).one(i.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(300):this._hideModal())}},s.prototype.dispose=function(){t.removeData(this._element,"bs.modal"),t(window,document,this._element,this._backdrop).off(o),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},s.prototype.handleUpdate=function(){this._adjustDialog()},s.prototype._getConfig=function(n){return n=t.extend({},l,n),i.typeCheckConfig(e,n,c),n},s.prototype._showElement=function(e){var n=this,r=i.supportsTransitionEnd()&&t(this._element).hasClass(d.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,r&&i.reflow(this._element),t(this._element).addClass(d.SHOW),this._config.focus&&this._enforceFocus();var a=t.Event(u.SHOWN,{relatedTarget:e}),o=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(a)};r?t(this._dialog).one(i.TRANSITION_END,o).emulateTransitionEnd(300):o()},s.prototype._enforceFocus=function(){var e=this;t(document).off(u.FOCUSIN).on(u.FOCUSIN,function(n){document===n.target||e._element===n.target||t(e._element).has(n.target).length||e._element.focus()})},s.prototype._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(u.KEYDOWN_DISMISS,function(t){27===t.which&&(t.preventDefault(),e.hide())}):this._isShown||t(this._element).off(u.KEYDOWN_DISMISS)},s.prototype._setResizeEvent=function(){var e=this;this._isShown?t(window).on(u.RESIZE,function(t){return e.handleUpdate(t)}):t(window).off(u.RESIZE)},s.prototype._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){t(document.body).removeClass(d.OPEN),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(u.HIDDEN)})},s.prototype._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},s.prototype._showBackdrop=function(e){var n=this,r=t(this._element).hasClass(d.FADE)?d.FADE:"";if(this._isShown&&this._config.backdrop){var a=i.supportsTransitionEnd()&&r;if(this._backdrop=document.createElement("div"),this._backdrop.className=d.BACKDROP,r&&t(this._backdrop).addClass(r),t(this._backdrop).appendTo(document.body),t(this._element).on(u.CLICK_DISMISS,function(t){if(n._ignoreBackdropClick)return void(n._ignoreBackdropClick=!1);t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())}),a&&i.reflow(this._backdrop),t(this._backdrop).addClass(d.SHOW),!e)return;if(!a)return void e();t(this._backdrop).one(i.TRANSITION_END,e).emulateTransitionEnd(150)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(d.SHOW);var o=function(){n._removeBackdrop(),e&&e()};i.supportsTransitionEnd()&&t(this._element).hasClass(d.FADE)?t(this._backdrop).one(i.TRANSITION_END,o).emulateTransitionEnd(150):o()}else e&&e()},s.prototype._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},s.prototype._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},s.prototype._checkScrollbar=function(){this._isBodyOverflowing=document.body.clientWidth<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},s.prototype._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){t(f.FIXED_CONTENT).each(function(n,r){var a=t(r)[0].style.paddingRight,i=t(r).css("padding-right");t(r).data("padding-right",a).css("padding-right",parseFloat(i)+e._scrollbarWidth+"px")}),t(f.NAVBAR_TOGGLER).each(function(n,r){var a=t(r)[0].style.marginRight,i=t(r).css("margin-right");t(r).data("margin-right",a).css("margin-right",parseFloat(i)+e._scrollbarWidth+"px")});var n=document.body.style.paddingRight,r=t("body").css("padding-right");t("body").data("padding-right",n).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}},s.prototype._resetScrollbar=function(){t(f.FIXED_CONTENT).each(function(e,n){var r=t(n).data("padding-right");void 0!==r&&t(n).css("padding-right",r).removeData("padding-right")}),t(f.NAVBAR_TOGGLER).each(function(e,n){var r=t(n).data("margin-right");void 0!==r&&t(n).css("margin-right",r).removeData("margin-right")});var e=t("body").data("padding-right");void 0!==e&&t("body").css("padding-right",e).removeData("padding-right")},s.prototype._getScrollbarWidth=function(){var t=document.createElement("div");t.className=d.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},s._jQueryInterface=function(e,n){return this.each(function(){var a=t(this).data("bs.modal"),i=t.extend({},s.Default,t(this).data(),"object"===(void 0===e?"undefined":r(e))&&e);if(a||(a=new s(this,i),t(this).data("bs.modal",a)),"string"==typeof e){if(void 0===a[e])throw new Error('No method named "'+e+'"');a[e](n)}else i.show&&a.show(n)})},a(s,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}},{key:"Default",get:function(){return l}}]),s}();t(document).on(u.CLICK_DATA_API,f.DATA_TOGGLE,function(e){var n=this,r=void 0,a=i.getSelectorFromElement(this);a&&(r=t(a)[0]);var o=t(r).data("bs.modal")?"toggle":t.extend({},t(r).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var s=t(r).one(u.SHOW,function(e){e.isDefaultPrevented()||s.one(u.HIDDEN,function(){t(n).is(":visible")&&n.focus()})});p._jQueryInterface.call(t(r),o,this)}),t.fn[e]=p._jQueryInterface,t.fn[e].Constructor=p,t.fn[e].noConflict=function(){return t.fn[e]=s,p._jQueryInterface}}(jQuery),function(t){var e="scrollspy",o=t.fn[e],s={offset:10,method:"auto",target:""},l={offset:"number",method:"string",target:"(string|element)"},c={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},u={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},d={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},f={OFFSET:"offset",POSITION:"position"},p=function(){function o(e,r){var a=this;n(this,o),this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(r),this._selector=this._config.target+" "+d.NAV_LINKS+","+this._config.target+" "+d.LIST_ITEMS+","+this._config.target+" "+d.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(c.SCROLL,function(t){return a._process(t)}),this.refresh(),this._process()}return o.prototype.refresh=function(){var e=this,n=this._scrollElement!==this._scrollElement.window?f.POSITION:f.OFFSET,r="auto"===this._config.method?n:this._config.method,a=r===f.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),t.makeArray(t(this._selector)).map(function(e){var n=void 0,o=i.getSelectorFromElement(e);if(o&&(n=t(o)[0]),n){var s=n.getBoundingClientRect();if(s.width||s.height)return[t(n)[r]().top+a,o]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(t){e._offsets.push(t[0]),e._targets.push(t[1])})},o.prototype.dispose=function(){t.removeData(this._element,"bs.scrollspy"),t(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},o.prototype._getConfig=function(n){if(n=t.extend({},s,n),"string"!=typeof n.target){var r=t(n.target).attr("id");r||(r=i.getUID(e),t(n.target).attr("id",r)),n.target="#"+r}return i.typeCheckConfig(e,n,l),n},o.prototype._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},o.prototype._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},o.prototype._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},o.prototype._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var r=this._targets[this._targets.length-1];return void(this._activeTarget!==r&&this._activate(r))}if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var a=this._offsets.length;a--;){this._activeTarget!==this._targets[a]&&t>=this._offsets[a]&&(void 0===this._offsets[a+1]||t<this._offsets[a+1])&&this._activate(this._targets[a])}},o.prototype._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(",");n=n.map(function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'});var r=t(n.join(","));r.hasClass(u.DROPDOWN_ITEM)?(r.closest(d.DROPDOWN).find(d.DROPDOWN_TOGGLE).addClass(u.ACTIVE),r.addClass(u.ACTIVE)):(r.addClass(u.ACTIVE),r.parents(d.NAV_LIST_GROUP).prev(d.NAV_LINKS+", "+d.LIST_ITEMS).addClass(u.ACTIVE)),t(this._scrollElement).trigger(c.ACTIVATE,{relatedTarget:e})},o.prototype._clear=function(){t(this._selector).filter(d.ACTIVE).removeClass(u.ACTIVE)},o._jQueryInterface=function(e){return this.each(function(){var n=t(this).data("bs.scrollspy"),a="object"===(void 0===e?"undefined":r(e))&&e;if(n||(n=new o(this,a),t(this).data("bs.scrollspy",n)),"string"==typeof e){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e]()}})},a(o,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}},{key:"Default",get:function(){return s}}]),o}();t(window).on(c.LOAD_DATA_API,function(){for(var e=t.makeArray(t(d.DATA_SPY)),n=e.length;n--;){var r=t(e[n]);p._jQueryInterface.call(r,r.data())}}),t.fn[e]=p._jQueryInterface,t.fn[e].Constructor=p,t.fn[e].noConflict=function(){return t.fn[e]=o,p._jQueryInterface}}(jQuery),function(t){var e=t.fn.tab,r={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},o={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},s={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},l=function(){function e(t){n(this,e),this._element=t}return e.prototype.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(o.ACTIVE)||t(this._element).hasClass(o.DISABLED))){var n=void 0,a=void 0,l=t(this._element).closest(s.NAV_LIST_GROUP)[0],c=i.getSelectorFromElement(this._element);l&&(a=t.makeArray(t(l).find(s.ACTIVE)),a=a[a.length-1]);var u=t.Event(r.HIDE,{relatedTarget:this._element}),d=t.Event(r.SHOW,{relatedTarget:a});if(a&&t(a).trigger(u),t(this._element).trigger(d),!d.isDefaultPrevented()&&!u.isDefaultPrevented()){c&&(n=t(c)[0]),this._activate(this._element,l);var f=function(){var n=t.Event(r.HIDDEN,{relatedTarget:e._element}),i=t.Event(r.SHOWN,{relatedTarget:a});t(a).trigger(n),t(e._element).trigger(i)};n?this._activate(n,n.parentNode,f):f()}}},e.prototype.dispose=function(){t.removeData(this._element,"bs.tab"),this._element=null},e.prototype._activate=function(e,n,r){var a=this,l=t(n).find(s.ACTIVE)[0],c=r&&i.supportsTransitionEnd()&&l&&t(l).hasClass(o.FADE),u=function(){return a._transitionComplete(e,l,c,r)};l&&c?t(l).one(i.TRANSITION_END,u).emulateTransitionEnd(150):u(),l&&t(l).removeClass(o.SHOW)},e.prototype._transitionComplete=function(e,n,r,a){if(n){t(n).removeClass(o.ACTIVE);var l=t(n.parentNode).find(s.DROPDOWN_ACTIVE_CHILD)[0];l&&t(l).removeClass(o.ACTIVE),n.setAttribute("aria-expanded",!1)}if(t(e).addClass(o.ACTIVE),e.setAttribute("aria-expanded",!0),r?(i.reflow(e),t(e).addClass(o.SHOW)):t(e).removeClass(o.FADE),e.parentNode&&t(e.parentNode).hasClass(o.DROPDOWN_MENU)){var c=t(e).closest(s.DROPDOWN)[0];c&&t(c).find(s.DROPDOWN_TOGGLE).addClass(o.ACTIVE),e.setAttribute("aria-expanded",!0)}a&&a()},e._jQueryInterface=function(n){return this.each(function(){var r=t(this),a=r.data("bs.tab");if(a||(a=new e(this),r.data("bs.tab",a)),"string"==typeof n){if(void 0===a[n])throw new Error('No method named "'+n+'"');a[n]()}})},a(e,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}}]),e}();t(document).on(r.CLICK_DATA_API,s.DATA_TOGGLE,function(e){e.preventDefault(),l._jQueryInterface.call(t(this),"show")}),t.fn.tab=l._jQueryInterface,t.fn.tab.Constructor=l,t.fn.tab.noConflict=function(){return t.fn.tab=e,l._jQueryInterface}}(jQuery),function(t){if("undefined"==typeof Popper)throw new Error("Bootstrap tooltips require Popper.js (https://popper.js.org)");var e="tooltip",o=".bs.tooltip",s=t.fn[e],l=new RegExp("(^|\\s)bs-tooltip\\S+","g"),c={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)"},u={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},d={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip"},f={SHOW:"show",OUT:"out"},p={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,INSERTED:"inserted"+o,CLICK:"click"+o,FOCUSIN:"focusin"+o,FOCUSOUT:"focusout"+o,MOUSEENTER:"mouseenter"+o,MOUSELEAVE:"mouseleave"+o},h={FADE:"fade",SHOW:"show"},g={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},v={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},m=function(){function s(t,e){n(this,s),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}return s.prototype.enable=function(){this._isEnabled=!0},s.prototype.disable=function(){this._isEnabled=!1},s.prototype.toggleEnabled=function(){this._isEnabled=!this._isEnabled},s.prototype.toggle=function(e){if(e){var n=this.constructor.DATA_KEY,r=t(e.currentTarget).data(n);r||(r=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,r)),r._activeTrigger.click=!r._activeTrigger.click,r._isWithActiveTrigger()?r._enter(null,r):r._leave(null,r)}else{if(t(this.getTipElement()).hasClass(h.SHOW))return void this._leave(null,this);this._enter(null,this)}},s.prototype.dispose=function(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},s.prototype.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var n=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(n);var r=t.contains(this.element.ownerDocument.documentElement,this.element);if(n.isDefaultPrevented()||!r)return;var a=this.getTipElement(),o=i.getUID(this.constructor.NAME);a.setAttribute("id",o),this.element.setAttribute("aria-describedby",o),this.setContent(),this.config.animation&&t(a).addClass(h.FADE);var l="function"==typeof this.config.placement?this.config.placement.call(this,a,this.element):this.config.placement,c=this._getAttachment(l);this.addAttachmentClass(c);var u=!1===this.config.container?document.body:t(this.config.container);t(a).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(a).appendTo(u),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new Popper(this.element,a,{placement:c,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:g.ARROW}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){e._handlePopperPlacementChange(t)}}),t(a).addClass(h.SHOW),"ontouchstart"in document.documentElement&&t("body").children().on("mouseover",null,t.noop);var d=function(){e.config.animation&&e._fixTransition();var n=e._hoverState;e._hoverState=null,t(e.element).trigger(e.constructor.Event.SHOWN),n===f.OUT&&e._leave(null,e)};i.supportsTransitionEnd()&&t(this.tip).hasClass(h.FADE)?t(this.tip).one(i.TRANSITION_END,d).emulateTransitionEnd(s._TRANSITION_DURATION):d()}},s.prototype.hide=function(e){var n=this,r=this.getTipElement(),a=t.Event(this.constructor.Event.HIDE),o=function(){n._hoverState!==f.SHOW&&r.parentNode&&r.parentNode.removeChild(r),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()};t(this.element).trigger(a),a.isDefaultPrevented()||(t(r).removeClass(h.SHOW),"ontouchstart"in document.documentElement&&t("body").children().off("mouseover",null,t.noop),this._activeTrigger[v.CLICK]=!1,this._activeTrigger[v.FOCUS]=!1,this._activeTrigger[v.HOVER]=!1,i.supportsTransitionEnd()&&t(this.tip).hasClass(h.FADE)?t(r).one(i.TRANSITION_END,o).emulateTransitionEnd(150):o(),this._hoverState="")},s.prototype.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},s.prototype.isWithContent=function(){return Boolean(this.getTitle())},s.prototype.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-tooltip-"+e)},s.prototype.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0]},s.prototype.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(g.TOOLTIP_INNER),this.getTitle()),e.removeClass(h.FADE+" "+h.SHOW)},s.prototype.setElementContent=function(e,n){var a=this.config.html;"object"===(void 0===n?"undefined":r(n))&&(n.nodeType||n.jquery)?a?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text()):e[a?"html":"text"](n)},s.prototype.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},s.prototype._getAttachment=function(t){return u[t.toUpperCase()]},s.prototype._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach(function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,function(t){return e.toggle(t)});else if(n!==v.MANUAL){var r=n===v.HOVER?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,a=n===v.HOVER?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(r,e.config.selector,function(t){return e._enter(t)}).on(a,e.config.selector,function(t){return e._leave(t)})}t(e.element).closest(".modal").on("hide.bs.modal",function(){return e.hide()})}),this.config.selector?this.config=t.extend({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},s.prototype._fixTitle=function(){var t=r(this.element.getAttribute("data-original-title"));(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},s.prototype._enter=function(e,n){var r=this.constructor.DATA_KEY;return n=n||t(e.currentTarget).data(r),n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(r,n)),e&&(n._activeTrigger["focusin"===e.type?v.FOCUS:v.HOVER]=!0),t(n.getTipElement()).hasClass(h.SHOW)||n._hoverState===f.SHOW?void(n._hoverState=f.SHOW):(clearTimeout(n._timeout),n._hoverState=f.SHOW,n.config.delay&&n.config.delay.show?void(n._timeout=setTimeout(function(){n._hoverState===f.SHOW&&n.show()},n.config.delay.show)):void n.show())},s.prototype._leave=function(e,n){var r=this.constructor.DATA_KEY;if(n=n||t(e.currentTarget).data(r),n||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(r,n)),e&&(n._activeTrigger["focusout"===e.type?v.FOCUS:v.HOVER]=!1),!n._isWithActiveTrigger()){if(clearTimeout(n._timeout),n._hoverState=f.OUT,!n.config.delay||!n.config.delay.hide)return void n.hide();n._timeout=setTimeout(function(){n._hoverState===f.OUT&&n.hide()},n.config.delay.hide)}},s.prototype._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},s.prototype._getConfig=function(n){return n=t.extend({},this.constructor.Default,t(this.element).data(),n),n.delay&&"number"==typeof n.delay&&(n.delay={show:n.delay,hide:n.delay}),n.title&&"number"==typeof n.title&&(n.title=n.title.toString()),n.content&&"number"==typeof n.content&&(n.content=n.content.toString()),i.typeCheckConfig(e,n,this.constructor.DefaultType),n},s.prototype._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},s.prototype._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(l);null!==n&&n.length>0&&e.removeClass(n.join(""))},s.prototype._handlePopperPlacementChange=function(t){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},s.prototype._fixTransition=function(){var e=this.getTipElement(),n=this.config.animation;null===e.getAttribute("x-placement")&&(t(e).removeClass(h.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},s._jQueryInterface=function(e){return this.each(function(){var n=t(this).data("bs.tooltip"),a="object"===(void 0===e?"undefined":r(e))&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new s(this,a),t(this).data("bs.tooltip",n)),"string"==typeof e)){if(void 0===n[e])throw new Error('No method named "'+e+'"');n[e]()}})},a(s,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}},{key:"Default",get:function(){return d}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return p}},{key:"EVENT_KEY",get:function(){return o}},{key:"DefaultType",get:function(){return c}}]),s}();return t.fn[e]=m._jQueryInterface,t.fn[e].Constructor=m,t.fn[e].noConflict=function(){return t.fn[e]=s,m._jQueryInterface},m}(jQuery));!function(i){var s="popover",l=".bs.popover",c=i.fn[s],u=new RegExp("(^|\\s)bs-popover\\S+","g"),d=i.extend({},o.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),f=i.extend({},o.DefaultType,{content:"(string|element|function)"}),p={FADE:"fade",SHOW:"show"},h={TITLE:".popover-header",CONTENT:".popover-body"},g={HIDE:"hide"+l,HIDDEN:"hidden"+l,SHOW:"show"+l,SHOWN:"shown"+l,INSERTED:"inserted"+l,CLICK:"click"+l,FOCUSIN:"focusin"+l,FOCUSOUT:"focusout"+l,MOUSEENTER:"mouseenter"+l,MOUSELEAVE:"mouseleave"+l},v=function(o){function c(){return n(this,c),t(this,o.apply(this,arguments))}return e(c,o),c.prototype.isWithContent=function(){return this.getTitle()||this._getContent()},c.prototype.addAttachmentClass=function(t){i(this.getTipElement()).addClass("bs-popover-"+t)},c.prototype.getTipElement=function(){return this.tip=this.tip||i(this.config.template)[0]},c.prototype.setContent=function(){var t=i(this.getTipElement());this.setElementContent(t.find(h.TITLE),this.getTitle()),this.setElementContent(t.find(h.CONTENT),this._getContent()),t.removeClass(p.FADE+" "+p.SHOW)},c.prototype._getContent=function(){return this.element.getAttribute("data-content")||("function"==typeof this.config.content?this.config.content.call(this.element):this.config.content)},c.prototype._cleanTipClass=function(){var t=i(this.getTipElement()),e=t.attr("class").match(u);null!==e&&e.length>0&&t.removeClass(e.join(""))},c._jQueryInterface=function(t){return this.each(function(){var e=i(this).data("bs.popover"),n="object"===(void 0===t?"undefined":r(t))?t:null;if((e||!/destroy|hide/.test(t))&&(e||(e=new c(this,n),i(this).data("bs.popover",e)),"string"==typeof t)){if(void 0===e[t])throw new Error('No method named "'+t+'"');e[t]()}})},a(c,null,[{key:"VERSION",get:function(){return"4.0.0-beta"}},{key:"Default",get:function(){return d}},{key:"NAME",get:function(){return s}},{key:"DATA_KEY",get:function(){
return"bs.popover"}},{key:"Event",get:function(){return g}},{key:"EVENT_KEY",get:function(){return l}},{key:"DefaultType",get:function(){return f}}]),c}(o);i.fn[s]=v._jQueryInterface,i.fn[s].Constructor=v,i.fn[s].noConflict=function(){return i.fn[s]=c,v._jQueryInterface}}(jQuery)}(),function(t){var e={common:{init:function(){jQuery(function(t){t(function(){t.fn.matchHeight._throttle=80,t(".match-height").matchHeight()}),t(document).ajaxComplete(function(){t(".match-height").matchHeight("remove").matchHeight()})});var e,n;t("a[href*=\\#]:not([href=\\#])").on("click",function(r){if(location.pathname.replace(/^\//,"")===this.pathname.replace(/^\//,"")&&location.hostname===this.hostname&&(e=t(this.hash),e=e.length?e:t("[id="+this.hash.slice(1)+"]"),e.length)){if("string"!=typeof document.body.style.transitionProperty)return void t("html, body").animate({scrollTop:n},1e3);r.preventDefault();var a=t(document).height()-t(window).height();n=e.offset().top-60,n>a&&(n=a),t("html").css({"margin-top":t(window).scrollTop()-n+"px",transition:"1s ease-in-out"}).data("transitioning",!0)}}),t("html").on("transitionend webkitTransitionEnd msTransitionEnd oTransitionEnd",function(e){if(e.target===e.currentTarget&&!0===t(this).data("transitioning"))return t(this).removeAttr("style").data("transitioning",!1),void t("html, body").scrollTop(n)})},finalize:function(){}},home:{init:function(){},finalize:function(){}},about_us:{init:function(){}}},n={fire:function(t,n,r){var a,i=e;n=void 0===n?"init":n,a=""!==t,a=a&&i[t],(a=a&&"function"==typeof i[t][n])&&i[t][n](r)},loadEvents:function(){n.fire("common"),t.each(document.body.className.replace(/-/g,"_").split(/\s+/),function(t,e){n.fire(e),n.fire(e,"finalize")}),n.fire("common","finalize")}};t(document).ready(n.loadEvents)}(jQuery);
//# sourceMappingURL=main.js.map
